function _templateObject35(){var e=_taggedTemplateLiteral([":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":@@ngb.progressbar.value\u241f04d611d19c117c60c9e14d0a04399a027184bc77\u241f5214781723415385277:",":INTERPOLATION:%"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":@@ngb.carousel.next\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":@@ngb.carousel.previous\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":@@ngb.alert.close\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},crnd:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},fgPD:function(e,t,n){e.exports=function(){"use strict";var e=function(e,n){return t(e.slice(),n)};function t(e,t){"function"!=typeof t&&(t=function(e,t){return String(e).localeCompare(t)});var r=e.length;if(r<=1)return e;for(var i=new Array(r),o=1;o<r;o*=2){n(e,t,o,i);var a=e;e=i,i=a}return e}e.inplace=function(e,r){var i=t(e,r);return i!==e&&n(i,null,e.length,e),e};var n=function(e,t,n,r){var i,o,a,s,u,l=e.length,c=0,h=2*n;for(i=0;i<l;i+=h)for(a=(o=i+n)+n,o>l&&(o=l),a>l&&(a=l),s=i,u=o;;)if(s<o&&u<a)t(e[s],e[u])<=0?r[c++]=e[s++]:r[c++]=e[u++];else if(s<o)r[c++]=e[s++];else{if(!(u<a))break;r[c++]=e[u++]}};return e}()},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}),0)}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}var c,h,f=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),d=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(d){t=d instanceof f?p(d.errors):[d]}if(u(o))for(var s=-1,c=o.length;++s<c;){var h=o[s];if(l(h))try{h.unsubscribe()}catch(d){t=t||[],d instanceof f?t=t.concat(p(d.errors)):t.push(d)}}if(t)throw new f(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=((c=new h).closed=!0,c),h);function p(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;switch(_classCallCheck(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!e){o.destination=s;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new m(_assertThisInitialized(o),e,r,i)}return o}return _createClass(n,[{key:v,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(d),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var u,l;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var c=_assertThisInitialized(u);return r(i)?l=i:i&&(l=i.next,o=i.error,a=i.complete,i!==s&&(r((c=Object.create(i)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=c,u._next=l,u._error=o,u._complete=a,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(g),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(e){return e}function b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return k(t)}function k(e){return 0===e.length?_:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var w,C=((w=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[v])return e[v]()}return e||t||n?new g(e,t,n):new g(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof g?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=x(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:k(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=x(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new w(e)},w);function x(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,T=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),M=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(d),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(g),E=((S=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:v,value:function(){return new P(this)}},{key:"lift",value:function(e){var t=new O(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new T;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new T;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new T;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new T;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new M(this,e))}},{key:"asObservable",value:function(){var e=new C;return e.source=this,e}}]),n}(C)).create=function(e,t){return new O(e,t)},S),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):d.EMPTY}}]),n}(E);function R(e){return e&&"function"==typeof e.schedule}var A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),I=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",D=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function N(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var F=function(e){if(e&&"function"==typeof e[y])return r=e,function(e){var t=r[y]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(D(e))return I(e);if(N(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[j])return t=e,function(e){for(var n=t[j]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=l(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function L(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new A(e,n,r);if(!i.closed)return t instanceof C?t.subscribe(i):F(t)(i)}var V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(g);function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new H(e,t))}}var H=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new U(e,this.project,this.thisArg))}}]),e}(),U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g);function B(e,t){return new C((function(n){var r=new d,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function q(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[y]}(e))return function(e,t){return new C((function(n){var r=new d;return r.add(t.schedule((function(){var i=e[y]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(N(e))return function(e,t){return new C((function(n){var r=new d;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(D(e))return B(e,t);if(function(e){return e&&"function"==typeof e[j]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new C((function(n){var r,i=new d;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[j](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof C?e:new C(F(e))}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(W((function(n,r){return q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new G(e,n))})}var G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new X(e,this.project,this.concurrent))}}]),e}(),X=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new A(this,t,n),i=this.destination;i.add(r);var o=L(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(V);function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return W(_,e)}function Q(e,t){return t?B(e,t):new C(I(e))}function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return R(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof C?t[0]:Y(r)(Q(t,i))}function Z(){return function(e){return e.lift(new J(e))}}var K,J=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ee(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ee=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g),te={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new d).add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}},{key:"refCount",value:function(){return Z()(this)}}]),n}(C).prototype)._subscribe},_isComplete:{value:K._isComplete,writable:!0},getSubject:{value:K.getSubject},connect:{value:K.connect},refCount:{value:K.refCount}},ne=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(P);function re(){return new E}function ie(){return function(e){return Z()((t=re,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,te);return r.source=e,r.subjectFactory=n,r})(e));var t}}function oe(e){return{toString:e}.toString()}function ae(e,t,n){return oe((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var se=ae("Inject",(function(e){return{token:e}})),ue=ae("Optional"),le=ae("Self"),ce=ae("SkipSelf"),he=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(var t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ve(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ge(e){return me(e,e[_e])||me(e,e[we])}function me(e,t){return t&&t.token===e?t:null}function ye(e){return e&&(e.hasOwnProperty(be)||e.hasOwnProperty(Ce))?e[be]:null}var _e=fe({"\u0275prov":fe}),be=fe({"\u0275inj":fe}),ke=fe({"\u0275provFallback":fe}),we=fe({ngInjectableDef:fe}),Ce=fe({ngInjectorDef:fe});function xe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Se(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Te=fe({__forward_ref__:fe});function Me(e){return e.__forward_ref__=Me,e.toString=function(){return xe(this())},e}function Pe(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Te)&&e.__forward_ref__===Me}var Oe,Re="undefined"!=typeof globalThis&&globalThis,Ae="undefined"!=typeof window&&window,Ie="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je="undefined"!=typeof global&&global,De=Re||je||Ae||Ie,Ne=fe({"\u0275cmp":fe}),Fe=fe({"\u0275dir":fe}),Le=fe({"\u0275pipe":fe}),Ve=fe({"\u0275mod":fe}),ze=fe({"\u0275loc":fe}),He=fe({"\u0275fac":fe}),Ue=fe({__NG_ELEMENT_ID__:fe}),Be=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),qe=new Be("INJECTOR",-1),We={},Ge=/\n/gm,Xe=fe({provide:String,useValue:fe}),Ye=void 0;function Qe(e){var t=Ye;return Ye=e,t}function $e(e){var t=Oe;return Oe=e,t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;if(void 0===Ye)throw new Error("inject() must be called from an injection context");return null===Ye?Je(e,void 0,t):Ye.get(e,t&he.Optional?null:void 0,t)}function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default;return(Oe||Ze)(Pe(e),t)}function Je(e,t,n){var r=ge(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&he.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(xe(e),"]"))}function et(e){for(var t=[],n=0;n<e.length;n++){var r=Pe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=he.Default,a=0;a<r.length;a++){var s=r[a];s instanceof ue||"Optional"===s.ngMetadataName||s===ue?o|=he.Optional:s instanceof ce||"SkipSelf"===s.ngMetadataName||s===ce?o|=he.SkipSelf:s instanceof le||"Self"===s.ngMetadataName||s===le?o|=he.Self:i=s instanceof se||s===se?s.token:s}t.push(Ke(i,o))}else t.push(Ke(r))}return t}var tt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;if(t===We){var n=new Error("NullInjectorError: No provider for ".concat(xe(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),nt=function e(){_classCallCheck(this,e)},rt=function e(){_classCallCheck(this,e)};function it(e,t){e.forEach((function(e){return Array.isArray(e)?it(e,t):t(e)}))}function ot(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function at(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ut(e,t,n){var r=ct(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function lt(e,t){var n=ct(e,t);if(n>=0)return e[1|n]}function ct(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ht=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ft=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),dt={},pt=[],vt=0;function gt(e){return oe((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ft.Emulated,id:"c",styles:e.styles||pt,_:null,setInput:null,schemas:e.schemas||null,tView:null},o=e.directives,a=e.features,s=e.pipes;return i.id+=vt++,i.inputs=kt(e.inputs,r),i.outputs=kt(e.outputs),a&&a.forEach((function(e){return e(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(mt)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(yt)}:null,i}))}function mt(e){return xt(e)||function(e){return e[Fe]||null}(e)}function yt(e){return function(e){return e[Le]||null}(e)}var _t={};function bt(e){var t={type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&oe((function(){_t[e.id]=e.type})),t}function kt(e,t){if(null==e)return dt;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var wt=gt;function Ct(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function xt(e){return e[Ne]||null}function St(e,t){return e.hasOwnProperty(He)?e[He]:null}function Tt(e,t){var n=e[Ve]||null;if(!n&&!0===t)throw new Error("Type ".concat(xe(e)," does not have '\u0275mod' property."));return n}function Mt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Pt(e){return Array.isArray(e)&&!0===e[1]}function Et(e){return 0!=(8&e.flags)}function Ot(e){return 2==(2&e.flags)}function Rt(e){return 1==(1&e.flags)}function At(e){return null!==e.template}function It(e){return 0!=(512&e[2])}var jt=void 0;function Dt(e){return!!e.listen}var Nt={createRenderer:function(e,t){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}};function Ft(e){for(;Array.isArray(e);)e=e[0];return e}function Lt(e,t){return Ft(t[e+20])}function Vt(e,t){return Ft(t[e.index])}function zt(e,t){return e.data[t+20]}function Ht(e,t){return e[t+20]}function Ut(e,t){var n=t[e];return Mt(n)?n:n[0]}function Bt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function qt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function Gt(e,t){return null===e||null==t?null:e[t]}function Xt(e){e[18]=0}function Yt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qt={lFrame:yn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function $t(){return Qt.bindingsEnabled}function Zt(){return Qt.lFrame.lView}function Kt(){return Qt.lFrame.tView}function Jt(e){Qt.lFrame.contextLView=e}function en(){return Qt.lFrame.previousOrParentTNode}function tn(e,t){Qt.lFrame.previousOrParentTNode=e,Qt.lFrame.isParent=t}function nn(){return Qt.lFrame.isParent}function rn(){Qt.lFrame.isParent=!1}function on(){return Qt.checkNoChangesMode}function an(e){Qt.checkNoChangesMode=e}function sn(){var e=Qt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function un(){return Qt.lFrame.bindingIndex}function ln(){return Qt.lFrame.bindingIndex++}function cn(e){var t=Qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function hn(e,t){var n=Qt.lFrame;n.bindingIndex=n.bindingRootIndex=e,fn(t)}function fn(e){Qt.lFrame.currentDirectiveIndex=e}function dn(){return Qt.lFrame.currentQueryIndex}function pn(e){Qt.lFrame.currentQueryIndex=e}function vn(e,t){var n=mn();Qt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function gn(e,t){var n=mn(),r=e[1];Qt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function mn(){var e=Qt.lFrame,t=null===e?null:e.child;return null===t?yn(e):t}function yn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function _n(){var e=Qt.lFrame;return Qt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var bn=_n;function kn(){var e=_n();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wn(){return Qt.lFrame.selectedIndex}function Cn(e){Qt.lFrame.selectedIndex=e}function xn(){var e=Qt.lFrame;return zt(e.tView,e.selectedIndex)}function Sn(){Qt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Tn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function Mn(e,t,n){On(e,t,3,n)}function Pn(e,t,n,r){(3&e[2])===n&&On(e,t,n,r)}function En(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function On(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Rn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Rn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(a)):o.call(a)}var An=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function In(e,t,n){for(var r=Dt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var l=o,c=n[++i];Dn(l)?r&&e.setProperty(t,l,c):r?e.setAttribute(t,l,c):t.setAttribute(l,c),i++}}return i}function jn(e){return 3===e||4===e||6===e}function Dn(e){return 64===e.charCodeAt(0)}function Nn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Fn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Fn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Ln(e){return-1!==e}function Vn(e){return 32767&e}function zn(e){return e>>16}function Hn(e,t){for(var n=zn(e),r=t;n>0;)r=r[15],n--;return r}function Un(e){return"string"==typeof e?e:null==e?"":""+e}function Bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Un(e)}var qn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De);function Wn(e){return{name:"document",target:e.ownerDocument}}function Gn(e){return e instanceof Function?e():e}var Xn=!0;function Yn(e){var t=Xn;return Xn=e,t}var Qn=0;function $n(e,t){var n=Kn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Zn(r.data,e),Zn(t,null),Zn(r.blueprint,null));var i=Jn(e,t),o=e.injectorIndex;if(Ln(i))for(var a=Vn(i),s=Hn(i,t),u=s[1].data,l=0;l<8;l++)t[o+l]=s[a+l]|u[a+l];return t[o+8]=i,o}function Zn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Kn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Jn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function er(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[Ue]:n.charCodeAt(0)||0;null==r&&(r=n[Ue]=Qn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function tr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:he.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Ue];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){vn(t,e);try{var a=o();if(null!=a||r&he.Optional)return a;throw new Error("No provider for ".concat(Bn(n),"!"))}finally{bn()}}else if("number"==typeof o){if(-1===o)return new ur(e,t);var s=null,u=Kn(e,t),l=-1,c=r&he.Host?t[16][6]:null;for((-1===u||r&he.SkipSelf)&&(l=-1===u?Jn(e,t):t[u+8],sr(r,!1)?(s=t[1],u=Vn(l),t=Hn(l,t)):u=-1);-1!==u;){l=t[u+8];var h=t[1];if(ar(o,u,h.data)){var f=rr(u,t,n,s,r,c);if(f!==nr)return f}sr(r,t[1].data[u+8]===c)&&ar(o,u,t)?(s=h,u=Vn(l),t=Hn(l,t)):u=-1}}}if(r&he.Optional&&void 0===i&&(i=null),0==(r&(he.Self|he.Host))){var d=t[9],p=$e(void 0);try{return d?d.get(n,i,r&he.Optional):Je(n,i,r&he.Optional)}finally{$e(p)}}if(r&he.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Bn(n),"]"))}var nr={};function rr(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=ir(s,a,n,null==r?Ot(s)&&Xn:r!=a&&3===s.type,i&he.Host&&o===s);return null!==u?or(t,a,u,s):nr}function ir(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,l=o>>16,c=i?s+l:e.directiveEnd,h=r?s:s+l;h<c;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&At(d)&&d.type===n)return u}return null}function or(e,t,n,r){var i=e[n],o=t.data;if(i instanceof An){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(Bn(o[n])));var s,u=Yn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=$e(a.injectImpl)),vn(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&$e(s),Yn(u),a.resolving=!1,bn()}}return i}function ar(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function sr(e,t){return!(e&he.Self||e&he.Host&&t)}var ur=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return tr(this._tNode,this._lView,e,void 0,t)}}]),e}();function lr(e){return oe((function(){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[He]||function e(t){var n=t;if(Ee(t))return function(){var t=e(Pe(n));return t?t():null};var r=St(n);if(null===r){var i=ye(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}))}function cr(e){return e.ngDebugContext}function hr(e){return e.ngOriginalError}function fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var dr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||fr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?cr(e)?cr(e):this._findContext(hr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=hr(e);t&&hr(t);)t=hr(t);return t}}]),e}(),pr=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}();function vr(e){return e instanceof pr?e.changingThisBreaksApplicationSecurity:e}var gr=!0,mr=!1;function yr(){return mr=!0,gr}var _r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,kr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function wr(e){var t,n,r=(t=Zt())&&t[12];return r?r.sanitize(kr.URL,e)||"":function(e,t){var n=function(e){return e instanceof pr&&e.getTypeName()||null}(e);if(null!=n&&"URL"!==n){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return"URL"===n}(e)?vr(e):(n=Un(e),(n=String(n)).match(_r)||n.match(br)?n:(yr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function Cr(e,t){e.__ngContext__=t}function xr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function Sr(){throw new Error("Cannot mix multi providers and regular providers")}function Tr(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Mr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Tr((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Pr(e){return 0===e.type&&"ng-template"!==e.tagName}function Er(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Or(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(jn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Er(e,u,n)||""===u&&1===t.length){if(Rr(r))return!1;a=!0}}else{var l=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Mr(e.attrs,l,n)){if(Rr(r))return!1;a=!0}continue}var c=Ar(8&r?"class":u,i,Pr(e),n);if(-1===c){if(Rr(r))return!1;a=!0;continue}if(""!==l){var h;h=c>o?"":i[c+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Tr(f,l,0)||2&r&&l!==h){if(Rr(r))return!1;a=!0}}}}else{if(!a&&!Rr(r)&&!Rr(u))return!1;if(a&&Rr(u))continue;a=!1,r=u|1&r}}return Rr(r)||a}function Rr(e){return 0==(1&e)}function Ar(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ir(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Or(e,t[r],n))return!0;return!1}function jr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Dr(e,t){return e?":not("+t.trim()+")":t}function Nr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Rr(a)||(t+=Dr(o,i),i=""),r=a,o=o||!Rr(r);n++}return""!==i&&(t+=Dr(o,i)),t}var Fr={};function Lr(e){var t=e[3];return Pt(t)?t[3]:t}function Vr(e){zr(Kt(),Zt(),wn()+e,on())}function zr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&Mn(t,i,n)}else{var o=e.preOrderHooks;null!==o&&Pn(t,o,0,n)}Cn(n)}function Hr(e,t){return e<<17|t<<2}function Ur(e){return e>>17&32767}function Br(e){return 2|e}function qr(e){return(131068&e)>>2}function Wr(e,t){return-131069&e|t<<2}function Gr(e){return 1|e}function Xr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];pn(i),a.contentQueries(2,t[o],o)}}}function Yr(e,t,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Qr(e,t,n,r,i,o,a,s,u,l){var c=t.blueprint.slice();return c[0]=i,c[2]=140|r,Xt(c),c[3]=c[15]=e,c[8]=n,c[10]=a||e&&e[10],c[11]=s||e&&e[11],c[12]=u||e&&e[12]||null,c[9]=l||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function $r(e,t,n,r,i,o){var a=n+20,s=e.data[a]||function(e,t,n,r,i,o){var a=en(),s=nn(),u=s?a:a&&a.parent,l=e.data[n]=ai(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=l),a&&(!s||null!=a.child||null===l.parent&&2!==a.type?s||(a.next=l):a.child=l),l}(e,t,a,r,i,o);return tn(s,!0),s}function Zr(e,t,n){gn(t,t[6]);try{var r=e.viewQuery;null!==r&&Oi(1,r,n);var i=e.template;null!==i&&ei(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Xr(e,t),e.staticViewQueries&&Oi(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)Si(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,kn()}}function Kr(e,t,n,r){var i=t[2];if(256!=(256&i)){gn(t,t[6]);var o=on();try{Xt(t),Qt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&ei(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&Mn(t,s,null)}else{var u=e.preOrderHooks;null!==u&&Pn(t,u,0,null),En(t,0)}if(function(e){for(var t=wi(e);null!==t;t=Ci(t))if(0!=(1&t[2]))for(var n=t[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yt(o,1),i[2]|=1024}}(t),function(e){for(var t=wi(e);null!==t;t=Ci(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Wt(r)&&Kr(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Xr(e,t),!o)if(a){var l=e.contentCheckHooks;null!==l&&Mn(t,l)}else{var c=e.contentHooks;null!==c&&Pn(t,c,1),En(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Cn(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(hn(r,i),a(2,t[i])),i++)}}finally{Cn(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)xi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Oi(2,f,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&Mn(t,d)}else{var p=e.viewHooks;null!==p&&Pn(t,p,2),En(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Yt(t[3],-1))}finally{kn()}}}function Jr(e,t,n,r){var i=t[10],o=!on(),a=qt(t);try{o&&!a&&i.begin&&i.begin(),a&&Zr(e,t,r),Kr(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function ei(e,t,n,r,i){var o=wn();try{Cn(-1),2&r&&t.length>20&&zr(e,t,0,on()),n(r,i)}finally{Cn(o)}}function ti(e,t,n){if(Et(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ni(e,t,n){$t()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||$n(n,t),Cr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],l=At(u);l&&yi(t,n,u);var c=or(t,e,s,n);Cr(c,t),null!==a&&_i(0,s-i,c,u,0,a),l&&(Ut(n.index,t)[8]=c)}}(e,t,n,Vt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-20,u=Qt.lFrame.currentDirectiveIndex;try{Cn(s);for(var l=r;l<i;l++){var c=e.data[l],h=t[l];fn(l),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?fi(c,h):a&&o.push(null)}}finally{Cn(-1),fn(u)}}(e,t,n))}function ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function ii(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=oi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function oi(e,t,n,r,i,o,a,s,u,l){var c=20+r,h=c+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Fr);return n}(c,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:l,incompleteFirstPass:!1}}function ai(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function si(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ui(e,t,n,r,i,o,a,s){var u,l,c=Vt(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Di(e,n,u,r,i),Ot(t)&&function(e,t){var n=Ut(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(l=r)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,i=null!=a?a(i,t.tagName||"",r):i,Dt(o)?o.setProperty(c,r,i):Dn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function li(e,t,n,r){var i=!1;if($t()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Ir(n,a.selectors,!1)&&(i||(i=[]),er($n(n,t),e,a.type),At(a)?(2&n.flags&&xr(n),pi(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,gi(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var l=o[u];l.providersResolver&&l.providersResolver(l)}di(e,n,o.length);for(var c=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Nn(n.mergedAttrs,d.hostAttrs),mi(e,t,d),vi(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),c=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),ci(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var l=r[u],c=l.inputs,h=null===i||Pr(t)?null:bi(c,i);o.push(h),a=si(c,u,a),s=si(l.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),hi(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Nn(n.mergedAttrs,n.attrs),i}function ci(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function hi(e,t,n){for(var r=0;r<n;r++)t.push(Fr),e.blueprint.push(Fr),e.data.push(null)}function fi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function di(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function pi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function vi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;At(t)&&(n[""]=e)}}function gi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function mi(e,t,n){e.data.push(n);var r=n.factory||(n.factory=St(n.type)),i=new An(r,At(n),null);e.blueprint.push(i),t.push(i)}function yi(e,t,n){var r=Vt(t,e),i=ii(n),o=e[10],a=Ti(e,Qr(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function _i(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var l=a[u++],c=a[u++],h=a[u++];null!==s?r.setInput(n,h,l,c):n[c]=h}}function bi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function ki(e,t,n,r){return new Array(e,!0,-2,t,null,0,r,n,null,null)}function wi(e){for(var t=e[13];null!==t&&(!Pt(t)||t[2]>>1!=-1);)t=t[4];return t}function Ci(e){for(var t=e[4];null!==t&&(!Pt(t)||t[2]>>1!=-1);)t=t[4];return t}function xi(e,t){var n=Ut(t,e);if(Wt(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=wi(t);null!==n;n=Ci(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&e(i)}var a=t[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=Ut(a[s],t);Wt(u)&&u[5]>0&&e(u)}}(n)}}function Si(e,t){var n=Ut(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Zr(r,n,n[8])}function Ti(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Mi(e){for(;e;){e[2]|=64;var t=Lr(e);if(It(e)&&!t)return e;e=t}return null}function Pi(e,t,n){var r=t[10];r.begin&&r.begin();try{Kr(e,t,e.template,n)}catch(i){throw ji(t,i),i}finally{r.end&&r.end()}}function Ei(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Bt(n),i=r[1];Jr(i,r,i.template,n)}}(e[8])}function Oi(e,t,n){pn(0),t(e,n)}var Ri=Promise.resolve(null);function Ai(e){return e[7]||(e[7]=[])}function Ii(e){return e.cleanup||(e.cleanup=[])}function ji(e,t){var n=e[9],r=n?n.get(dr,null):null;r&&r.handleError(t)}function Di(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],l=e.data[a];null!==l.setInput?l.setInput(u,i,r,s):u[s]=i}}function Ni(e,t,n){var r=Lt(t,e),i=e[11];Dt(i)?i.setValue(r,n):r.textContent=n}function Fi(e,t){var n=t[3];return-1===e.index?Pt(n)?n:null:n}function Li(e,t){var n=Fi(e,t);return n?$i(t[11],n[7]):null}function Vi(e,t,n,r,i){if(null!=r){var o,a=!1;Pt(r)?o=r:Mt(r)&&(a=!0,r=r[0]);var s=Ft(r);0===e&&null!==n?null==i?Yi(t,n,s):Xi(t,n,s,i||null):1===e&&null!==n?Xi(t,n,s,i||null):2===e?function(e,t,n){var r=$i(e,t);r&&function(e,t,n,r){Dt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Ft(n)&&Vi(t,e,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];to(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function zi(e,t,n,r){var i=Li(e.node,t);i&&to(e,t,t[11],n?1:2,i,r)}function Hi(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&Yt(t[3],-1),n.splice(r,1)}function Ui(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Hi(i,r),t>0&&(e[n-1][4]=r[4]);var o=at(e,10+t);zi(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Bi(e,t){if(!(256&t[2])){var n=t[11];Dt(n)&&n.destroyNode&&to(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Wi(e[1],e);for(;t;){var n=null;if(Mt(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Mt(t)&&Wi(t[1],t),t=qi(t,e);null===t&&(t=e),Mt(t)&&Wi(t[1],t),n=t&&t[4]}t=n}}(t)}}function qi(e,t){var n;return Mt(e)&&(n=e[6])&&2===n.type?Fi(n,e):e[3]===t?null:e[3]}function Wi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof An)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):Ft(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Dt(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&Pt(t[3])){r!==t[3]&&Hi(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function Gi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Li(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return Vt(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ft.ShadowDom&&a!==ft.Native)return null}return Vt(r,n)}function Xi(e,t,n,r){Dt(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function Yi(e,t,n){Dt(e)?e.appendChild(t,n):t.appendChild(n)}function Qi(e,t,n,r){null!==r?Xi(e,t,n,r):Yi(e,t,n)}function $i(e,t){return Dt(e)?e.parentNode(t):t.parentNode}function Zi(e,t){if(2===e.type){var n=Fi(e,t);return null===n?null:Ji(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Vt(e,t):null}function Ki(e,t,n,r){var i=Gi(e,r,t);if(null!=i){var o=t[11],a=Zi(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Qi(o,i,n[s],a);else Qi(o,i,n,a)}}function Ji(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return Vt(n,t);if(0===r)return Ji(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return Pt(o)?Ji(-1,o):Ft(o)}var a=t[16],s=a[6],u=Lr(a),l=s.projection[n.projection];return null!=l?e(u,l):e(t,n.next)}return null}(r,i)}return t[7]}function eo(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&Cr(Ft(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(eo(e,t,n.child,r,i,o,!1),Vi(t,e,i,s,o)):1===u?no(e,t,r,n,i,o):Vi(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function to(e,t,n,r,i,o){eo(n,r,e.node.child,t,i,o,!1)}function no(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Vi(t,e,i,s[u],o);else eo(e,t,s,a[3],i,o,!0)}function ro(e,t,n){Dt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function io(e,t,n){Dt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var oo,ao,so,uo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Bi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Ai(n=this._lView).push(r),t.firstCreatePass&&Ii(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Mi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Pi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){an(!0);try{Pi(e,t,n)}finally{an(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,to(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Ft(a)),Pt(a))for(var s=10;s<a.length;s++){var u=a[s],l=u[1].firstChild;null!==l&&e(u[1],u,l,i)}var c=r.type;if(4===c||5===c)e(t,n,r.child,i);else if(1===c){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=Lr(h);e(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),lo=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){Ei(this._view)}},{key:"checkNoChanges",value:function(){!function(e){an(!0);try{Ei(e)}finally{an(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(uo);function co(e,t,n){return oo||(oo=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new oo(Vt(t,n))}function ho(e,t,n,r){return ao||(ao=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._declarationView=e,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Qr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];null!==r&&(n[19]=r.createEmbeddedView(t)),Zr(t,n,e);var i=new uo(n);return i._tViewNode=n[6],i}}]),n}(e)),0===n.type?new ao(r,n,co(t,n,r)):null}function fo(e,t,n,r){var i;so||(so=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=e,o._hostTNode=t,o._hostView=i,o}return _createClass(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(nt,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Pt(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new so(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-10?(t[4]=n[i],ot(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]|=1),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),zi(r,n,!0,Ji(s,this._lContainer)),e.attachToViewContainerRef(this),ot(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Ui(e,t);n&&Bi(n[1],n)}(this._lContainer,t),at(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Ui(this._lContainer,t);return n&&null!=at(this._lContainer[8],t)?new uo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return co(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new ur(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Jn(this._hostTNode,this._hostView),t=Hn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=zn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Ln(e)&&null!=n?new ur(n,t):new ur(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var o=r[n.index];if(Pt(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=Ft(o);else if(a=r[11].createComment(""),It(r)){var s=r[11],u=Vt(n,r);Xi(s,$i(s,u),a,function(e,t){return Dt(e)?e.nextSibling(t):t.nextSibling}(s,u))}else Ki(r[1],r,a,n);r[n.index]=i=ki(o,r,a,n),Ti(r,i)}return new so(i,n,r)}var po=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return vo()},e}(),vo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Ot(e)){var r=Ut(e.index,t);return new uo(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new uo(t[16],t):null}(en(),Zt(),e)},go=new Be("Set Injector scope."),mo={},yo={},_o=[],bo=void 0;function ko(){return void 0===bo&&(bo=new tt),bo}function wo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Co(e,n,t||ko(),r)}var Co=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&it(n,(function(e){return i.processProvider(e,t,n)})),it([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(qe,To(void 0,this));var s=this.records.get(go);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof t?null:xe(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;this.assertNotDestroyed();var r,i=Qe(this);try{if(!(n&he.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Be)&&ge(e);o=a&&this.injectableDefInScope(a)?To(xo(e),mo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&he.Self?ko():this.parent).get(e,t=n&he.Optional&&t===We?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(xe(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=xe(t);if(Array.isArray(t))i=t.map(xe).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):xe(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ge,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{Qe(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(xe(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Pe(e)))return!1;var i=ye(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=ye(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{it(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var l=function(e){var t=u[e],n=t.ngModule,i=t.providers;it(i,(function(e){return r.processProvider(e,n,i||_o)}))},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(a),this.records.set(a,To(i.factory,mo));var h=i.providers;if(null!=h&&!s){var f=e;it(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Po(e=Pe(e))?e:Pe(e&&e.provide),i=function(e,t,n){return Mo(e)?To(void 0,e.useValue):To(So(e,t,n),mo)}(e,t,n);if(Po(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Sr()}else{var a=this.records.get(r);a?void 0===a.multi&&Sr():((a=To(void 0,mo,!0)).factory=function(){return et(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===yo?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(xe(e)):t.value===mo&&(t.value=yo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function xo(e){var t=ge(e),n=null!==t?t.factory:St(e);if(null!==n)return n;var r=ye(e);if(null!==r)return r.factory;if(e instanceof Be)throw new Error("Token ".concat(xe(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=st(t,"?");throw new Error("Can't resolve all parameters for ".concat(xe(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[_e]||e[we]||e[ke]&&e[ke]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function So(e,t,n){var r,i=void 0;if(Po(e)){var o=Pe(e);return St(o)||xo(o)}if(Mo(e))i=function(){return Pe(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(et(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ke(Pe(e.useExisting))};else{var a=Pe(e&&(e.useClass||e.provide));if(a||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(xe(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return St(a)||xo(a);i=function(){return _construct(a,_toConsumableArray(et(e.deps)))}}return i}function To(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Mo(e){return null!==e&&"object"==typeof e&&Xe in e}function Po(e){return"function"==typeof e}var Eo=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=wo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Oo=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Eo(e,t,""):Eo(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=We,e.NULL=new tt,e.\u0275prov=pe({token:e,providedIn:"any",factory:function(){return Ke(qe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Ro=new Be("AnalyzeForEntryComponents"),Ao=new Map,Io=new Set;function jo(e){return"string"==typeof e?e:e.text()}function Do(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=Se(r,a):2==i&&(n=Se(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var No=null;function Fo(){if(!No){var e=De.Symbol;if(e&&e.iterator)No=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(No=r)}}return No}function Lo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Vo=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function zo(e){return!!Ho(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fo()in e)}function Ho(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Uo(e,t,n){return e[t]=n}function Bo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qo(e,t,n,r){var i=Bo(e,t,n);return Bo(e,t+1,r)||i}function Wo(e,t,n,r){var i=Zt();return Bo(i,ln(),t)&&(Kt(),function(e,t,n,r,i,o){var a=Vt(e,t),s=t[11];if(null==r)Dt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Un(r):i(r,e.tagName||"",n);Dt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(xn(),i,e,t,n,r)),Wo}function Go(e,t,n,r){return Bo(e,ln(),n)?t+Un(n)+r:Fr}function Xo(e,t,n,r,i,o){var a=qo(e,un(),n,i);return cn(2),a?t+Un(n)+r+Un(i)+o:Fr}function Yo(e,t,n,r,i,o,a,s){var u=Zt(),l=Kt(),c=e+20,h=l.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var l=t.consts,c=$r(t,n[6],e,0,a||null,Gt(l,s));li(t,n,c,Gt(l,u)),Tn(t,c);var h=c.tViews=oi(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l),f=ai(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,l,u,t,n,r,i,o,a):l.data[c];tn(h,!1);var f=u[11].createComment("");Ki(l,u,f,h),Cr(f,u),Ti(u,u[c]=ki(f,u,f,h)),Rt(h)&&ni(l,u,h),null!=a&&ri(u,h,s)}function Qo(e){return Ht(Qt.lFrame.contextLView,e)}function $o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he.Default,n=Zt();return null==n?Ke(e,t):tr(en(),n,Pe(e),t)}function Zo(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(jn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(en(),e)}function Ko(){throw new Error("invalid")}function Jo(e,t,n){var r=Zt();return Bo(r,ln(),t)&&ui(Kt(),xn(),r,e,t,r[11],n,!1),Jo}function ea(e,t,n,r,i){var o=i?"class":"style";Di(e,n,t.inputs[o],o,r)}function ta(e,t,n,r){var i=Zt(),o=Kt(),a=20+e,s=i[11],u=i[a]=Yr(t,s,Qt.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Gt(s,o),l=$r(t,n[6],e,3,i,u);return li(t,n,l,Gt(s,a)),null!==l.mergedAttrs&&Do(l,l.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,l),l}(e,o,i,0,t,n,r):o.data[a];tn(l,!0);var c=l.mergedAttrs;null!==c&&In(s,u,c);var h=l.classes;null!==h&&io(s,u,h);var f=l.styles;null!==f&&ro(s,u,f),Ki(o,i,u,l),0===Qt.lFrame.elementDepthCount&&Cr(u,i),Qt.lFrame.elementDepthCount++,Rt(l)&&(ni(o,i,l),ti(o,l,i)),null!==r&&ri(i,l)}function na(){var e=en();nn()?rn():tn(e=e.parent,!1);var t=e;Qt.lFrame.elementDepthCount--;var n=Kt();n.firstCreatePass&&(Tn(n,e),Et(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&ea(n,t,Zt(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&ea(n,t,Zt(),t.styles,!1)}function ra(e,t,n,r){ta(e,t,n,r),na()}function ia(e,t,n){var r=Zt(),i=Kt(),o=e+20,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Gt(o,r),s=$r(t,n[6],e,4,"ng-container",a);return null!==a&&Do(s,a),li(t,n,s,Gt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[o];tn(a,!0);var s=r[o]=r[11].createComment("");Ki(i,r,s,a),Cr(s,r),Rt(a)&&(ni(i,r,a),ti(i,a,r)),null!=n&&ri(r,a)}function oa(){var e=en(),t=Kt();nn()?rn():tn(e=e.parent,!1),t.firstCreatePass&&(Tn(t,e),Et(e)&&t.queries.elementEnd(e))}function aa(){return Zt()}function sa(e){return!!e&&"function"==typeof e.then}function ua(e){return!!e&&"function"==typeof e.subscribe}function la(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Zt(),o=Kt(),a=en();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Rt(r),l=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Ai(t),h=!0;if(3===r.type){var f=Vt(r,t),d=s?s(f):dt,p=d.target||f,v=c.length,g=s?function(e){return s(Ft(e[r.index])).target}:r.index;if(Dt(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ha(r,t,o,!1);var y=n.listen(d.name||p,i,o);c.push(o,y),l&&l.push(i,g,v,v+1)}}else o=ha(r,t,o,!0),p.addEventListener(i,o,a),c.push(o),l&&l.push(i,g,v,a)}var _,b=r.outputs;if(h&&null!==b&&(_=b[i])){var k=_.length;if(k)for(var w=0;w<k;w+=2){var C=t[_[w]][_[w+1]].subscribe(o),x=c.length;c.push(o,C),l&&l.push(i,r.index,x,-(x+1))}}}(o,i,i[11],a,e,t,n,r),la}function ca(e,t,n){try{return!1!==t(n)}catch(r){return ji(e,r),!1}}function ha(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?Ut(e.index,t):t;0==(32&t[2])&&Mi(a);for(var s=ca(t,n,o),u=i.__ngNextListenerFn__;u;)s=ca(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(Qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qt.lFrame.contextLView))[8]}(e)}function da(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Ir(e,o,!0):jr(r,o))return i}else n=i}return n}function pa(e){var t=Zt()[16][6];if(!t.projection)for(var n=t.projection=st(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?da(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function va(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Zt(),i=Kt(),o=$r(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),rn(),function(e,t,n){no(t[11],0,t,n,Gi(e,n,t),Zi(n.parent||t[6],t))}(i,r,o)}function ga(e,t,n){return ma(e,"",t,"",n),ga}function ma(e,t,n,r,i){var o=Zt(),a=Go(o,t,n,r);return a!==Fr&&ui(Kt(),xn(),o,e,a,o[11],i,!1),ma}function ya(e,t,n,r,i,o,a){var s=Zt(),u=Xo(s,t,n,r,i,o);return u!==Fr&&ui(Kt(),xn(),s,e,u,s[11],a,!1),ya}var _a=[];function ba(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Ur(o):qr(o),u=!1;0!==s&&(!1===u||a);){var l=e[s+1];ka(e[s],t)&&(u=!0,e[s+1]=r?Gr(l):Br(l)),s=r?Ur(l):qr(l)}u&&(e[n+1]=r?Br(o):Gr(o))}function ka(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ct(e,t)>=0}var wa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ca(e){return e.substring(wa.key,wa.keyEnd)}function xa(e,t){var n=wa.textEnd;return n===t?-1:(t=wa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,wa.key=t,n),Sa(e,t,n))}function Sa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ta(e,t,n){return Oa(e,t,n,!1),Ta}function Ma(e,t){return Oa(e,t,null,!0),Ma}function Pa(e){Ra(ut,Ea,e,!0)}function Ea(e,t){for(var n=function(e){return function(e){wa.key=0,wa.keyEnd=0,wa.value=0,wa.valueEnd=0,wa.textEnd=e.length}(e),xa(e,Sa(e,0,wa.textEnd))}(t);n>=0;n=xa(t,n))ut(e,Ca(t),!0)}function Oa(e,t,n,r){var i,o,a=Zt(),s=Kt(),u=cn(2);(s.firstUpdatePass&&Ia(s,e,u,r),t!==Fr&&Bo(a,u,t))&&(null==n&&(i=null===(o=Qt.lFrame)?null:o.currentSanitizer)&&(n=i),Na(s,s.data[wn()+20],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=xe(vr(e)))),e}(t,n),r,u))}function Ra(e,t,n,r){var i=Kt(),o=cn(2);i.firstUpdatePass&&Ia(i,null,o,r);var a=Zt();if(n!==Fr&&Bo(a,o,n)){var s=i.data[wn()+20];if(Va(s,r)&&!Aa(i,o)){var u=r?s.classes:s.styles;null!==u&&(n=Se(u,n||"")),ea(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Fr&&(i=_a);for(var u=0,l=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var f=u<i.length?i[u+1]:void 0,d=l<o.length?o[l+1]:void 0,p=null,v=void 0;c===h?(u+=2,l+=2,f!==d&&(p=h,v=d)):null===h||null!==c&&c<h?(u+=2,p=c):(l+=2,p=h,v=d),null!==p&&Na(e,t,n,r,p,v,a,s),c=u<i.length?i[u]:null,h=l<o.length?o[l]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return _a;var r=[],i=vr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}function Aa(e,t){return t>=e.expandoStartIndex}function Ia(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[wn()+20],a=Aa(e,n);Va(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Da(n=ja(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=ja(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==qr(r))return e[Ur(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Ur(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Da(s=ja(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Da(r,e[o].hostAttrs,n);return Da(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Ur(a),u=qr(a);e[r]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||ct(h,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){var f=Ur(e[s+1]);e[r+1]=Hr(f,s),0!==f&&(e[f+1]=Wr(e[f+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=Hr(s,0),0!==s&&(e[s+1]=Wr(e[s+1],r)),s=r;else e[r+1]=Hr(u,0),0===s?s=r:e[u+1]=Wr(e[u+1],r),u=r;c&&(e[r+1]=Br(e[r+1])),ba(e,l,r,!0),ba(e,l,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ct(o,t)>=0&&(n[r+1]=Gr(n[r+1]))}(t,l,e,r,o),a=Hr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function ja(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Da(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Da(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ut(e,a,!!n||t[++o]))}return void 0===e?null:e}function Na(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,l=u[s+1];La(1==(1&l)?Fa(u,t,n,i,qr(l),a):void 0)||(La(o)||2==(2&l)&&(o=Fa(u,null,n,i,s,a)),function(e,t,n,r,i){var o=Dt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Lt(wn(),n),i,o))}}function Fa(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],l=Array.isArray(u),c=l?u[1]:u,h=null===c,f=n[i+1];f===Fr&&(f=h?_a:void 0);var d=h?lt(f,r):c===r?f:void 0;if(l&&!La(d)&&(d=lt(u,r)),La(d)&&(s=d,a))return s;var p=e[i+1];i=a?Ur(p):qr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=lt(v,r))}return s}function La(e){return void 0!==e}function Va(e,t){return 0!=(e.flags&(t?16:32))}function za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Zt(),r=Kt(),i=e+20,o=r.firstCreatePass?$r(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return Dt(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);Ki(r,n,a,o),tn(o,!1)}function Ha(e){return Ua("",e,""),Ha}function Ua(e,t,n){var r=Zt(),i=Go(r,e,t,n);return i!==Fr&&Ni(r,wn(),i),Ua}function Ba(e,t,n,r,i){var o=Zt(),a=Xo(o,e,t,n,r,i);return a!==Fr&&Ni(o,wn(),a),Ba}function qa(e,t,n,r,i,o,a){var s=Zt(),u=function(e,t,n,r,i,o,a,s){var u=function(e,t,n,r,i){var o=qo(e,t,n,r);return Bo(e,t+2,i)||o}(e,un(),n,i,a);return cn(3),u?t+Un(n)+r+Un(i)+o+Un(a)+s:Fr}(s,e,t,n,r,i,o,a);return u!==Fr&&Ni(s,wn(),u),qa}function Wa(e,t,n){var r=Zt();return Bo(r,ln(),t)&&ui(Kt(),xn(),r,e,t,r[11],n,!0),Wa}function Ga(e,t){var n=Bt(e)[1],r=n.data.length-1;Tn(n,{directiveStart:r,directiveEnd:r+1})}function Xa(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(At(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Ya(e.inputs),o.declaredInputs=Ya(e.declaredInputs),o.outputs=Ya(e.outputs);var a=i.hostBindings;a&&Za(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Qa(e,s),u&&$a(e,u),de(e.inputs,i.inputs),de(e.declaredInputs,i.declaredInputs),de(e.outputs,i.outputs),At(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var c=i.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Xa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Nn(i.hostAttrs,n=Nn(n,i.hostAttrs))}}(r)}function Ya(e){return e===dt?{}:e===pt?[]:e}function Qa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function $a(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Za(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Ka=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ja(e){e.type.prototype.ngOnChanges&&(e.setInput=es,e.onChanges=function(){var e=ts(this),t=e&&e.current;if(t){var n=e.previous;if(n===dt)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function es(e,t,n,r){var i=ts(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:dt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Ka(u&&u.currentValue,t,a===dt),e[r]=t}function ts(e){return e.__ngSimpleChanges__||null}function ns(e,t,n,r,i){if(e=Pe(e),Array.isArray(e))for(var o=0;o<e.length;o++)ns(e[o],t,n,r,i);else{var a=Kt(),s=Zt(),u=Po(e)?e:Pe(e.provide),l=So(e),c=en(),h=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(Po(e)||!e.multi){var p=new An(l,i,$o),v=os(u,t,i?h:h+d,f);-1===v?(er($n(c,s),a,u),rs(a,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=os(u,t,h+d,f),m=os(u,t,h,h+d),y=g>=0&&n[g],_=m>=0&&n[m];if(i&&!_||!i&&!y){er($n(c,s),a,u);var b=function(e,t,n,r,i){var o=new An(e,n,$o);return o.multi=[],o.index=t,o.componentProviders=0,is(o,i,r&&!n),o}(i?ss:as,n.length,i,r,l);!i&&_&&(n[m].providerFactory=b),rs(a,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(b),s.push(b)}else rs(a,e,g>-1?g:m,is(n[i?m:g],l,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function rs(e,t,n,r){var i=Po(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function is(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function os(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function as(e,t,n,r){return us(this.multi,[])}function ss(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=or(n,n[1],this.providerFactory.index,r);us(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else us(o,i=[]);return i}function us(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Kt();if(r.firstCreatePass){var i=At(e);ns(n,r.data,r.blueprint,i,!0),ns(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}Ja.ngInherit=!0;var cs=function e(){_classCallCheck(this,e)},hs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(xe(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),fs=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new hs,e}(),ds=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return ps(e)},e}(),ps=function(e){return co(e,en(),Zt())},vs=function e(){_classCallCheck(this,e)},gs=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ms=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ys()},e}(),ys=function(){var e=Zt(),t=Ut(en().index,e);return function(e){var t=e[11];if(Dt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Mt(t)?t:e)},_s=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return null}}),e}(),bs=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.7"),ks=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return zo(e)}},{key:"create",value:function(e){return new Cs(e)}}]),e}(),ws=function(e,t){return t},Cs=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ws}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Ms(n,r,i)?t:n,a=Ms(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,f=h+c;l<=f&&f<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!zo(e))throw new Error("Error trying to diff '".concat(xe(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Lo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Lo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Fo()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Lo(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Lo(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Lo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Lo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new xs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ts),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ts),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),xs=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ss=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Lo(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Ts=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Ss,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Ms(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Ps=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Ho(e)}},{key:"create",value:function(){return new Es}}]),e}(),Es=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Ho(e)))throw new Error("Error trying to diff '".concat(xe(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Os(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Lo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Os=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Rs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}}]),e}();return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return new e([new ks])}}),e}(),As=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new ue]]}}}]),e}();return e.\u0275prov=pe({token:e,providedIn:"root",factory:function(){return new e([new Ps])}}),e}(),Is=[new Ps],js=new Rs([new ks]),Ds=new As(Is),Ns=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Fs(e,ds)},e}(),Fs=function(e,t){return ho(e,t,en(),Zt())},Ls=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Vs(e,ds)},e}(),Vs=function(e,t){return fo(e,t,en(),Zt())},zs={},Hs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=xt(e);return new qs(t,this.ngModule)}}]),n}(fs);function Us(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Bs=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return qn}}),qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Nr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,zs,i);return o!==zs||r===zs?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(vs,Nt),u=a.get(_s,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Dt(e))return e.selectRootElement(t,n===ft.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(l,n,this.componentDef.encapsulation):Yr(c,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:qn,clean:Ri,playerHandler:null,flags:0},v=oi(0,-1,null,1,0,null,null,null,null,null),g=Qr(null,v,p,f,null,null,s,l,u,a);gn(g,null);try{var m=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=$r(a,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Do(s,u),null!==e&&(In(i,e,u),null!==s.classes&&io(i,e,s.classes),null!==s.styles&&ro(i,e,s.styles)));var l=r.createRenderer(e,t),c=Qr(n,ii(t),null,t.onPush?64:16,n[20],s,r,l,void 0);return a.firstCreatePass&&(er($n(s,n),a,t.type),pi(a,s),gi(s,n.length,1)),Ti(n,c),n[20]=c}(h,this.componentDef,g,s,l);if(h)if(n)In(l,h,["ng-version",bs.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Rr(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),_=y.attrs,b=y.classes;_&&In(l,h,_),b&&b.length>0&&io(l,h,b.join(" "))}if(o=zt(v,0),void 0!==t)for(var k=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var C=t[w];k.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=en();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),di(e,r,1),mi(e,t,n));var i=or(t,e,t.length-1,r);Cr(i,t);var o=Vt(r,t);return o&&Cr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=en();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Cn(s.index-20);var u=n[1];ci(u,t),hi(u,n,t.hostVars),fi(t,a)}return a}(m,this.componentDef,g,p,[Ga]),Zr(v,g,null)}finally{kn()}var x=new Ws(this.componentType,i,co(ds,o,g),g,o);return n&&!d||(x.hostView._tViewNode.child=o),x}},{key:"inputs",get:function(){return Us(this.componentDef.inputs)}},{key:"outputs",get:function(){return Us(this.componentDef.outputs)}}]),n}(cs),Ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s,u,l,c;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new lo(o),s.hostView._tViewNode=(u=o[1],l=o,null==(c=u.node)&&(u.node=c=ai(0,null,2,-1,null,null)),l[6]=c),s.componentType=e,s}return _createClass(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new ur(this._tNode,this._rootLView)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Gs=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Xs={};function Ys(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Qs(t);if(n)return n;var r=t.split("-")[0];if(n=Qs(r))return n;if("en"===r)return Gs;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function Qs(e){return e in Xs||(Xs[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Xs[e]}var $s=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}();function Zs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Ks=new Map,Js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Hs(_assertThisInitialized(i));var o=Tt(e),a=e[ze]||null;return a&&Zs(a),i._bootstrapComponents=Gn(o.bootstrap),i._r3Injector=wo(e,r,[{provide:nt,useValue:_assertThisInitialized(i)},{provide:fs,useValue:i.componentFactoryResolver}],xe(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he.Default;return e===Oo||e===nt||e===qe?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(nt),eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==Tt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(xe(t)," vs ").concat(xe(t.name)))})(n,Ks.get(n),t),Ks.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return _createClass(n,[{key:"create",value:function(e){return new Js(this.moduleType,e)}}]),n}(rt);function tu(e,t,n){var r=sn()+e,i=Zt();return i[r]===Fr?Uo(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function nu(e,t,n,r){return iu(Zt(),sn(),e,t,n,r)}function ru(e,t){var n=e[t];return n===Fr?void 0:n}function iu(e,t,n,r,i,o){var a=t+n;return Bo(e,a,i)?Uo(e,a+1,o?r.call(o,i):r(i)):ru(e,a+1)}function ou(e,t){var n,r=Kt(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=St(n.type)),a=$e($o),s=Yn(!1),u=o();return Yn(s),$e(a),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,Zt(),e,u),u}function au(e,t,n){var r=Zt(),i=Ht(r,e);return lu(r,uu(r,e)?iu(r,sn(),t,i.transform,n,i):i.transform(n))}function su(e,t,n,r){var i=Zt(),o=Ht(i,e);return lu(i,uu(i,e)?function(e,t,n,r,i,o,a){var s=t+n;return qo(e,s,i,o)?Uo(e,s+2,a?r.call(a,i,o):r(i,o)):ru(e,s+2)}(i,sn(),t,o.transform,n,r,o):o.transform(n,r))}function uu(e,t){return e[1].data[t+20].pure}function lu(e,t){return Vo.isWrapped(t)&&(t=Vo.unwrap(t),e[un()]=Fr),t}var cu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,i,o,a);return e instanceof d&&e.add(s),s}}]),n}(E);function hu(){return this._results[Fo()]()}var fu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new cu,this.length=0;var t=Fo(),n=e.prototype;n[t]||(n[t]=hu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),du=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),pu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Ru(e,t).matches&&this.queries[t].setDirty()}}]),e}(),vu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},gu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),mu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,yu(t,n[r]));else{var i=this.metadata.predicate;i===Ns?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ir(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ds||r===Ls||r===Ns&&0===t.type)this.addMatch(t.index,-2);else{var i=ir(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function yu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function _u(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?co(ds,e,t):0===e.type?ho(Ns,ds,e,t):null}(t,e):-2===n?function(e,t,n){return n===ds?co(ds,t,e):n===Ns?ho(Ns,ds,t,e):n===Ls?fo(Ls,ds,t,e):void 0}(e,t,r):or(e,e[1],n,t)}function bu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var l=a[u];s.push(l<0?null:_u(t,o[l],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function ku(e){var t=Zt(),n=Kt(),r=dn();pn(r+1);var i=Ru(n,r);if(e.dirty&&qt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=bu(t,n,o,r),u=0;u<a.length;u+=2){var l=a[u];if(l>0)i.push(s[u/2]);else{for(var c=a[u+1],h=n[-l],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,c,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];e(g[1],g,c,i)}}}return i}(n,t,r,[]):bu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function wu(e,t,n){xu(Kt(),Zt(),e,t,n,!0)}function Cu(e,t,n){xu(Kt(),Zt(),e,t,n,!1)}function xu(e,t,n,r,i,o){e.firstCreatePass&&(Ou(e,new vu(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),Eu(e,t)}function Su(e,t,n,r){Mu(Kt(),Zt(),t,n,r,!1,en(),e)}function Tu(e,t,n,r){Mu(Kt(),Zt(),t,n,r,!0,en(),e)}function Mu(e,t,n,r,i,o,a,s){e.firstCreatePass&&(Ou(e,new vu(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),Eu(e,t)}function Pu(){return e=Zt(),t=dn(),e[19].queries[t].queryList;var e,t}function Eu(e,t){var n=new fu;!function(e,t,n,r){var i=Ai(t);i.push(n),e.firstCreatePass&&Ii(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new pu),t[19].queries.push(new du(n))}function Ou(e,t,n){null===e.queries&&(e.queries=new gu),e.queries.track(new mu(t,n))}function Ru(e,t){return e.queries.getByIndex(t)}function Au(e,t){return ho(Ns,ds,e,t)}var Iu=new Be("Application Initializer"),ju=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();sa(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Iu,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Du=new Be("AppId"),Nu={provide:Du,useFactory:function(){return"".concat(Fu()).concat(Fu()).concat(Fu())},deps:[]};function Fu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Lu=new Be("Platform Initializer"),Vu=new Be("Platform ID"),zu=new Be("appBootstrapListener"),Hu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Uu=new Be("LocaleId"),Bu=new Be("DefaultCurrencyCode"),qu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Wu=function(e){return new eu(e)},Gu=Wu,Xu=function(e){return Promise.resolve(Wu(e))},Yu=function(e){var t=Wu(e),n=Gn(Tt(e).declarations).reduce((function(e,t){var n=xt(t);return n&&e.push(new qs(n)),e}),[]);return new qu(t,n)},Qu=Yu,$u=function(e){return Promise.resolve(Yu(e))},Zu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Gu,this.compileModuleAsync=Xu,this.compileModuleAndAllComponentsSync=Qu,this.compileModuleAndAllComponentsAsync=$u}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),Ku=new Be("compilerOptions"),Ju=Promise.resolve(0);function el(e){"undefined"==typeof Zone?Ju.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var tl=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,(function(){e.lastRequestAnimationFrameId=-1,ol(e),il(e)})),ol(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return al(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),sl(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return al(n),e.invoke(r,i,o,a,s)}finally{sl(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,ol(n),il(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,rl,nl,nl);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function nl(){}var rl={};function il(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function ol(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function al(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sl(e){e._nesting--,il(e)}var ul,ll=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),cl=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){tl.assertNotInAngularZone(),el((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())el((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(tl))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),hl=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,fl.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fl.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}(),fl=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),dl=function(e,t,n){var r=e.get(Ku,[]).concat(t),i=new eu(n);if(0===Ao.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(e){return e.providers})),a=[],o.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),l=Oo.create({providers:s}).get(u.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(l.get(e))}(e);n.set(e,t=r.then(jo))}return t}return Ao.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){Io.delete(e)}(n)}));t.push(u)})),Ao=new Map,Promise.all(t).then((function(){}))}().then((function(){return i}))},pl=new Be("AllowMultipleToken"),vl=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function gl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Be(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ml();if(!o||o.injector.get(pl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:go,useValue:"platform"});!function(e){if(ul&&!ul.destroyed&&!ul.injector.get(pl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ul=e.get(yl);var t=e.get(Lu,null);t&&t.forEach((function(e){return e()}))}(Oo.create({providers:a,name:r}))}return function(e){var t=ml();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ml(){return ul&&!ul.destroyed?ul:null}var yl=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new ll:("zone.js"===n?void 0:n)||new tl({enableLongStackTrace:yr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:tl,useValue:o}];return o.run((function(){var t=Oo.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(dr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return wl(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(ju)).runInitializers(),a.donePromise.then((function(){return Zs(n.injector.get(Uu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return sa(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=_l({},n);return dl(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(kl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(xe(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Oo))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}();function _l(e,t){return Array.isArray(t)?t.reduce(_l,e):Object.assign(Object.assign({},e),t)}var bl,kl=((bl=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=yr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new C((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),l=new C((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){tl.assertNotInAngularZone(),el((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){tl.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=$(u,l.pipe(ie()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof cs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(nt),o=n.create(Oo.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(cl,null);return a&&o.injector.get(hl).registerApplication(o.location.nativeElement,a),this._loadComponent(o),yr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;wl(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),wl(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||bl)(Ke(tl),Ke(Hu),Ke(Oo),Ke(dr),Ke(fs),Ke(ju))},bl.\u0275prov=pe({token:bl,factory:bl.\u0275fac}),bl);function wl(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Cl=function e(){_classCallCheck(this,e)},xl=function e(){_classCallCheck(this,e)},Sl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Tl=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Sl}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("crnd")(i).then((function(e){return e[o]})).then((function(e){return Ml(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return Ml(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ke(Zu),Ke(xl,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e}();function Ml(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Pl=gl(null,"core",[{provide:Vu,useValue:"unknown"},{provide:yl,deps:[Oo]},{provide:hl,deps:[]},{provide:Hu,deps:[]}]),El=[{provide:kl,useClass:kl,deps:[tl,Hu,Oo,dr,fs,ju]},{provide:Bs,deps:[tl],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:ju,useClass:ju,deps:[[new ue,Iu]]},{provide:Zu,useClass:Zu,deps:[]},Nu,{provide:Rs,useFactory:function(){return js},deps:[]},{provide:As,useFactory:function(){return Ds},deps:[]},{provide:Uu,useFactory:function(e){return Zs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new se(Uu),new ue,new ce]]},{provide:Bu,useValue:"USD"}],Ol=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=bt({type:e}),e.\u0275inj=ve({factory:function(t){return new(t||e)(Ke(kl))},providers:El}),e}(),Rl={production:!0,apiUrl:"/ps-backend"},Al=null;function Il(){return Al}var jl,Dl=new Be("DocumentToken"),Nl=((jl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||jl)},jl.\u0275prov=pe({factory:Fl,token:jl,providedIn:"platform"}),jl);function Fl(){return Ke(zl)}var Ll,Vl=new Be("Location Initialized"),zl=((Ll=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=Il().getLocation(),this._history=Il().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Il().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Il().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Il().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){Hl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){Hl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Nl)).\u0275fac=function(e){return new(e||Ll)(Ke(Dl))},Ll.\u0275prov=pe({factory:Ul,token:Ll,providedIn:"platform"}),Ll);function Hl(){return!!window.history.pushState}function Ul(){return new zl(Ke(Dl))}function Bl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function ql(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Wl(e){return e&&"?"!==e[0]?"?"+e:e}var Gl,Xl=((Gl=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Gl)},Gl.\u0275prov=pe({factory:Yl,token:Gl,providedIn:"root"}),Gl);function Yl(e){var t=Ke(Dl).location;return new Jl(Ke(Nl),t&&t.origin||"")}var Ql,$l,Zl,Kl=new Be("appBaseHref"),Jl=((Zl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Bl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Wl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Wl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Wl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Xl)).\u0275fac=function(e){return new(e||Zl)(Ke(Nl),Ke(Kl,8))},Zl.\u0275prov=pe({token:Zl,factory:Zl.\u0275fac}),Zl),ec=(($l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Bl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Wl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Wl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(Xl)).\u0275fac=function(e){return new(e||$l)(Ke(Nl),Ke(Kl,8))},$l.\u0275prov=pe({token:$l,factory:$l.\u0275fac}),$l),tc=((Ql=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new cu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=ql(rc(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Wl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,rc(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Ql)(Ke(Xl),Ke(Nl))},Ql.normalizeQueryParams=Wl,Ql.joinWithSlash=Bl,Ql.stripTrailingSlash=ql,Ql.\u0275prov=pe({factory:nc,token:Ql,providedIn:"root"}),Ql);function nc(){return new tc(Ke(Xl),Ke(Nl))}function rc(e){return e.replace(/\/index.html$/,"")}var ic=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),oc=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),ac=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),sc=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),uc=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function lc(e,t){return pc(Ys(e)[$s.DateFormat],t)}function cc(e,t){return pc(Ys(e)[$s.TimeFormat],t)}function hc(e,t){return pc(Ys(e)[$s.DateTimeFormat],t)}function fc(e,t){var n=Ys(e),r=n[$s.NumberSymbols][t];if(void 0===r){if(t===uc.CurrencyDecimal)return n[$s.NumberSymbols][uc.Decimal];if(t===uc.CurrencyGroup)return n[$s.NumberSymbols][uc.Group]}return r}function dc(e){if(!e[$s.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[$s.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function pc(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function vc(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var gc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mc={},yc=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,_c=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),bc=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),kc=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function wc(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));for(var a=String(e);a.length<t;)a="0"+a;return r&&(a=a.substr(a.length-t)),o+a}function xc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(e,t){switch(e){case bc.FullYear:return t.getFullYear();case bc.Month:return t.getMonth();case bc.Date:return t.getDate();case bc.Hours:return t.getHours();case bc.Minutes:return t.getMinutes();case bc.Seconds:return t.getSeconds();case bc.FractionalSeconds:return t.getMilliseconds();case bc.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,o);if((n>0||u>-n)&&(u+=n),e===bc.Hours)0===u&&-12===n&&(u=12);else if(e===bc.FractionalSeconds)return s=t,Cc(u,3).substr(0,s);var l=fc(a,uc.MinusSign);return Cc(u,t,l,r,i)}}function Sc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oc.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,o){return function(e,t,n,r,i,o){switch(n){case kc.Months:return function(e,t,n){var r=Ys(e),i=pc([r[$s.MonthsFormat],r[$s.MonthsStandalone]],t);return pc(i,n)}(t,i,r)[e.getMonth()];case kc.Days:return function(e,t,n){var r=Ys(e),i=pc([r[$s.DaysFormat],r[$s.DaysStandalone]],t);return pc(i,n)}(t,i,r)[e.getDay()];case kc.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(o){var u,l=function(e){var t=Ys(e);return dc(t),(t[$s.ExtraData][2]||[]).map((function(e){return"string"==typeof e?vc(e):[vc(e[0]),vc(e[1])]}))}(t),c=function(e,t,n){var r=Ys(e);dc(r);var i=pc([r[$s.ExtraData][0],r[$s.ExtraData][1]],t)||[];return pc(i,n)||[]}(t,i,r);if(l.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],r=n.hours,i=n.minutes,o=e[1],l=o.hours,h=o.minutes;a>=r&&s>=i&&(a<l||a===l&&s<h)&&(u=c[t])}else{var f=e.hours,d=e.minutes;f===a&&d===s&&(u=c[t])}})),u)return u}return function(e,t,n){var r=Ys(e),i=pc([r[$s.DayPeriodsFormat],r[$s.DayPeriodsStandalone]],t);return pc(i,n)}(t,i,r)[a<12?0:1];case kc.Eras:return function(e,t){return pc(Ys(e)[$s.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(i,o,e,t,n,r)}}function Tc(e){return function(t,n,r){var i=-1*r,o=fc(n,uc.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case _c.Short:return(i>=0?"+":"")+Cc(a,2,o)+Cc(Math.abs(i%60),2,o);case _c.ShortGMT:return"GMT"+(i>=0?"+":"")+Cc(a,1,o);case _c.Long:return"GMT"+(i>=0?"+":"")+Cc(a,2,o)+":"+Cc(Math.abs(i%60),2,o);case _c.Extended:return 0===r?"Z":(i>=0?"+":"")+Cc(a,2,o)+":"+Cc(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function Mc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a,s;if(t){var u=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,l=n.getDate();i=1+Math.floor((l+u)/7)}else{var c=(o=n.getFullYear(),a=new Date(o,0,1).getDay(),new Date(o,0,1+(a<=4?4:11)-a)),h=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-c.getTime();i=1+Math.round(h/6048e5)}return Cc(i,e,fc(r,uc.MinusSign))}}var Pc={};function Ec(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Oc(e){return e instanceof Date&&!isNaN(e.valueOf())}var Rc,Ac=function e(){_classCallCheck(this,e)},Ic=((Rc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return Ys(e)[$s.PluralCase]}(t||this.locale)(e)){case ic.Zero:return"zero";case ic.One:return"one";case ic.Two:return"two";case ic.Few:return"few";case ic.Many:return"many";default:return"other"}}}]),n}(Ac)).\u0275fac=function(e){return new(e||Rc)(Ke(Uu))},Rc.\u0275prov=pe({token:Rc,factory:Rc.\u0275fac}),Rc);function jc(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(l){r.e(l)}finally{r.f()}return null}var Dc,Nc,Fc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Lc=((Dc=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Fc(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Vc(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Vc(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){yr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Dc)($o(Ls),$o(Ns),$o(Rs))},Dc.\u0275dir=wt({type:Dc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Dc),Vc=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},zc=((Nc=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Hc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Uc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Uc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Nc)($o(Ls),$o(Ns))},Nc.\u0275dir=wt({type:Nc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Nc),Hc=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Uc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(xe(t),"'."))}var Bc,qc,Wc,Gc,Xc,Yc,Qc,$c,Zc,Kc=((Xc=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===t.indexOf(o))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||Xc)($o(Ls))},Xc.\u0275dir=wt({type:Xc,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ja]}),Xc),Jc=((Gc=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,r){var i=function(e){if(Oc(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=_slicedToArray(e.split("-").map((function(e){return+e})),3),i=r[0],o=r[1],a=r[2];return new Date(i,o-1,a)}if(t=e.match(gc))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),l=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,a,s,u,l),t}(t)}var s=new Date(e);if(!Oc(s))throw new Error('Unable to convert "'.concat(e,'" into a date'));return s}(e);t=function e(t,n){var r=function(e){return Ys(e)[$s.LocaleId]}(t);if(mc[r]=mc[r]||{},mc[r][n])return mc[r][n];var i="";switch(n){case"shortDate":i=lc(t,sc.Short);break;case"mediumDate":i=lc(t,sc.Medium);break;case"longDate":i=lc(t,sc.Long);break;case"fullDate":i=lc(t,sc.Full);break;case"shortTime":i=cc(t,sc.Short);break;case"mediumTime":i=cc(t,sc.Medium);break;case"longTime":i=cc(t,sc.Long);break;case"fullTime":i=cc(t,sc.Full);break;case"short":var o=e(t,"shortTime"),a=e(t,"shortDate");i=wc(hc(t,sc.Short),[o,a]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=wc(hc(t,sc.Medium),[s,u]);break;case"long":var l=e(t,"longTime"),c=e(t,"longDate");i=wc(hc(t,sc.Long),[l,c]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");i=wc(hc(t,sc.Full),[h,f])}return i&&(mc[r][n]=i),i}(n,t)||t;for(var o,a=[];t;){if(!(o=yc.exec(t))){a.push(t);break}var s=(a=a.concat(o.slice(1))).pop();if(!s)break;t=s}var u=i.getTimezoneOffset();r&&(u=Ec(r,u),i=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Ec(t,r)-r))}(i,r));var l="";return a.forEach((function(e){var t=function(e){if(Pc[e])return Pc[e];var t;switch(e){case"G":case"GG":case"GGG":t=Sc(kc.Eras,ac.Abbreviated);break;case"GGGG":t=Sc(kc.Eras,ac.Wide);break;case"GGGGG":t=Sc(kc.Eras,ac.Narrow);break;case"y":t=xc(bc.FullYear,1,0,!1,!0);break;case"yy":t=xc(bc.FullYear,2,0,!0,!0);break;case"yyy":t=xc(bc.FullYear,3,0,!1,!0);break;case"yyyy":t=xc(bc.FullYear,4,0,!1,!0);break;case"M":case"L":t=xc(bc.Month,1,1);break;case"MM":case"LL":t=xc(bc.Month,2,1);break;case"MMM":t=Sc(kc.Months,ac.Abbreviated);break;case"MMMM":t=Sc(kc.Months,ac.Wide);break;case"MMMMM":t=Sc(kc.Months,ac.Narrow);break;case"LLL":t=Sc(kc.Months,ac.Abbreviated,oc.Standalone);break;case"LLLL":t=Sc(kc.Months,ac.Wide,oc.Standalone);break;case"LLLLL":t=Sc(kc.Months,ac.Narrow,oc.Standalone);break;case"w":t=Mc(1);break;case"ww":t=Mc(2);break;case"W":t=Mc(1,!0);break;case"d":t=xc(bc.Date,1);break;case"dd":t=xc(bc.Date,2);break;case"E":case"EE":case"EEE":t=Sc(kc.Days,ac.Abbreviated);break;case"EEEE":t=Sc(kc.Days,ac.Wide);break;case"EEEEE":t=Sc(kc.Days,ac.Narrow);break;case"EEEEEE":t=Sc(kc.Days,ac.Short);break;case"a":case"aa":case"aaa":t=Sc(kc.DayPeriods,ac.Abbreviated);break;case"aaaa":t=Sc(kc.DayPeriods,ac.Wide);break;case"aaaaa":t=Sc(kc.DayPeriods,ac.Narrow);break;case"b":case"bb":case"bbb":t=Sc(kc.DayPeriods,ac.Abbreviated,oc.Standalone,!0);break;case"bbbb":t=Sc(kc.DayPeriods,ac.Wide,oc.Standalone,!0);break;case"bbbbb":t=Sc(kc.DayPeriods,ac.Narrow,oc.Standalone,!0);break;case"B":case"BB":case"BBB":t=Sc(kc.DayPeriods,ac.Abbreviated,oc.Format,!0);break;case"BBBB":t=Sc(kc.DayPeriods,ac.Wide,oc.Format,!0);break;case"BBBBB":t=Sc(kc.DayPeriods,ac.Narrow,oc.Format,!0);break;case"h":t=xc(bc.Hours,1,-12);break;case"hh":t=xc(bc.Hours,2,-12);break;case"H":t=xc(bc.Hours,1);break;case"HH":t=xc(bc.Hours,2);break;case"m":t=xc(bc.Minutes,1);break;case"mm":t=xc(bc.Minutes,2);break;case"s":t=xc(bc.Seconds,1);break;case"ss":t=xc(bc.Seconds,2);break;case"S":t=xc(bc.FractionalSeconds,1);break;case"SS":t=xc(bc.FractionalSeconds,2);break;case"SSS":t=xc(bc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Tc(_c.Short);break;case"ZZZZZ":t=Tc(_c.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Tc(_c.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Tc(_c.Long);break;default:return null}return Pc[e]=t,t}(e);l+=t?t(i,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),l}(t,n,i||this.locale,r)}catch(o){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(xe(e),"'"))}(e,o.message)}}}]),e}()).\u0275fac=function(e){return new(e||Gc)($o(Uu))},Gc.\u0275pipe=Ct({name:"date",type:Gc,pure:!0}),Gc),eh=((Wc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}()).\u0275fac=function(e){return new(e||Wc)},Wc.\u0275pipe=Ct({name:"json",type:Wc,pure:!1}),Wc),th=((qc=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:qc}),qc.\u0275inj=ve({factory:function(e){return new(e||qc)},providers:[{provide:Ac,useClass:Ic}]}),qc),nh=((Bc=function e(){_classCallCheck(this,e)}).\u0275prov=pe({token:Bc,providedIn:"root",factory:function(){return new rh(Ke(Dl),window,Ke(dr))}}),Bc),rh=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),ih=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=oh||(oh=document.querySelector("base"))?oh.getAttribute("href"):null;return null==n?null:(t=n,Yc||(Yc=document.createElement("a")),Yc.setAttribute("href",t),"/"===Yc.pathname.charAt(0)?Yc.pathname:"/"+Yc.pathname)}},{key:"resetBaseElement",value:function(){oh=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return jc(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Al||(Al=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),oh=null,ah=new Be("TRANSITION_ID"),sh=[{provide:Iu,useFactory:function(e,t,n){return function(){n.get(ju).donePromise.then((function(){var n=Il();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[ah,Dl,Oo],multi:!0}],uh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){De.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},De.getAllAngularTestabilities=function(){return e.getAllTestabilities()},De.getAllAngularRootElements=function(){return e.getAllRootElements()},De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push((function(e){var t=De.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Il().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,fl=t}}]),e}(),lh=new Be("EventManagerPlugins"),ch=((Qc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Qc)(Ke(lh),Ke(tl))},Qc.\u0275prov=pe({token:Qc,factory:Qc.\u0275fac}),Qc),hh=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Il().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),fh=((Zc=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||Zc)},Zc.\u0275prov=pe({token:Zc,factory:Zc.\u0275fac}),Zc),dh=(($c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Il().remove(e)}))}}]),n}(fh)).\u0275fac=function(e){return new(e||$c)(Ke(Dl))},$c.\u0275prov=pe({token:$c,factory:$c.\u0275fac}),$c),ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vh=/%COMP%/g;function gh(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?gh(e,i,n):(i=i.replace(vh,e),n.push(i))}return n}function mh(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var yh,_h,bh,kh,wh=((yh=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ch(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ft.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new xh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ft.Native:case ft.ShadowDom:return new Sh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=gh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||yh)(Ke(ch),Ke(dh),Ke(Du))},yh.\u0275prov=pe({token:yh,factory:yh.\u0275fac}),yh),Ch=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ph[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=ph[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=ph[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&gs.DashCase?e.style.setProperty(t,n,r&gs.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&gs.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mh(n)):this.eventManager.addEventListener(e,t,mh(n))}}]),e}(),xh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=i;var s,u=gh(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(vh,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(vh,s)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ch),Sh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.component=o,a.shadowRoot=o.encapsulation===ft.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=gh(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Ch),Th=((_h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(hh)).\u0275fac=function(e){return new(e||_h)(Ke(Dl))},_h.\u0275prov=pe({token:_h,factory:_h.\u0275fac}),_h),Mh=["alt","control","meta","shift"],Ph={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oh={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Rh=((bh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Il().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(Mh.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")})),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Eh.hasOwnProperty(t)&&(t=Eh[t]))}return Ph[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Mh.forEach((function(r){r!=n&&(0,Oh[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(hh)).\u0275fac=function(e){return new(e||bh)(Ke(Dl))},bh.\u0275prov=pe({token:bh,factory:bh.\u0275fac}),bh),Ah=gl(Pl,"browser",[{provide:Vu,useValue:"browser"},{provide:Lu,useValue:function(){ih.makeCurrent(),uh.init()},multi:!0},{provide:Dl,useFactory:function(){return function(e){jt=e}(document),document},deps:[]}]),Ih=[[],{provide:go,useValue:"root"},{provide:dr,useFactory:function(){return new dr},deps:[]},{provide:lh,useClass:Th,multi:!0,deps:[Dl,tl,Vu]},{provide:lh,useClass:Rh,multi:!0,deps:[Dl]},[],{provide:wh,useClass:wh,deps:[ch,dh,Du]},{provide:vs,useExisting:wh},{provide:fh,useExisting:dh},{provide:dh,useClass:dh,deps:[Dl]},{provide:cl,useClass:cl,deps:[tl]},{provide:ch,useClass:ch,deps:[lh,tl]},[]],jh=((kh=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Du,useValue:t.appId},{provide:ah,useExisting:Du},sh]}}}]),e}()).\u0275mod=bt({type:kh}),kh.\u0275inj=ve({factory:function(e){return new(e||kh)(Ke(kh,12))},providers:Ih,imports:[th,Ol]}),kh);"undefined"!=typeof window&&window;var Dh=function e(){_classCallCheck(this,e)};function Nh(e,t){return{type:7,name:e,definitions:t,options:{}}}function Fh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function Lh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function Vh(e){return{type:6,styles:e,offset:null}}function zh(e,t,n){return{type:0,name:e,styles:t,options:n}}function Hh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function Uh(e){Promise.resolve(null).then(e)}var Bh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;Uh((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),qh=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,o=0,a=this.players.length;0==a?Uh((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==a&&n._onFinish()})),e.onDestroy((function(){++i==a&&n._onDestroy()})),e.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function Wh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gh(e){switch(e.length){case 0:return new Bh;case 1:return e[0];default:return new qh(e)}}function Xh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(r.forEach((function(e){var n=e.offset,r=n==u,c=r&&l||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=t.normalizeStyleValue(n,r,s,a)}c[r]=s})),r||s.push(c),l=c,u=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function Yh(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&Qh(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&Qh(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&Qh(n,"destroy",e))}))}}function Qh(e,t,n){var r=n.totalTime,i=$h(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function $h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function Zh(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function Kh(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Jh=function(e,t){return!1},ef=function(e,t){return!1},tf=function(e,t,n){return[]},nf=Wh();(nf||"undefined"!=typeof Element)&&(Jh=function(e,t){return e.contains(t)},ef=function(){if(nf||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:ef}(),tf=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var rf=null,of=!1;function af(e){rf||(rf=("undefined"!=typeof document?document.body:null)||{},of=!!rf.style&&"WebkitAppearance"in rf.style);var t=!0;return rf.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in rf.style)&&of)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in rf.style),t}var sf=ef,uf=Jh,lf=tf;function cf(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var hf,ff=((hf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return af(e)}},{key:"matchesElement",value:function(e,t){return sf(e,t)}},{key:"containsElement",value:function(e,t){return uf(e,t)}},{key:"query",value:function(e,t,n){return lf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new Bh(n,r)}}]),e}()).\u0275fac=function(e){return new(e||hf)},hf.\u0275prov=pe({token:hf,factory:hf.\u0275fac}),hf),df=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new ff,e}();function pf(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vf(parseFloat(t[1]),t[2])}function vf(e,t){switch(t){case"s":return 1e3*e;default:return e}}function gf(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,o="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=vf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=vf(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=e;if(!n){var l=!1,c=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),l=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(e,t,n)}function mf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function yf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else mf(e,n);return n}function _f(e,t,n){return n?t+":"+n+";":""}function bf(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=_f(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=_f(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function kf(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Ef(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),Wh()&&bf(e))}function wf(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Ef(t);e.style[n]=""})),Wh()&&bf(e))}function Cf(e){return Array.isArray(e)?1==e.length?e[0]:Lh(e):e}var xf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sf(e){var t=[];if("string"==typeof e){for(var n;n=xf.exec(e);)t.push(n[1]);xf.lastIndex=0}return t}function Tf(e,t,n){var r=e.toString(),i=r.replace(xf,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function Mf(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Pf=/-+([a-z0-9])/g;function Ef(e){return e.replace(Pf,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Of(e,t){return 0===e||0===t}function Rf(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],o=[];if(r.forEach((function(e){i.hasOwnProperty(e)||o.push(e),i[e]=n[e]})),o.length)for(var a=function(){var n=t[s];o.forEach((function(t){n[t]=If(e,t)}))},s=1;s<t.length;s++)a()}return t}function Af(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function If(e,t){return window.getComputedStyle(e)[t]}var jf=new Set(["true","1"]),Df=new Set(["false","0"]);function Nf(e,t){var n=jf.has(e)||Df.has(e),r=jf.has(t)||Df.has(t);return function(i,o){var a="*"==e||e==i,s="*"==t||t==o;return!a&&n&&"boolean"==typeof i&&(a=i?jf.has(e):Df.has(e)),!s&&r&&"boolean"==typeof o&&(s=o?jf.has(t):Df.has(t)),a&&s}}var Ff=new RegExp("s*:selfs*,?","g");function Lf(e,t,n){return new Vf(e).build(t,n)}var Vf=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new zf(t);return this._resetContextStyleTimingState(n),Af(this,Cf(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,o=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,o.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var l=n.visitTransition(e,t);r+=l.queryCount,i+=l.depCount,a.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach((function(e){if(Hf(e)){var t=e;Object.keys(t).forEach((function(e){Sf(t[e]).forEach((function(e){o.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var a=Mf(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,o=Af(this,Cf(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var o=i[1],a=i[2],s=i[3];t.push(Nf(o,s)),"<"!=a[0]||"*"==o&&"*"==s||t.push(Nf(s,o))}(e,i,r)})):i.push(n),i),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:Uf(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return Af(n,e,t)})),options:Uf(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,o=e.steps.map((function(e){t.currentTime=r;var o=Af(n,e,t);return i=Math.max(i,t.currentTime),o}));return t.currentTime=i,{type:3,steps:o,options:Uf(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Bf(gf(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=Bf(0,0,"");return i.dynamic=!0,i.strValue=r,i}return Bf((n=n||gf(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Vh({});if(5==i.type)n=this.visitKeyframes(i,t);else{var o=e.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Vh(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,t);u.isEmptyStep=a,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(Hf(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var o in t)if(t[o].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,l,c,h=t.collectedStyles[t.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),t.options&&(a=e[r],s=t.options,u=t.errors,l=s.params||{},(c=Sf(a)).length&&c.forEach((function(e){l.hasOwnProperty(e)||u.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,l=e.steps.map((function(e){var r=n._makeStyleAst(e,t),l=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(Hf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(Hf(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),c=0;return null!=l&&(i++,c=r.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return l.forEach((function(e,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=a,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:Af(this,Cf(e.animation),t),options:Uf(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:Uf(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uf(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(Ff,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),o=i[0],a=i[1];t.currentQuerySelector=n.length?n+" "+o:o,Zh(t.collectedStyles,t.currentQuerySelector,{});var s=Af(this,Cf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:e.selector,options:Uf(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:gf(e.timings,t.errors,!0);return{type:12,animation:Af(this,Cf(e.animation),t),timings:n,options:null}}}]),e}(),zf=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Hf(e){return!Array.isArray(e)&&"object"==typeof e}function Uf(e){var t;return e?(e=mf(e)).params&&(e.params=(t=e.params)?mf(t):null):e={},e}function Bf(e,t,n){return{duration:e,delay:t,easing:n}}function qf(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var Wf=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),Gf=new RegExp(":enter","g"),Xf=new RegExp(":leave","g");function Yf(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Qf).buildKeyframes(e,t,n,r,i,o,a,s,u,l)}var Qf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Wf;var c=new Zf(e,t,u,r,i,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Af(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[qf(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?pf(n.duration):null,o=null!=n.delay?pf(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),Af(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&((i=t.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$f);var a=pf(o.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return Af(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?pf(e.options.delay):0;e.steps.forEach((function(a){var s=t.createSubContext(e.options);o&&s.delayNextStep(o),Af(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return gf(t.params?Tf(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach((function(e){o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?pf(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$f);var a=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);o&&s.delayNextStep(o),r===t.element&&(u=s.currentTimeline),Af(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),a=o*(t.currentQueryTotal-1),s=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;Af(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}]),e}(),$f={},Zf=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$f,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Kf(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=pf(r.duration)),null!=r.delay&&(i.delay=pf(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=Tf(o[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=$f,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Jf(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,o){var a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Gf,"."+this._enterClassName)).replace(Xf,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return i||0!=a.length||o.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),Kf=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var o=r&&r.params||{},a=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):yf(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=Tf(a[e],o,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(o,a){var s=yf(o,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=a/e.duration),i.push(s)}));var o=t.size?Mf(t.values()):[],a=n.size?Mf(n.values()):[];if(r){var s=i[0],u=mf(s);s.offset=0,u.offset=1,i=[s,u]}return qf(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),Jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=yf(e[0],!1);u.offset=0,o.push(u);var l=yf(e[0],!1);l.offset=ed(s),o.push(l);for(var c=e.length-1,h=1;h<=c;h++){var f=yf(e[h],!1);f.offset=ed((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",e=o}return qf(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Kf);function ed(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var td=function e(){_classCallCheck(this,e)},nd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return Ef(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",o=n.toString().trim();if(rd[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return o+i}}]),n}(td),rd=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function id(e,t,n,r,i,o,a,s,u,l,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:f}}var od={},ad=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}},{key:"build",value:function(e,t,n,r,i,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||od,f=this.buildStyles(n,a&&a.params||od,c),d=s&&s.params||od,p=this.buildStyles(r,d,c),v=new Set,g=new Map,m=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),d)},b=l?[]:Yf(e,t,this.ast.animation,i,o,f,p,_,u,c),k=0;if(b.forEach((function(e){k=Math.max(e.duration+e.delay,k)})),c.length)return id(t,this._triggerName,n,r,y,f,p,[],[],g,m,k,c);b.forEach((function(e){var n=e.element,r=Zh(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=Zh(m,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&v.add(n)}));var w=Mf(v.values());return id(t,this._triggerName,n,r,y,f,p,b,w,g,m,k)}}]),e}(),sd=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},r=mf(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var o=i[e];o.length>1&&(o=Tf(o,r,t)),n[e]=o}))}})),n}}]),e}(),ud=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new sd(e.style,e.options&&e.options.params||{})})),ld(this.states,"true","1"),ld(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new ad(t,e,r.states))})),this.fallbackTransition=new ad(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function ld(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var cd=new Wf,hd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=Lf(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=Xh(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[e],s=new Map;if(a?(n=Yf(this._driver,t,a,"ng-enter","ng-leave",{},{},i,cd,o)).forEach((function(e){var t=Zh(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var u=Gh(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=u,u.onDestroy((function(){return r.destroy(e)})),this.players.push(u),u}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=$h(t,"","","");return Yh(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),fd=[],dd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var o=mf(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),gd=new vd("void"),md=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xd(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=Zh(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};a.push(s);var u=Zh(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(xd(e,"ng-trigger"),xd(e,"ng-trigger-"+t),u[t]=gd),function(){o._engine.afterFlush((function(){var e=a.indexOf(s);e>=0&&a.splice(e,1),o._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(t),a=new _d(this.id,t,e),s=this._engine.statesByElement.get(e);s||(xd(e,"ng-trigger"),xd(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],l=new vd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[t]=l,u||(u=gd),"void"===l.value||u.value!==l.value){var c=Zh(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=o.matchTransition(u.value,l.value,e,l.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:f}),f||(xd(e,"ng-animate-queued"),a.onStart((function(){Sd(e,"ng-animate-queued")}))),a.onDone((function(){var t=r.players.indexOf(a);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}(u.params,l.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){wf(e,p),kf(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,o=this._engine.statesByElement.get(e);if(o){var a=[];if(Object.keys(o).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Gh(a).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var o=t._triggers[i].fallbackTransition,a=t._engine.statesByElement.get(e)[i]||gd,s=new vd("void"),u=new _d(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else for(var a=e;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==dd||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){xd(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=t._elementListeners.get(o);a&&a.forEach((function(t){if(t.name==r.triggerName){var n=$h(o,r.triggerName,r.fromState.value,r.toState.value);n._data=e,Yh(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),yd=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new md(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,r){if(bd(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(bd(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xd(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sd(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(bd(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return bd(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return Gh(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=dd,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)xd(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Gh(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new Wf,i=[],o=new Map,a=[],s=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)c.add(t[r])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Cd(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return xd(e,n)}))}));for(var g=[],m=new Set,y=new Set,_=0;_<this.collectedLeaveElements.length;_++){var b=this.collectedLeaveElements[_],k=b.__ng_removed;k&&k.setForRemoval&&(g.push(b),m.add(b),k.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):y.add(b))}var w=new Map,C=Cd(f,Array.from(m));C.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return xd(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return Sd(e,n)}))})),C.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return Sd(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var x=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,o=e.element;if(x.push(t),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,o),d=w.get(o),v=p.get(o),g=n._buildInstruction(e,r,v,d,f);if(!g.errors||!g.errors.length)return f||e.isFallbackTransition?(t.onStart((function(){return wf(o,g.fromStyles)})),t.onDestroy((function(){return kf(o,g.toStyles)})),void i.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(o,g.timelines),a.push({instruction:g,player:t,element:o}),g.queriedElements.forEach((function(e){return Zh(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))})));S.push(g)}));if(S.length){var M=[];S.forEach((function(e){M.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return M.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(M)}var P=new Map,E=new Map;a.forEach((function(e){var t=e.element;r.has(t)&&(E.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,P))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){Zh(P,t,[]).push(e),e.destroy()}))}));var O=g.filter((function(e){return Md(e,u,l)})),R=new Map;wd(R,this.driver,y,l,"*").forEach((function(e){Md(e,u,l)&&O.push(e)}));var A=new Map;d.forEach((function(e,t){wd(A,n.driver,new Set(e),u,"!")})),O.forEach((function(e){var t=R.get(e),n=A.get(e);R.set(e,Object.assign(Object.assign({},t),n))}));var I=[],j=[],D={};a.forEach((function(e){var t=e.element,a=e.player,s=e.instruction;if(r.has(t)){if(c.has(t))return a.onDestroy((function(){return kf(t,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void i.push(a);var u=D;if(E.size>1){for(var l=t,h=[];l=l.parentNode;){var f=E.get(l);if(f){u=f;break}h.push(l)}h.forEach((function(e){return E.set(e,u)}))}var d=n._buildAnimation(a.namespaceId,s,P,o,A,R);if(a.setRealPlayer(d),u===D)I.push(a);else{var p=n.playersByElement.get(u);p&&p.length&&(a.parentPlayer=Gh(p)),i.push(a)}}else wf(t,s.fromStyles),a.onDestroy((function(){return kf(t,s.toStyles)})),j.push(a),c.has(t)&&i.push(a)})),j.forEach((function(e){var t=o.get(e.element);if(t&&t.length){var n=Gh(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var N=0;N<g.length;N++){var F=g[N],L=F.__ng_removed;if(Sd(F,"ng-leave"),!L||!L.hasAnimation){var V=[];if(s.size){var z=s.get(F);z&&z.length&&V.push.apply(V,_toConsumableArray(z));for(var H=this.driver.query(F,".ng-animating",!0),U=0;U<H.length;U++){var B=s.get(H[U]);B&&B.length&&V.push.apply(V,_toConsumableArray(B))}}var q=V.filter((function(e){return!e.destroyed}));q.length?Td(this,F,q):this.processLeaveNode(F)}}return g.length=0,I.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),I}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var o=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(o=a)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&o.push(e)}))}}return(n||r)&&(o=o.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,o=t.element,a=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var l=function(){var e=r.value.element,u=e!==o,l=Zh(n,e,[]);i._getPreviousPlayers(e,u,a,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)}))};for(u.s();!(r=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}wf(o,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,o){var a=this,s=t.triggerName,u=t.element,l=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Bh(t.duration,t.delay);var p,v,g=f!==u,m=(p=(n.get(f)||fd).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof qh?e(i.players,n):n.push(i)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),y=i.get(f),_=o.get(f),b=Xh(0,a._normalizer,0,t.keyframes,y,_),k=a._buildPlayer(t,b,m);if(t.subTimeline&&r&&h.add(f),g){var w=new _d(e,s,f);w.setRealPlayer(k),l.push(w)}return k}));l.forEach((function(e){Zh(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete e[t]}return r}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return xd(e,"ng-animating")}));var d=Gh(f);return d.onDestroy((function(){c.forEach((function(e){return Sd(e,"ng-animating")})),kf(u,t.toStyles)})),h.forEach((function(e){Zh(r,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Bh(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),_d=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new Bh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return Yh(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){Zh(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function bd(e){return e&&1===e.nodeType}function kd(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function wd(e,t,n,r,i){var o=[];n.forEach((function(e){return o.push(kd(e))}));var a=[];r.forEach((function(n,r){var o={};n.forEach((function(e){var n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=pd,a.push(r))})),e.set(r,o)}));var s=0;return n.forEach((function(e){return kd(e,o[s++])})),a}function Cd(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var o=i.get(t);if(o)return o;var a=t.parentNode;return o=n.has(a)?a:r.has(a)?1:e(a),i.set(t,o),o}(e);1!==t&&n.get(t).push(e)})),n}function xd(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Sd(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Td(e,t,n){Gh(n).onDone((function(){return e.processLeaveNode(t)}))}function Md(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Pd=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new yd(t,n,r),this._timelineEngine=new hd(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var o=e+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=Lf(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(e,t){return new ud(e,t)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(Kh(n),2),o=i[0],a=i[1];this._timelineEngine.command(o,t,a,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var o=_slicedToArray(Kh(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function Ed(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=Rd(t[0]),t.length>1&&(r=Rd(t[t.length-1]))):t&&(n=Rd(t)),n||r?new Od(e,n,r):null}var Od=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&kf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(kf(this._element,this._initialStyles),this._endStyles&&(kf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(wf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wf(this._element,this._endStyles),this._endStyles=null),kf(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function Rd(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];Ad(i)&&((t=t||{})[i]=e[i])}return t}function Ad(e){return"display"===e||"position"===e}var Id=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Vd(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),Ld(e,"",t),Fd(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){jd(this._element,this._name,"paused")}},{key:"resume",value:function(){jd(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=Dd(this._element,this._name);this._position=e*this._duration,Ld(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Fd(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=Vd(e,"").split(","),(r=Nd(n,t))>=0&&(n.splice(r,1),Ld(e,"",n.join(","))))}}]),e}();function jd(e,t,n){Ld(e,"PlayState",n,Dd(e,t))}function Dd(e,t){var n=Vd(e,"");return n.indexOf(",")>0?Nd(n.split(","),t):Nd([n],t)}function Nd(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Fd(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Ld(e,t,n,r){var i="animation"+t;if(null!=r){var o=e.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}e.style[i]=n}function Vd(e,t){return e.style["animation"+t]}var zd=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Id(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:If(e.element,r))}))}this.currentSnapshot=t}}]),e}(),Hd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=cf(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Bh),Ud=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return af(e)}},{key:"matchesElement",value:function(e,t){return sf(e,t)}},{key:"containsElement",value:function(e,t){return uf(e,t)}},{key:"query",value:function(e,t,n){return lf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return cf(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var o=document.createElement("style");return o.innerHTML=r,o}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(e){return e instanceof zd})),u={};Of(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var l=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Rf(e,t,u));if(0==n)return new Hd(e,l);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=Ed(e,t),d=new zd(e,t,c,n,r,i,l,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Bd=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:If(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),qd=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Wd().toString()),this._cssKeyframesDriver=new Ud}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return af(e)}},{key:"matchesElement",value:function(e,t){return sf(e,t)}},{key:"containsElement",value:function(e,t){return uf(e,t)}},{key:"query",value:function(e,t,n){return lf(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},l=o.filter((function(e){return e instanceof Bd}));Of(n,r)&&l.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=Ed(e,t=Rf(e,t=t.map((function(e){return yf(e,!1)})),u));return new Bd(e,t,s,c)}}]),e}();function Wd(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Gd,Xd=((Gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:ft.None,styles:[],data:{animation:[]}}),i}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Lh(e):e;return $d(this._renderer,null,t,"register",[n]),new Yd(t,this._renderer)}}]),n}(Dh)).\u0275fac=function(e){return new(e||Gd)(Ke(vs),Ke(Dl))},Gd.\u0275prov=pe({token:Gd,factory:Gd.\u0275fac}),Gd),Yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new Qd(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Qd=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $d(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function $d(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Zd,Kd,Jd,ep=((Zd=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new tp("",r,this.engine),this._rendererCache.set(r,i)),i}var o=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(o,a,e,r.name,r)})),new np(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||Zd)(Ke(vs),Ke(Pd),Ke(tl))},Zd.\u0275prov=pe({token:Zd,factory:Zd.\u0275fac}),Zd),tp=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),np=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,r,i,o)).factory=e,a.namespaceId=r,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,o=this;if("@"==t.charAt(0)){var a,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),l="";return"@"!=u.charAt(0)&&(i=(r=u).indexOf("."),u=(a=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,s,u,l,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(tp),rp=((Kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return n}(Pd)).\u0275fac=function(e){return new(e||Kd)(Ke(Dl),Ke(df),Ke(td))},Kd.\u0275prov=pe({token:Kd,factory:Kd.\u0275fac}),Kd),ip=[{provide:df,useFactory:function(){return"function"==typeof Wd()?new qd:new Ud}},{provide:new Be("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Dh,useClass:Xd},{provide:td,useFactory:function(){return new nd}},{provide:Pd,useClass:rp},{provide:vs,useFactory:function(e,t,n){return new ep(e,t,n)},deps:[wh,Pd,tl]}],op=((Jd=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Jd}),Jd.\u0275inj=ve({factory:function(e){return new(e||Jd)},providers:ip,imports:[jh]}),Jd);function ap(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),B(t,r)):Q(t)}var sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(E),up=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),lp={},cp=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new hp(e,this.resultSelector))}}]),e}(),hp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(lp),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(L(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===lp?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V),fp=new C((function(e){return e.complete()}));function dp(e){return e?function(e){return new C((function(t){return e.schedule((function(){return t.complete()}))}))}(e):fp}function pp(e){return new C((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?q(n):dp()).subscribe(t)}))}function vp(){return Y(1)}function gp(e,t){return function(n){return n.lift(new mp(e,t))}}var mp=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yp(e,this.predicate,this.thisArg))}}]),e}(),yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(g),_p=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function bp(e){return function(t){return 0===e?dp():t.lift(new kp(e))}}var kp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new _p}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wp(e,this.total))}}]),e}(),wp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(g);function Cp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tp;return function(t){return t.lift(new xp(e))}}var xp=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Sp(e,this.errorFactory))}}]),e}(),Sp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(g);function Tp(){return new up}function Mp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Pp(e))}}var Pp=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ep(e,this.defaultValue))}}]),e}(),Ep=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function Op(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gp((function(t,n){return e(t,n,r)})):_,bp(1),n?Mp(t):Cp((function(){return new up})))}}function Rp(e){return function(t){var n=new Ap(e),r=t.lift(n);return n.caught=r}}var Ap=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ip(e,this.selector,this.caught))}}]),e}(),Ip=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new A(this,void 0,void 0);this.add(r);var i=L(this,t,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(V);function jp(e){return function(t){return 0===e?dp():t.lift(new Dp(e))}}var Dp=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new _p}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Np(e,this.total))}}]),e}(),Np=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function Fp(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?gp((function(t,n){return e(t,n,r)})):_,jp(1),n?Mp(t):Cp((function(){return new up})))}}var Lp=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vp(e,this.predicate,this.thisArg,this.source))}}]),e}(),Vp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function zp(e,t){return"function"==typeof t?function(n){return n.pipe(zp((function(n,r){return q(e(n,r)).pipe(z((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Hp(e))}}var Hp=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Up(e,this.project))}}]),e}(),Up=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new A(this,t,n),o=this.destination;o.add(i),this.innerSubscription=L(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(V);function Bp(){return vp()(ap.apply(void 0,arguments))}function qp(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wp(e,t,n))}}var Wp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Gp(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Gp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(g);function Xp(e,t){return W(e,t,1)}function Yp(){}function Qp(e,t,n){return function(r){return r.lift(new Zp(e,t,n))}}var $p,Zp=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kp(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e))._tapNext=Yp,s._tapError=Yp,s._tapComplete=Yp,s._tapError=o||Yp,s._tapComplete=a||Yp,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||Yp,s._tapError=i.error||Yp,s._tapComplete=i.complete||Yp),s}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(g),Jp=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ev(e,this.callback))}}]),e}(),ev=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new d(r)),i}return n}(g),tv=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},nv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tv),rv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(tv),iv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tv),ov=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(tv),av=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tv),sv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tv),uv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(tv),lv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tv),cv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tv),hv=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),fv=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),dv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),pv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),vv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),gv=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),mv=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),yv=(($p=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||$p)},$p.\u0275cmp=gt({type:$p,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&ra(0,"router-outlet")},directives:function(){return[Em]},encapsulation:2}),$p),_v=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function bv(e){return new _v(e)}function kv(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function wv(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Cv=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function xv(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Sv(r,Tv(t,r))}}function Sv(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&xv(e.children,t)}function Tv(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Mv(e){var t=e.children&&e.children.map(Mv),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yv),n}function Pv(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Ev(e[n=r[o]],t[n]))return!1;return!0}function Ev(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Ov(e){return Array.prototype.concat.apply([],e)}function Rv(e){return e.length>0?e[e.length-1]:null}function Av(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Iv(e){return ua(e)?e:sa(e)?q(Promise.resolve(e)):ap(e)}function jv(e,t,n){return n?function(e,t){return Pv(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Lv(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Ev(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Lv(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Lv(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Lv(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Dv=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Uv.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bv(this.queryParams)),this._queryParamMap}}]),e}(),Nv=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,Av(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Bv(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Fv=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return Qv(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=bv(this.parameters)),this._parameterMap}}]),e}();function Lv(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Vv(e,t){var n=[];return Av(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Av(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var zv=function e(){_classCallCheck(this,e)},Hv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new eg(e);return new Dv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Bv(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Av(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Vv(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Bv(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Wv(e),"=").concat(Wv(t))})).join("&"):"".concat(Wv(e),"=").concat(Wv(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Uv=new Hv;function Bv(e){return e.segments.map((function(e){return Qv(e)})).join("/")}function qv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wv(e){return qv(e).replace(/%3B/gi,";")}function Gv(e){return qv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xv(e){return decodeURIComponent(e)}function Yv(e){return Xv(e.replace(/\+/g,"%20"))}function Qv(e){return"".concat(Gv(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Gv(e),"=").concat(Gv(t[e]))})).join("")));var t}var $v=/^[^\/()?;=#]+/;function Zv(e){var t=e.match($v);return t?t[0]:""}var Kv=/^[^=?&#]+/,Jv=/^[^?&#]+/,eg=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nv([],{}):new Nv([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Nv(e,t)),n}},{key:"parseSegment",value:function(){var e=Zv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Fv(Xv(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Zv(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Zv(this.remaining);r&&(n=r,this.capture(n))}e[Xv(t)]=Xv(n)}}},{key:"parseQueryParam",value:function(e){var t,n,r=(t=this.remaining,(n=t.match(Kv))?n[0]:"");if(r){this.capture(r);var i="";if(this.consumeOptional("=")){var o=function(e){var t=e.match(Jv);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}var a=Yv(r),s=Yv(i);if(e.hasOwnProperty(a)){var u=e[a];Array.isArray(u)||(u=[u],e[a]=u),u.push(s)}else e[a]=s}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Zv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Nv([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),tg=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=ng(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=ng(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=rg(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return rg(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function ng(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=ng(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function rg(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=rg(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ig=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function og(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var ag=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,fg(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(tg);function sg(e,t){var n=function(e,t){var n=new cg([],{},{},"",{},"primary",t,null,e.root,-1,{});return new hg("",new ig(n,[]))}(e,t),r=new sp([new Fv("",{})]),i=new sp({}),o=new sp({}),a=new sp({}),s=new sp(""),u=new ug(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new ag(new ig(u,[]),n)}var ug=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(z((function(e){return bv(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z((function(e){return bv(e)})))),this._queryParamMap}}]),e}();function lg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var cg=function(){function e(t,n,r,i,o,a,s,u,l,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=bv(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=bv(this.queryParams)),this._queryParamMap}}]),e}(),hg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,fg(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return dg(this._root)}}]),n}(tg);function fg(e,t){t.value._routerState=e,t.children.forEach((function(t){return fg(e,t)}))}function dg(e){var t=e.children.length>0?" { ".concat(e.children.map(dg).join(", ")," } "):"";return"".concat(e.value).concat(t)}function pg(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Pv(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Pv(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Pv(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Pv(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function vg(e,t){var n,r;return Pv(e.params,t.params)&&Lv(n=e.url,r=t.url)&&n.every((function(e,t){return Pv(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||vg(e.parent,t.parent))}function gg(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function mg(e,t,n,r,i){var o={};return r&&Av(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Dv(n.root===e?t:function e(t,n,r){var i={};return Av(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new Nv(t.segments,i)}(n.root,e,t),o,i)}var yg=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&gg(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Rv(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),_g=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function bg(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function kg(e,t,n){if(e||(e=new Nv([],{})),0===e.segments.length&&e.hasChildren())return wg(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=bg(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Tg(s,u,a))return o;r+=2}else{if(!Tg(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Nv(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Nv(e.segments.slice(r.pathIndex),e.children),wg(o,0,i)}return r.match&&0===i.length?new Nv(e.segments,{}):r.match&&!e.hasChildren()?Cg(e,t,n):r.match?wg(e,0,i):Cg(e,t,n)}function wg(e,t,n){if(0===n.length)return new Nv(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Av(r,(function(n,r){null!==n&&(i[r]=kg(e.children[r],t,n))})),Av(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Nv(e.segments,i)}function Cg(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=xg(n[i].outlets);return new Nv(r,o)}if(0===i&&gg(n[0]))r.push(new Fv(e.segments[t].path,n[0])),i++;else{var a=bg(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&gg(s)?(r.push(new Fv(a,Sg(s))),i+=2):(r.push(new Fv(a,{})),i++)}}return new Nv(r,{})}function xg(e){var t={};return Av(e,(function(e,n){null!==e&&(t[n]=Cg(new Nv([],{}),0,e))})),t}function Sg(e){var t={};return Av(e,(function(e,n){return t[n]="".concat(e)})),t}function Tg(e,t,n){return e==n.path&&Pv(t,n.parameters)}var Mg=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),pg(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=og(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Av(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=og(e),o=e.value.component?r.children:t;Av(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=og(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new gv(e.value.snapshot))})),e.children.length&&this.forwardEvent(new pv(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(pg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Pg(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Pg(e){pg(e.value),e.children.forEach(Pg)}function Eg(e){return"function"==typeof e}function Og(e){return e instanceof Dv}var Rg=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Ag=function e(t){_classCallCheck(this,e),this.urlTree=t};function Ig(e){return new C((function(t){return t.error(new Rg(e))}))}function jg(e){return new C((function(t){return t.error(new Ag(e))}))}function Dg(e){return new C((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Ng=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(nt)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(z((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Rp((function(t){if(t instanceof Ag)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Rg)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(z((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Rp((function(e){if(e instanceof Rg)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Nv([],{primary:e}):e;return new Dv(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z((function(e){return new Nv([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return ap({});var o=[],a=[],s={};return Av(n,(function(n,i){var u,l,c=(u=i,l=n,r.expandSegmentGroup(e,t,l,u)).pipe(z((function(e){return s[i]=e})));"primary"===i?o.push(c):a.push(c)})),ap.apply(null,o.concat(a)).pipe(vp(),Op(),z((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return ap.apply(void 0,_toConsumableArray(n)).pipe(z((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Rp((function(e){if(e instanceof Rg)return ap(null);throw e})))})),vp(),Fp((function(e){return!!e})),Rp((function(e,n){if(e instanceof up||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return ap(new Nv([],{}));throw new Rg(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return zg(r)!==o?Ig(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Ig(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?jg(o):this.lineralizeSegments(n,o).pipe(W((function(n){var o=new Nv(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Fg(t,r,i),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return Ig(t);var f=this.applyRedirectCommands(l,r.redirectTo,h);return r.redirectTo.startsWith("/")?jg(f):this.lineralizeSegments(r,f).pipe(W((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(z((function(e){return n._loadedConfig=e,new Nv(r,{})}))):ap(new Nv(r,{}));var o=Fg(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Ig(t);var l=r.slice(u);return this.getChildConfig(e,n,r).pipe(W((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Vg(e,t,n)&&"primary"!==zg(n)}))}(e,n,r)?{segmentGroup:Lg(new Nv(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==zg(o)&&(n[zg(o)]=new Nv([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Nv(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Vg(e,t,n)}))}(e,n,r)?{segmentGroup:Lg(new Nv(e.segments,function(e,t,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Vg(e,t,s)&&!r[zg(s)]&&(o[zg(s)]=new Nv([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,l,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(z((function(e){return new Nv(s,e)}))):0===r.length&&0===u.length?ap(new Nv(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(z((function(e){return new Nv(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?ap(new Cv(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ap(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?q(i).pipe(z((function(r){var i,o=e.get(r);if(function(e){return e&&Eg(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Eg(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Iv(i)}))).pipe(vp(),(r=function(e){return!0===e},function(e){return e.lift(new Lp(r,void 0,e))})):ap(!0)}(e.injector,t,n).pipe(W((function(n){return n?r.configLoader.load(e.injector,t).pipe(z((function(e){return t._loadedConfig=e,e}))):function(e){return new C((function(t){return t.error(kv("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):ap(new Cv([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return ap(n);if(r.numberOfChildren>1||!r.children.primary)return Dg(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Dv(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Av(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return Av(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new Nv(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Fg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||wv)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Lg(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Nv(e.segments.concat(t.segments),t.children)}return e}function Vg(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function zg(e){return e.outlet||"primary"}var Hg=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Ug=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Bg(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function qg(e,t,n){var r=og(e),i=e.value;Av(r,(function(e,r){qg(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Ug(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Wg=Symbol("INITIAL_VALUE");function Gg(){return zp((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return R(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,i).lift(new cp(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(jp(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return R(r)?(t.pop(),function(e){return Bp(t,e,r)}):function(e){return Bp(t,e)}}(Wg))})))).pipe(qp((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Wg)return e;if(r===Wg&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Og(r))return r}return e}),e)}),Wg),gp((function(e){return e!==Wg})),z((function(e){return Og(e)?e:!0===e})),jp(1))}))}function Xg(e,t){return null!==e&&t&&t(new vv(e)),ap(!0)}function Yg(e,t){return null!==e&&t&&t(new dv(e)),ap(!0)}function Qg(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?ap(r.map((function(r){return pp((function(){var i,o=Bg(r,t,n);if(function(e){return e&&Eg(e.canActivate)}(o))i=Iv(o.canActivate(t,e));else{if(!Eg(o))throw new Error("Invalid CanActivate guard");i=Iv(o(t,e))}return i.pipe(Fp())}))}))).pipe(Gg()):ap(!0)}function $g(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return pp((function(){return ap(t.guards.map((function(i){var o,a=Bg(i,t.node,n);if(function(e){return e&&Eg(e.canActivateChild)}(a))o=Iv(a.canActivateChild(r,e));else{if(!Eg(a))throw new Error("Invalid CanActivateChild guard");o=Iv(a(r,e))}return o.pipe(Fp())}))).pipe(Gg())}))}));return ap(i).pipe(Gg())}var Zg=function e(){_classCallCheck(this,e)},Kg=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=tm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new cg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ig(n,t),i=new hg(this.url,r);return this.inheritParamsAndData(i._root),ap(i)}catch(o){return new C((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=lg(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Vv(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,o=_createForOfIteratorHelper(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,t,n,r)}catch(s){if(!(s instanceof Zg))throw s}}}catch(u){o.e(u)}finally{o.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new Zg}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Zg;if((e.outlet||"primary")!==r)throw new Zg;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Rv(n).parameters:{};i=new cg(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,im(e),r,e.component,e,Jg(t),em(t)+n.length,om(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Zg;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||wv)(n,e,t);if(!r)throw new Zg;var i={};Av(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new cg(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,im(e),r,e.component,e,Jg(t),em(t)+o.length,om(e))}var l=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=tm(t,o,a,l,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(l,h);return[new ig(i,d)]}if(0===l.length&&0===f.length)return[new ig(i,[])];var p=this.processSegment(l,h,f,"primary");return[new ig(i,p)]}}]),e}();function Jg(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function em(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function tm(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return nm(e,t,n)&&"primary"!==rm(n)}))}(e,n,r)){var o=new Nv(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==rm(s)){var u=new Nv([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[rm(s)]=u}}}catch(l){a.e(l)}finally{a.f()}return i}(e,t,r,new Nv(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return nm(e,t,n)}))}(e,n,r)){var a=new Nv(e.segments,function(e,t,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(nm(e,n,l)&&!i[rm(l)]){var c=new Nv([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[rm(l)]=c}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Nv(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function nm(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function rm(e){return e.outlet||"primary"}function im(e){return e.data||{}}function om(e){return e.resolve||{}}function am(e,t,n,r){var i=Bg(e,t,r);return Iv(i.resolve?i.resolve(t,n):i(t,n))}function sm(e){return function(t){return t.pipe(zp((function(t){var n=e(t);return n?q(n).pipe(z((function(){return t}))):q([t])})))}}var um=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),lm=new Be("ROUTES"),cm=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Cv(Ov(i.injector.get(lm)).map(Mv),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?q(this.loader.load(e)):Iv(e()).pipe(W((function(e){return e instanceof rt?ap(e):q(t.compiler.compileModuleAsync(e))})))}}]),e}(),hm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function fm(e){throw e}function dm(e,t,n){return t.parse("/")}function pm(e,t){return ap(null)}var vm,gm,mm,ym=((mm=function(){function e(t,n,r,i,o,a,s,u){var l=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=fm,this.malformedUriErrorHandler=dm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pm,afterPreactivation:pm},this.urlHandlingStrategy=new hm,this.routeReuseStrategy=new um,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(nt),this.console=o.get(Hu);var c=o.get(tl);this.isNgZoneEnabled=c instanceof tl,this.resetConfig(u),this.currentUrlTree=new Dv(new Nv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cm(a,s,(function(e){return l.triggerEvent(new hv(e))}),(function(e){return l.triggerEvent(new fv(e))})),this.routerState=sg(this.currentUrlTree,this.rootComponentType),this.transitions=new sp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(gp((function(e){return 0!==e.id})),z((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),zp((function(e){var r,i,o,a,s=!1,u=!1;return ap(e).pipe(Qp((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),zp((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ap(e).pipe(zp((function(e){var r=t.transitions.getValue();return n.next(new nv(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?fp:[e]})),zp((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(zp((function(e){return function(e,t,n,r,i){return new Ng(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(z((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Qp((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(W((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Kg(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(z((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Qp((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Qp((function(e){var r=new av(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,l=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new nv(u,t.serializeUrl(l),c,h);n.next(d);var p=sg(l,t.rootComponentType).snapshot;return ap(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),fp})),sm((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Qp((function(e){var n=new sv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),z((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=og(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Lv(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Lv(e.url,t.url)||!Pv(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vg(e,t)||!Pv(e.queryParams,t.queryParams);case"paramsChange":default:return!vg(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Hg(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),l&&o.canDeactivateChecks.push(new Ug(u&&u.outlet&&u.outlet.component||null,s))}else s&&qg(n,u,o),o.canActivateChecks.push(new Hg(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),Av(a,(function(e,t){return qg(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(W((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?ap(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return q(e).pipe(W((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ap(o.map((function(o){var a,s=Bg(o,t,i);if(function(e){return e&&Eg(e.canDeactivate)}(s))a=Iv(s.canDeactivate(e,t,n,r));else{if(!Eg(s))throw new Error("Invalid CanDeactivate guard");a=Iv(s(e,t,n,r))}return a.pipe(Fp())}))).pipe(Gg()):ap(!0)}(e.component,e.route,n,t,r)})),Fp((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(W((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return q(t).pipe(Xp((function(t){return q([Yg(t.route.parent,r),Xg(t.route,r),$g(e,t.path,n),Qg(e,t.route,n)]).pipe(vp(),Fp((function(e){return!0!==e}),!0))})),Fp((function(e){return!0!==e}),!0))}(r,a,e,t):ap(n)})),z((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Qp((function(e){if(Og(e.guardsResult)){var n=kv('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Qp((function(e){var n=new uv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),gp((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new iv(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),sm((function(e){if(e.guards.canActivateChecks.length)return ap(e).pipe(Qp((function(e){var n=new lv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(W((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?q(i).pipe(Xp((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return ap({});if(1===i.length){var o=i[0];return am(e[o],t,n,r).pipe(z((function(e){return _defineProperty({},o,e)})))}var a={};return q(i).pipe(W((function(i){return am(e[i],t,n,r).pipe(z((function(e){return a[i]=e,e})))}))).pipe(Op(),z((function(){return a})))}(e._resolve,e,t,r).pipe(z((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),lg(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return b(qp(e,t),bp(1),Mp(t))(n)}:function(t){return b(qp((function(t,n,r){return e(t,n,r+1)})),bp(1))(t)}}((function(e,t){return e})),z((function(t){return e}))):ap(e)})))}),Qp((function(e){var n=new cv(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),sm((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),z((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(s){o.e(s)}finally{o.f()}return e(t,n)}))}(t,n,r);return new ig(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,l=new ug(new sp((u=n.value).url),new sp(u.params),new sp(u.queryParams),new sp(u.fragment),new sp(u.data),u.outlet,u.component,u),c=n.children.map((function(n){return e(t,n)}));return new ig(l,c)}(e,t._root,n?n._root:void 0);return new ag(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Qp((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},z((function(e){return new Mg(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Qp({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new iv(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Jp(r))}),Rp((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Og(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new iv(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new ov(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var s;return fp})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){xv(e),this.config=e.map(Mv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;yr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i,c=null;if(a)switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return mg(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new yg(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Av(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new yg(n,t,r)}(n);if(o.toRoot())return mg(t.root,new Nv([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new _g(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new _g(n.snapshot._urlSegment,!0,0);var r=gg(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new _g(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?wg(a.segmentGroup,a.index,o.commands):kg(a.segmentGroup,a.index,o.commands);return mg(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,c,l)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};yr()&&this.isNgZoneEnabled&&!tl.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Og(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Og(e))return jv(this.currentUrlTree,e,t);var n=this.parseUrl(e);return jv(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new rv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){Ko()},mm.\u0275dir=wt({type:mm}),mm),_m=((gm=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:km(this.skipLocationChange),replaceUrl:km(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){yr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:km(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:km(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||gm)($o(ym),$o(ug),Zo("tabindex"),$o(ms),$o(ds))},gm.\u0275dir=wt({type:gm,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&la("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),gm),bm=((vm=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof rv&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:km(this.skipLocationChange),replaceUrl:km(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){yr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:km(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:km(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||vm)($o(ym),$o(ug),$o(Xl))},vm.\u0275dir=wt({type:vm,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&la("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Wa("href",t.href,wr),Wo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Ja]}),vm);function km(e){return""===e||!!e}var wm,Cm,xm,Sm,Tm=((wm=function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof rv&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||wm)($o(ym),$o(ds),$o(ms),$o(_m,8),$o(bm,8))},wm.\u0275dir=wt({type:wm,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(Su(n,_m,!0),Su(n,bm,!0)),2&e&&(ku(r=Pu())&&(t.links=r),ku(r=Pu())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ja]}),wm),Mm=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Pm,this.attachRef=null},Pm=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Mm,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Em=((Cm=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new cu,this.deactivateEvents=new cu,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Om(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||Cm)($o(Pm),$o(Ls),$o(fs),Zo("name"),$o(po))},Cm.\u0275dir=wt({type:Cm,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Cm),Om=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===ug?this.route:e===Pm?this.childContexts:this.parent.get(e,t)}}]),e}(),Rm=function e(){_classCallCheck(this,e)},Am=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return ap(null)}}]),e}(),Im=((Sm=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new cm(n,r,(function(e){return t.triggerEvent(new hv(e))}),(function(e){return t.triggerEvent(new fv(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(gp((function(e){return e instanceof rv})),Xp((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(nt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return q(r).pipe(Y(),z((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(W((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||Sm)(Ke(ym),Ke(Cl),Ke(Zu),Ke(Oo),Ke(Rm))},Sm.\u0275prov=pe({token:Sm,factory:Sm.\u0275fac}),Sm),jm=((xm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof nv?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rv&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof mv&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new mv(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){Ko()},xm.\u0275dir=wt({type:xm}),xm),Dm=new Be("ROUTER_CONFIGURATION"),Nm=new Be("ROUTER_FORROOT_GUARD"),Fm=[tc,{provide:zv,useClass:Hv},{provide:ym,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new ym(null,e,t,n,r,i,o,Ov(a));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),s.errorHandler&&(c.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(c.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var h=Il();c.events.subscribe((function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return s.onSameUrlNavigation&&(c.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(c.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(c.relativeLinkResolution=s.relativeLinkResolution),c},deps:[zv,Pm,tc,Oo,Cl,Zu,lm,Dm,[function(){return function e(){_classCallCheck(this,e)}}(),new ue],[function(){return function e(){_classCallCheck(this,e)}}(),new ue]]},Pm,{provide:ug,useFactory:function(e){return e.routerState.root},deps:[ym]},{provide:Cl,useClass:Tl},Im,Am,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Rp((function(){return ap(null)})))}}]),e}(),{provide:Dm,useValue:{enableTracing:!1}}];function Lm(){return new vl("Router",ym)}var Vm,zm=((Vm=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Fm,qm(t),{provide:Nm,useFactory:Bm,deps:[[ym,new ue,new ce]]},{provide:Dm,useValue:n||{}},{provide:Xl,useFactory:Um,deps:[Nl,[new se(Kl),new ue],Dm]},{provide:jm,useFactory:Hm,deps:[ym,nh,Dm]},{provide:Rm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Am},{provide:vl,multi:!0,useFactory:Lm},[Gm,{provide:Iu,multi:!0,useFactory:Xm,deps:[Gm]},{provide:Qm,useFactory:Ym,deps:[Gm]},{provide:zu,multi:!0,useExisting:Qm}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[qm(t)]}}}]),e}()).\u0275mod=bt({type:Vm}),Vm.\u0275inj=ve({factory:function(e){return new(e||Vm)(Ke(Nm,8),Ke(ym,8))}}),Vm);function Hm(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new jm(e,t,n)}function Um(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ec(e,t):new Jl(e,t)}function Bm(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qm(e){return[{provide:Ro,multi:!0,useValue:e},{provide:lm,multi:!0,useValue:e}]}var Wm,Gm=((Wm=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new E}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Vl,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(ym),i=e.injector.get(Dm);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?ap(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Dm),n=this.injector.get(Im),r=this.injector.get(jm),i=this.injector.get(ym),o=this.injector.get(kl);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Wm)(Ke(Oo))},Wm.\u0275prov=pe({token:Wm,factory:Wm.\u0275fac}),Wm);function Xm(e){return e.appInitializer.bind(e)}function Ym(e){return e.bootstrapListener.bind(e)}var Qm=new Be("Router Initializer"),$m=function e(){_classCallCheck(this,e)},Zm=function e(){_classCallCheck(this,e)},Km=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),Jm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return ey(e)}},{key:"encodeValue",value:function(e){return ey(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function ey(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var ty=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Jm,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function ny(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ry(e){return"undefined"!=typeof Blob&&e instanceof Blob}function iy(e){return"undefined"!=typeof FormData&&e instanceof FormData}var oy=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Km),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new ty,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:ny(this.body)||ry(this.body)||iy(this.body)||"string"==typeof this.body?this.body:this.body instanceof ty?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||iy(this.body)?null:ry(this.body)?this.body.type||null:ny(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ty?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(l=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),l)),new e(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),ay=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),sy=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Km,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},uy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=ay.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(sy),ly=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,r)).type=ay.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(sy),cy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(sy);function hy(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var fy,dy,py,vy,gy,my,yy,_y,by,ky=((fy=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof oy)n=e;else{var o=void 0;o=i.headers instanceof Km?i.headers:new Km(i.headers);var a=void 0;i.params&&(a=i.params instanceof ty?i.params:new ty({fromObject:i.params})),n=new oy(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=ap(n).pipe(Xp((function(e){return r.handler.handle(e)})));if(e instanceof oy||"events"===i.observe)return s;var u=s.pipe(gp((function(e){return e instanceof ly})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(z((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(z((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(z((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(z((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new ty).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,hy(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,hy(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,hy(n,t))}}]),e}()).\u0275fac=function(e){return new(e||fy)(Ke($m))},fy.\u0275prov=pe({token:fy,factory:fy.\u0275fac}),fy),wy=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),Cy=new Be("HTTP_INTERCEPTORS"),xy=((dy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||dy)},dy.\u0275prov=pe({token:dy,factory:dy.\u0275fac}),dy),Sy=/^\)\]\}',?\n/,Ty=function e(){_classCallCheck(this,e)},My=((vy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||vy)},vy.\u0275prov=pe({token:vy,factory:vy.\u0275fac}),vy),Py=((py=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new C((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Km(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new uy({headers:i,status:t,statusText:n,url:o})},l=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){var h=l;l=l.replace(Sy,"");try{l=""!==l?JSON.parse(l):null}catch(f){l=h,c&&(c=!1,l={error:f,text:l})}}c?(n.next(new ly({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new cy({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(e){var t=u().url,i=new cy({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:ay.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:ay.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",l),r.addEventListener("error",c),e.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:ay.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),e.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||py)(Ke(Ty))},py.\u0275prov=pe({token:py,factory:py.\u0275fac}),py),Ey=new Be("XSRF_COOKIE_NAME"),Oy=new Be("XSRF_HEADER_NAME"),Ry=function e(){_classCallCheck(this,e)},Ay=((by=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=jc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||by)(Ke(Dl),Ke(Vu),Ke(Ey))},by.\u0275prov=pe({token:by,factory:by.\u0275fac}),by),Iy=((_y=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||_y)(Ke(Ry),Ke(Oy))},_y.\u0275prov=pe({token:_y,factory:_y.\u0275fac}),_y),jy=((yy=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(Cy,[]);this.chain=t.reduceRight((function(e,t){return new wy(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||yy)(Ke(Zm),Ke(Oo))},yy.\u0275prov=pe({token:yy,factory:yy.\u0275fac}),yy),Dy=((my=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Iy,useClass:xy}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Ey,useValue:t.cookieName}:[],t.headerName?{provide:Oy,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=bt({type:my}),my.\u0275inj=ve({factory:function(e){return new(e||my)},providers:[Iy,{provide:Cy,useExisting:Iy,multi:!0},{provide:Ry,useClass:Ay},{provide:Ey,useValue:"XSRF-TOKEN"},{provide:Oy,useValue:"X-XSRF-TOKEN"}]}),my),Ny=((gy=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:gy}),gy.\u0275inj=ve({factory:function(e){return new(e||gy)},providers:[ky,{provide:$m,useClass:jy},Py,{provide:Zm,useExisting:Py},My,{provide:Ty,useExisting:My}],imports:[[Dy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),gy);function Fy(e,t){return new C((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=q(e[s]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Ly,Vy,zy,Hy,Uy=new Be("NgValueAccessor"),By={provide:Uy,useExisting:Me((function(){return qy})),multi:!0},qy=((Ly=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||Ly)($o(ms),$o(ds))},Ly.\u0275dir=wt({type:Ly,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&la("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ls([By])]}),Ly),Wy={provide:Uy,useExisting:Me((function(){return Xy})),multi:!0},Gy=new Be("CompositionEventMode"),Xy=((Hy=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Il()?Il().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Hy)($o(ms),$o(ds),$o(Gy,8))},Hy.\u0275dir=wt({type:Hy,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&la("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ls([Wy])]}),Hy),Yy=((zy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||zy)},zy.\u0275dir=wt({type:zy}),zy),Qy=((Vy=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Yy)).\u0275fac=function(e){return $y(e||Vy)},Vy.\u0275dir=wt({type:Vy,features:[Xa]}),Vy),$y=lr(Qy);function Zy(){throw new Error("unimplemented")}var Ky,Jy,e_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return Zy()}},{key:"asyncValidator",get:function(){return Zy()}}]),n}(Yy),t_=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),n_=((Jy=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(t_)).\u0275fac=function(e){return new(e||Jy)($o(e_,2))},Jy.\u0275dir=wt({type:Jy,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ma("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Xa]}),Jy),r_=((Ky=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(t_)).\u0275fac=function(e){return new(e||Ky)($o(Qy,2))},Ky.\u0275dir=wt({type:Ky,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ma("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Xa]}),Ky);function i_(e){return null==e||0===e.length}var o_=new Be("NgValidators"),a_=new Be("NgAsyncValidators"),s_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,u_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(i_(t.value)||i_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(i_(t.value)||i_(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return i_(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return i_(e.value)||s_.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(i_(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(i_(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(l_);return 0==t.length?null:function(e){return h_(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(l_);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return Fy(r,null);if(l(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Fy(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Fy(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(z((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Fy(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(c_)).pipe(z(h_))}}}]),e}();function l_(e){return null!=e}function c_(e){var t=sa(e)?q(e):e;if(!ua(t))throw new Error("Expected validator to return Promise or Observable.");return t}function h_(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function f_(e){return e.validate?function(t){return e.validate(t)}:e}function d_(e){return e.validate?function(t){return e.validate(t)}:e}var p_,v_,g_,m_,y_={provide:Uy,useExisting:Me((function(){return __})),multi:!0},__=((p_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||p_)($o(ms),$o(ds))},p_.\u0275dir=wt({type:p_,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&la("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ls([y_])]}),p_),b_={provide:Uy,useExisting:Me((function(){return w_})),multi:!0},k_=((g_=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||g_)},g_.\u0275prov=pe({token:g_,factory:g_.\u0275fac}),g_),w_=((v_=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(e_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||v_)($o(ms),$o(ds),$o(k_),$o(Oo))},v_.\u0275dir=wt({type:v_,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&la("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ls([b_])]}),v_),C_={provide:Uy,useExisting:Me((function(){return x_})),multi:!0},x_=((m_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||m_)($o(ms),$o(ds))},m_.\u0275dir=wt({type:m_,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&la("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ls([C_])]}),m_),S_='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',T_='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',M_={provide:Uy,useExisting:Me((function(){return R_})),multi:!0};function P_(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var E_,O_,R_=((O_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Lo}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=P_(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||O_)($o(ms),$o(ds))},O_.\u0275dir=wt({type:O_,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&la("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ls([M_])]}),O_),A_=((E_=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(P_(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||E_)($o(ds),$o(ms),$o(R_,9))},E_.\u0275dir=wt({type:E_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),E_),I_={provide:Uy,useExisting:Me((function(){return F_})),multi:!0};function j_(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var D_,N_,F_=((N_=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Lo}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,l=0;l<u.length;l++){var c=u.item(l);if(c.selected){var h=t._getOptionValue(c.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||N_)($o(ms),$o(ds))},N_.\u0275dir=wt({type:N_,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&la("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ls([I_])]}),N_),L_=((D_=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(j_(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(j_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||D_)($o(ds),$o(ms),$o(F_,9))},D_.\u0275dir=wt({type:D_,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),D_);function V_(e,t){return[].concat(_toConsumableArray(t.path),[e])}function z_(e,t){e||U_(t,"Cannot find control with"),t.valueAccessor||U_(t,"No value accessor for form control with"),e.validator=u_.compose([e.validator,t.validator]),e.asyncValidator=u_.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&H_(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&H_(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function H_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function U_(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function B_(e){return null!=e?u_.compose(e.map(f_)):null}function q_(e){return null!=e?u_.composeAsync(e.map(d_)):null}var W_=[qy,x_,__,R_,F_,w_];function G_(e){var t=Y_(e)?e.validators:e;return Array.isArray(t)?B_(t):t||null}function X_(e,t){var n=Y_(t)?t.asyncValidators:e;return Array.isArray(n)?q_(n):n||null}function Y_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Q_,$_,Z_,K_,J_,eb,tb,nb,rb=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=G_(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=X_(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=c_(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof ob?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ab&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new cu,this.statusChanges=new cu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Y_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ib=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,G_(i),X_(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(rb),ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,G_(r),X_(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof ib?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(rb),ab=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,G_(r),X_(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof ib?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(rb),sb={provide:Qy,useExisting:Me((function(){return lb}))},ub=Promise.resolve(null),lb=(($_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new cu,i.form=new ob({},B_(e),q_(r)),i}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;ub.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),z_(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;ub.then((function(){var n,r,i,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,r=e,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;ub.then((function(){var n=t._findContainer(e.path),r=new ob({});(function(e,t){null==e&&U_(t,"Cannot find control with"),e.validator=u_.compose([e.validator,t.validator]),e.asyncValidator=u_.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;ub.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;ub.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Qy)).\u0275fac=function(e){return new(e||$_)($o(o_,10),$o(a_,10))},$_.\u0275dir=wt({type:$_,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&la("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ls([sb]),Xa]}),$_),cb=((Q_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return V_(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return B_(this._validators)}},{key:"asyncValidator",get:function(){return q_(this._asyncValidators)}}]),n}(Qy)).\u0275fac=function(e){return hb(e||Q_)},Q_.\u0275dir=wt({type:Q_,features:[Xa]}),Q_),hb=lr(cb),fb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(S_,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(T_))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(S_,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(T_))}}]),e}(),db={provide:Qy,useExisting:Me((function(){return pb}))},pb=((Z_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this))._parent=e,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof lb||fb.modelGroupParentException()}}]),n}(cb)).\u0275fac=function(e){return new(e||Z_)($o(Qy,5),$o(o_,10),$o(a_,10))},Z_.\u0275dir=wt({type:Z_,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ls([db]),Xa]}),Z_),vb={provide:e_,useExisting:Me((function(){return mb}))},gb=Promise.resolve(null),mb=((J_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new ib,a._registered=!1,a.update=new cu,a._parent=e,a._rawValidators=r||[],a._rawAsyncValidators=i||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||U_(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Xy?n=t:(o=t,W_.some((function(e){return o.constructor===e}))?(r&&U_(e,"More than one built-in value accessor matches form control with"),r=t):(i&&U_(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(U_(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Lo(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){z_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof pb)&&this._parent instanceof cb?fb.formGroupNameException():this._parent instanceof pb||this._parent instanceof lb||fb.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||fb.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;gb.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;gb.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?V_(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return B_(this._rawValidators)}},{key:"asyncValidator",get:function(){return q_(this._rawAsyncValidators)}}]),n}(e_)).\u0275fac=function(e){return new(e||J_)($o(Qy,9),$o(o_,10),$o(a_,10),$o(Uy,10))},J_.\u0275dir=wt({type:J_,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ls([vb]),Xa,Ja]}),J_),yb=((K_=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||K_)},K_.\u0275dir=wt({type:K_,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K_),_b={provide:o_,useExisting:Me((function(){return bb})),multi:!0},bb=((nb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validate",value:function(e){return this.required?u_.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&"false"!=="".concat(e),this._onChange&&this._onChange()}}]),e}()).\u0275fac=function(e){return new(e||nb)},nb.\u0275dir=wt({type:nb,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Wo("required",t.required?"":null)},inputs:{required:"required"},features:[ls([_b])]}),nb),kb=((tb=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:tb}),tb.\u0275inj=ve({factory:function(e){return new(e||tb)}}),tb),wb=((eb=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:eb}),eb.\u0275inj=ve({factory:function(e){return new(e||eb)},providers:[k_],imports:[kb]}),eb),Cb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(d)),xb=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Sb=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(xb))(Cb);function Tb(e,t,n,i){return r(n)&&(i=n,n=void 0),i?Tb(e,t,n).pipe(z((function(e){return u(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new C((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var l=t;t.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,r,i,o)}i.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Mb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Pb(e))}}]),e}(),Pb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasFirst=!1,r.observables=[],r.subscriptions=[],r}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=L(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}]),n}(V);function Eb(e){return function(t){return t.lift(new Ob(e))}}var Ob=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new Rb(e),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(V);function Ab(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new Ib(t,n))}}var Ib=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new jb(e,this.observables,this.project))}}]),e}(),jb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=i,o.toRespond=[];var a=r.length;o.values=new Array(a);for(var s=0;s<a;s++)o.toRespond.push(s);for(var u=0;u<a;u++){var l=r[u];o.add(L(_assertThisInitialized(o),l,l,u))}return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(V);function Db(e,t){return new C(t?function(n){return t.schedule(Nb,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function Nb(e){var t=e.error;e.subscriber.error(t)}var Fb,Lb=((Fb=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return ap(this.value);case"E":return Db(this.error);case"C":return dp()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Fb("C"),Fb.undefinedValueNotification=new Fb("N",void 0),Fb);function Vb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sb,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new zb(r,n))}}var zb=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hb(e,this.delay,this.scheduler))}}]),e}(),Hb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).delay=r,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Ub(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(Lb.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Lb.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),n}(g),Ub=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n};$localize(_templateObject());var Bb=["*"];$localize(_templateObject2()),$localize(_templateObject3()),$localize(_templateObject4()),$localize(_templateObject5()),$localize(_templateObject6()),$localize(_templateObject7()),$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11());var qb=["dialog"];function Wb(e,t){1&e&&za(0),2&e&&Ha(fa(2).title)}function Gb(e,t){}function Xb(e,t){if(1&e&&(ta(0,"h3",3),Yo(1,Wb,1,1,"ng-template",null,4,Au),Yo(3,Gb,0,0,"ng-template",5),na()),2&e){var n=Qo(2),r=fa();Vr(3),Jo("ngTemplateOutlet",r.isTitleTemplate()?r.title:n)("ngTemplateOutletContext",r.context)}}function Yb(e,t){}function Qb(e,t){if(1&e){var n=aa();ta(0,"li",4),ta(1,"a",5),la("click",(function(e){Jt(n);var r=t.$implicit;return fa().select(r.id),e.preventDefault()})),za(2),Yo(3,Yb,0,0,"ng-template",6),na(),na()}if(2&e){var r=t.$implicit,i=fa();Vr(1),Ma("active",r.id===i.activeId)("disabled",r.disabled),Jo("id",r.id),Wo("tabindex",r.disabled?"-1":void 0)("aria-controls",i.destroyOnHide&&r.id!==i.activeId?null:r.id+"-panel")("aria-selected",r.id===i.activeId)("aria-disabled",r.disabled),Vr(1),Ua(" ",r.title,""),Vr(1),Jo("ngTemplateOutlet",(null==r.titleTpl?null:r.titleTpl.templateRef)||null)}}function $b(e,t){}function Zb(e,t){if(1&e&&(ta(0,"div",8),Yo(1,$b,0,0,"ng-template",6),na()),2&e){var n=fa().$implicit,r=fa();i=n.id===r.activeId?"active":null,Ra(ut,Ea,Go(Zt(),"tab-pane ",i,""),!0),ma("id","",n.id,"-panel"),Wo("aria-labelledby",n.id),Vr(1),Jo("ngTemplateOutlet",(null==n.contentTpl?null:n.contentTpl.templateRef)||null)}var i}function Kb(e,t){if(1&e&&Yo(0,Zb,2,6,"div",7),2&e){var n=t.$implicit,r=fa();Jo("ngIf",!r.destroyOnHide||n.id===r.activeId)}}function Jb(e){return null!=e}$localize(_templateObject12()),$localize(_templateObject13()),$localize(_templateObject14()),$localize(_templateObject15()),$localize(_templateObject16()),$localize(_templateObject17()),$localize(_templateObject18()),$localize(_templateObject19()),$localize(_templateObject20(),"\ufffd0\ufffd"),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33(),"\ufffd0\ufffd"),$localize(_templateObject34(),"\ufffd0\ufffd"),$localize(_templateObject35()),"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var ek,tk,nk,rk,ik,ok=((ik=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:ik}),ik.\u0275inj=ve({factory:function(e){return new(e||ik)},imports:[[th]]}),ik),ak=((rk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:rk}),rk.\u0275inj=ve({factory:function(e){return new(e||rk)},imports:[[th]]}),rk),sk=((nk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:nk}),nk.\u0275inj=ve({factory:function(e){return new(e||nk)}}),nk),uk=((tk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:tk}),tk.\u0275inj=ve({factory:function(e){return new(e||tk)},imports:[[th]]}),tk),lk=((ek=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:ek}),ek.\u0275inj=ve({factory:function(e){return new(e||ek)}}),ek),ck=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({}),hk=function(e,t){return!!t&&t.some((function(t){return t.contains(e)}))},fk=function(e,t){return!t||null!=function(e,t){return t?e.closest(t):null}(e,t)},dk="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),pk=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function vk(e){var t=Array.from(e.querySelectorAll(pk)).filter((function(e){return-1!==e.tabIndex}));return[t[0],t[t.length-1]]}var gk,mk,yk,_k,bk,kk,wk,Ck,xk,Sk,Tk,Mk,Pk,Ek,Ok,Rk,Ak,Ik,jk,Dk,Nk,Fk,Lk,Vk,zk,Hk,Uk,Bk,qk,Wk,Gk,Xk,Yk,Qk,$k=/\s+/,Zk=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,t,n,r){var i=_slicedToArray(n.split("-"),2),o=i[0],a=void 0===o?"top":o,s=i[1],u=void 0===s?"center":s,l=r?this.offset(e,!1):this.position(e,!1),c=this.getAllStyles(t),h=parseFloat(c.marginTop),f=parseFloat(c.marginBottom),d=parseFloat(c.marginLeft),p=parseFloat(c.marginRight),v=0,g=0;switch(a){case"top":v=l.top-(t.offsetHeight+h+f);break;case"bottom":v=l.top+l.height;break;case"left":g=l.left-(t.offsetWidth+d+p);break;case"right":g=l.left+l.width}switch(u){case"top":v=l.top;break;case"bottom":v=l.top+l.height-t.offsetHeight;break;case"left":g=l.left;break;case"right":g=l.left+l.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?g=l.left+l.width/2-t.offsetWidth/2:v=l.top+l.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(v),"px)");var m=t.getBoundingClientRect(),y=document.documentElement,_=window.innerHeight||y.clientHeight,b=window.innerWidth||y.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=_}}]),e}()),Kk=((_k=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:_k}),_k.\u0275inj=ve({factory:function(e){return new(e||_k)},imports:[[th,wb]]}),_k),Jk=((yk=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||yk)},yk.\u0275dir=wt({type:yk,selectors:[["",8,"navbar"]]}),yk),ew=((mk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:mk}),mk.\u0275inj=ve({factory:function(e){return new(e||mk)}}),mk),tw=((gk=function e(){_classCallCheck(this,e),this.backdrop=!0,this.keyboard=!0}).\u0275fac=function(e){return new(e||gk)},gk.\u0275prov=pe({factory:function(){return new gk},token:gk,providedIn:"root"}),gk),nw=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},rw=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._type=t,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=a,this._windowRef=null,this._contentRef=null}return _createClass(e,[{key:"open",value:function(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof Ns){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new nw([n.rootNodes],n)}return new nw([[this._renderer.createText("".concat(e))]])}return new nw([])}}]),e}(),iw=function(){},ow=((kk=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):iw}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||kk)(Ke(Dl))},kk.\u0275prov=pe({factory:function(){return new kk(Ke(Dl))},token:kk,providedIn:"root"}),kk),aw=((bk=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||bk)},bk.\u0275cmp=gt({type:bk,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,t){2&e&&Pa("modal-backdrop fade show"+(t.backdropClass?" "+t.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),bk),sw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),uw=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,t.instance.dismissEvent.subscribe((function(e){o.dismiss(e)})),this.result=new Promise((function(e,t){o._resolve=e,o._reject=t})),this.result.then(null,(function(){}))}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&t._dismiss(e)}),(function(){})):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){var t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),e}(),lw=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({}),cw=((Mk=function(){function e(t,n,r){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=r,this._closed$=new E,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new cu}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var e=this,t=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){Tb(t,"keydown").pipe(Eb(e._closed$),gp((function(t){return t.which===ck.Escape&&e.keyboard}))).subscribe((function(t){return requestAnimationFrame((function(){t.defaultPrevented||e._zone.run((function(){return e.dismiss(lw.ESC)}))}))}));var n=!1;Tb(e._dialogEl.nativeElement,"mousedown").pipe(Eb(e._closed$),Qp((function(){return n=!1})),zp((function(){return Tb(t,"mouseup").pipe(Eb(e._closed$),jp(1))})),gp((function(e){var n=e.target;return t===n}))).subscribe((function(){n=!0})),Tb(t,"click").pipe(Eb(e._closed$)).subscribe((function(r){var i=r.target;!0!==e.backdrop||t!==i||n||e._zone.run((function(){return e.dismiss(lw.BACKDROP_CLICK)})),n=!1}))})),!t.contains(document.activeElement)){var n=t.querySelector("[ngbAutofocus]"),r=vk(t)[0];(n||r||t).focus()}}},{key:"ngOnDestroy",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()})),t._elWithFocus=null})),this._closed$.next()}}]),e}()).\u0275fac=function(e){return new(e||Mk)($o(Dl),$o(ds),$o(tl))},Mk.\u0275cmp=gt({type:Mk,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n;1&e&&wu(qb,!0),2&e&&ku(n=Pu())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(e,t){2&e&&(Wo("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy),Pa("modal fade show d-block"+(t.windowClass?" "+t.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Bb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(pa(),ta(0,"div",0,1),ta(2,"div",2),va(3),na(),na()),2&e&&Pa("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),Mk),hw=((Tk=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new E,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(s._windowCmpts.length){var e=s._windowCmpts[s._windowCmpts.length-1];(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s._ngZone.runOutsideAngular((function(){var e=Tb(t,"focusin").pipe(Eb(n),z((function(e){return e.target})));Tb(t,"keydown").pipe(Eb(n),gp((function(e){return e.which===ck.Tab})),Ab(e)).subscribe((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=_slicedToArray(vk(t),2),a=o[0],s=o[1];i!==a&&i!==t||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())})),r&&Tb(t,"click").pipe(Eb(n),Ab(e),z((function(e){return e[1]}))).subscribe((function(e){return e.focus()}))}))})(0,e.location.nativeElement,s._activeWindowCmptHasChanged),s._revertAriaHidden(),s._setAriaHidden(e.location.nativeElement)}}))}return _createClass(e,[{key:"open",value:function(e,t,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:Jb(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var l=new sw,c=this._getContentRef(e,r.injector||t,n,l,r),h=!1!==r.backdrop?this._attachBackdrop(e,o):void 0,f=this._attachWindowComponent(e,o,c),d=new uw(f,c,h,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(f),d.result.then(s,s),d.result.then(u,u),l.close=function(e){d.close(e)},l.dismiss=function(e){d.dismiss(e)},this._applyWindowOptions(f.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,r),d}},{key:"dismissAll",value:function(e){this._modalRefs.forEach((function(t){return t.dismiss(e)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(aw).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(cw).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach((function(n){Jb(t[n])&&(e[n]=t[n])}))}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach((function(n){Jb(t[n])&&(e[n]=t[n])}))}},{key:"_getContentRef",value:function(e,t,n,r,i){return n?n instanceof Ns?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new nw([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new nw([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new nw([[t]])}},{key:"_createFromComponent",value:function(e,t,n,r,i){var o=e.resolveComponentFactory(n),a=Oo.create({providers:[{provide:sw,useValue:r}],parent:t}),s=o.create(a),u=s.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new nw([[u]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&t._modalRefs.splice(n,1)};this._modalRefs.push(e),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy((function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())}))}}]),e}()).\u0275fac=function(e){return new(e||Tk)(Ke(kl),Ke(Oo),Ke(Dl),Ke(ow),Ke(vs),Ke(tl))},Tk.\u0275prov=pe({factory:function(){return new Tk(Ke(kl),Ke(qe),Ke(Dl),Ke(ow),Ke(vs),Ke(tl))},token:Tk,providedIn:"root"}),Tk),fw=((Sk=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||Sk)(Ke(fs),Ke(Oo),Ke(hw),Ke(tw))},Sk.\u0275prov=pe({factory:function(){return new Sk(Ke(fs),Ke(qe),Ke(hw),Ke(tw))},token:Sk,providedIn:"root"}),Sk),dw=((xk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:xk}),xk.\u0275inj=ve({factory:function(e){return new(e||xk)},providers:[fw]}),xk),pw=((Ck=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Ck}),Ck.\u0275inj=ve({factory:function(e){return new(e||Ck)},imports:[[th]]}),Ck),vw=((wk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:wk}),wk.\u0275inj=ve({factory:function(e){return new(e||wk)},imports:[[th]]}),wk),gw=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n,n||(this.close=t)}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),mw={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},yw=function(e){return e>0?Vb(e):function(e){return e}},_w=((Bk=function e(){_classCallCheck(this,e),this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}).\u0275fac=function(e){return new(e||Bk)},Bk.\u0275prov=pe({factory:function(){return new Bk},token:Bk,providedIn:"root"}),Bk),bw=0,kw=((Uk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isTitleTemplate",value:function(){return this.title instanceof Ns}}]),e}()).\u0275fac=function(e){return new(e||Uk)},Uk.\u0275cmp=gt({type:Uk,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,t){2&e&&(Wa("id",t.id),Pa("popover"+(t.popoverClass?" "+t.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Bb,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(pa(),ra(0,"div",0),Yo(1,Xb,4,2,"h3",1),ta(2,"div",2),va(3),na()),2&e&&(Vr(1),Jo("ngIf",null!=t.title))},directives:[zc,Kc],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),Uk),ww=((Hk=function(){function e(t,n,r,i,o,a,s,u,l,c){var h=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=s,this._document=u,this._changeDetector=l,this.shown=new cu,this.hidden=new cu,this._ngbPopoverWindowId="ngb-popover-".concat(bw++),this._windowRef=null,this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disablePopover=a.disablePopover,this.popoverClass=a.popoverClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new rw(kw,r,o,n,i,c),this._zoneSubscription=s.onStable.subscribe((function(){h._windowRef&&function(e,t,n,r,i){var o=Array.isArray(n)?n:n.split($k),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=t.classList,u=function(e){var t=_slicedToArray(e.split("-"),2),n=t[0],r=t[1],i=[];return i.push("bs-popover-".concat(n)),r&&i.push("bs-popover-".concat(n,"-").concat(r)),i.forEach((function(e){s.add(e)})),i};a.forEach((function(e){s.remove("bs-popover-".concat(e))}));var l=o.findIndex((function(e){return"auto"===e}));l>=0&&a.forEach((function(e){null==o.find((function(t){return-1!==t.search("^"+e)}))&&o.splice(l++,1,e)}));var c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";var h,f=null,d=!1,p=_createForOfIteratorHelper(o);try{for(p.s();!(h=p.n()).done;){var v=u(f=h.value);if(Zk.positionElements(e,t,f,r)){d=!0;break}v.forEach((function(e){s.remove(e)}))}}catch(g){p.e(g)}finally{p.f()}d||(u(f=o[0]),Zk.positionElements(e,t,f,r))}(h._elementRef.nativeElement,h._windowRef.location.nativeElement,h.placement,"body"===h.container)}))}return _createClass(e,[{key:"_isDisabled",value:function(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}},{key:"open",value:function(e){var t=this;this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,e),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(e,t,n,r,i,o,a,s){var l;n&&e.runOutsideAngular((l=function(){var a=Tb(t,"keydown").pipe(Eb(i),gp((function(e){return e.which===ck.Escape})),Qp((function(e){return e.preventDefault()}))),s=Tb(t,"mousedown").pipe(z((function(e){var t=e.target;return 2!==e.button&&!hk(t,void 0)&&("inside"===n?hk(t,o)&&fk(t,void 0):"outside"===n?!hk(t,o):fk(t,void 0)||!hk(t,o))})),Eb(i));(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return Q(t,void 0).lift(new Mb)})([a,Tb(t,"mouseup").pipe(Ab(s),gp((function(e){var t=_slicedToArray(e,2);return t[0],t[1]})),Vb(0),Eb(i))]).subscribe((function(){return e.run(r)}))},dk?function(){return setTimeout((function(){return l()}),100)}:l))}(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mw,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new gw(n[0],n[1])})),i=r.filter((function(e){return e.isManual()}));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return function(){};var l=function(e,t,n,r){return new C((function(i){var o=[],a=function(){return i.next(!0)},s=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach((function(n){n.open===n.close?o.push(e.listen(t,n.open,u)):o.push(e.listen(t,n.open,a),e.listen(t,n.close,s))})),function(){o.forEach((function(e){return e()}))}}))}(e,t,u,r).pipe(function(e,t,n){return function(r){var i=null,o=r.pipe(z((function(e){return{open:e}})),gp((function(e){var t=n();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)})),ie());return $(o.pipe(gp((function(e){return e.open})),yw(e)),o.pipe(gp((function(e){return!e.open})),yw(t))).pipe(gp((function(e){return e===i&&(i=null,e.open!==n())})),z((function(e){return e.open})))}}(a,s,r)).subscribe((function(e){return e?i():o()}));return function(){return l.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.ngbPopover,n=e.popoverTitle,r=e.disablePopover,i=e.popoverClass;i&&this.isOpen()&&(this._windowRef.instance.popoverClass=i.currentValue),(t||n||r)&&this._isDisabled()&&this.close()}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Hk)($o(ds),$o(ms),$o(Oo),$o(fs),$o(Ls),$o(_w),$o(tl),$o(Dl),$o(po),$o(kl))},Hk.\u0275dir=wt({type:Hk,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Ja]}),Hk),Cw=((zk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:zk}),zk.\u0275inj=ve({factory:function(e){return new(e||zk)},imports:[[th]]}),zk),xw=((Vk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Vk}),Vk.\u0275inj=ve({factory:function(e){return new(e||Vk)},imports:[[th]]}),Vk),Sw=((Lk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Lk}),Lk.\u0275inj=ve({factory:function(e){return new(e||Lk)},imports:[[th]]}),Lk),Tw=((Fk=function e(){_classCallCheck(this,e),this.justify="start",this.orientation="horizontal",this.type="tabs"}).\u0275fac=function(e){return new(e||Fk)},Fk.\u0275prov=pe({factory:function(){return new Fk},token:Fk,providedIn:"root"}),Fk),Mw=0,Pw=((Nk=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Nk)($o(Ns))},Nk.\u0275dir=wt({type:Nk,selectors:[["ng-template","ngbTabTitle",""]]}),Nk),Ew=((Dk=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Dk)($o(Ns))},Dk.\u0275dir=wt({type:Dk,selectors:[["ng-template","ngbTabContent",""]]}),Dk),Ow=((jk=function(){function e(){_classCallCheck(this,e),this.id="ngb-tab-".concat(Mw++),this.disabled=!1}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}}]),e}()).\u0275fac=function(e){return new(e||jk)},jk.\u0275dir=wt({type:jk,selectors:[["ngb-tab"]],contentQueries:function(e,t,n){var r;1&e&&(Su(n,Pw,!1),Su(n,Ew,!1)),2&e&&(ku(r=Pu())&&(t.titleTpls=r),ku(r=Pu())&&(t.contentTpls=r))},inputs:{id:"id",disabled:"disabled",title:"title"}}),jk),Rw=((Ik=function(){function e(t){_classCallCheck(this,e),this.destroyOnHide=!0,this.tabChange=new cu,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}return _createClass(e,[{key:"select",value:function(e){var t=this._getTabById(e);if(t&&!t.disabled&&this.activeId!==t.id){var n=!1;this.tabChange.emit({activeId:this.activeId,nextId:t.id,preventDefault:function(){n=!0}}),n||(this.activeId=t.id)}}},{key:"ngAfterContentChecked",value:function(){var e=this._getTabById(this.activeId);this.activeId=e?e.id:this.tabs.length?this.tabs.first.id:null}},{key:"_getTabById",value:function(e){var t=this.tabs.filter((function(t){return t.id===e}));return t.length?t[0]:null}},{key:"justify",set:function(e){this.justifyClass="fill"===e||"justified"===e?"nav-".concat(e):"justify-content-".concat(e)}}]),e}()).\u0275fac=function(e){return new(e||Ik)($o(Tw))},Ik.\u0275cmp=gt({type:Ik,selectors:[["ngb-tabset"]],contentQueries:function(e,t,n){var r;1&e&&Su(n,Ow,!1),2&e&&ku(r=Pu())&&(t.tabs=r)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(e,t){1&e&&(ta(0,"ul",0),Yo(1,Qb,4,11,"li",1),na(),ta(2,"div",2),Yo(3,Kb,1,1,"ng-template",3),na()),2&e&&(Pa("nav nav-"+t.type+("horizontal"==t.orientation?" "+t.justifyClass:" flex-column")),Vr(1),Jo("ngForOf",t.tabs),Vr(2),Jo("ngForOf",t.tabs))},directives:[Lc,Kc,zc],encapsulation:2}),Ik),Aw=((Ak=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Ak}),Ak.\u0275inj=ve({factory:function(e){return new(e||Ak)},imports:[[th]]}),Ak),Iw=((Rk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Rk}),Rk.\u0275inj=ve({factory:function(e){return new(e||Rk)},imports:[[th]]}),Rk),jw=((Ok=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Ok}),Ok.\u0275inj=ve({factory:function(e){return new(e||Ok)},imports:[[th]]}),Ok),Dw=((Ek=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Ek}),Ek.\u0275inj=ve({factory:function(e){return new(e||Ek)}}),Ek),Nw=((Pk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Pk}),Pk.\u0275inj=ve({factory:function(e){return new(e||Pk)},imports:[[th]]}),Pk),Fw=[ok,ak,sk,uk,lk,Kk,ew,dw,pw,vw,Cw,xw,Sw,Iw,jw,Dw,Nw,Aw],Lw=((Xk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Xk}),Xk.\u0275inj=ve({factory:function(e){return new(e||Xk)},imports:[Fw,ok,ak,sk,uk,lk,Kk,ew,dw,pw,vw,Cw,xw,Sw,Iw,jw,Dw,Nw,Aw]}),Xk),Vw=((Gk=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Gk}),Gk.\u0275inj=ve({factory:function(e){return new(e||Gk)},imports:[[th,wb,Lw]]}),Gk),zw=((Wk=function(){function e(){_classCallCheck(this,e),this.projects=[]}return _createClass(e,[{key:"addProject",value:function(e,t){void 0===this.projects[e]&&(this.projects[e]=[]),this.projects[e].push(t)}},{key:"getProjects",value:function(e){return void 0===this.projects[e]&&(this.projects[e]=[]),this.projects[e]}},{key:"numProjects",value:function(e){return this.getProjects(e).length}},{key:"getProject",value:function(e,t){return this.getProjects(e)[t]}}]),e}()).\u0275fac=function(e){return new(e||Wk)},Wk.\u0275prov=pe({token:Wk,factory:Wk.\u0275fac}),Wk),Hw=((qk=function e(){var t=this;_classCallCheck(this,e),this.onResize=new cu,window.addEventListener("resize",(function(e){t.onResize.emit()}))}).\u0275prov=pe({token:qk,factory:qk.\u0275fac=function(e){return new(e||qk)},providedIn:"root"}),qk),Uw=function(e){return e[e.TTestPaired=0]="TTestPaired",e[e.TTestIndependent=1]="TTestIndependent",e[e.ZTest=2]="ZTest",e[e.Dichot=3]="Dichot",e}({}),Bw=((Qk=function e(){_classCallCheck(this,e),this.calculate=new cu,this.toggleHelp=new cu}).\u0275fac=function(e){return new(e||Qk)},Qk.\u0275cmp=gt({type:Qk,selectors:[["ng-component"]],outputs:{calculate:"calculate",toggleHelp:"toggleHelp"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Qk),qw=((Yk=function e(){_classCallCheck(this,e),this.projectChanged=new cu,this.projectSwitched=new cu}).\u0275fac=function(e){return new(e||Yk)},Yk.\u0275cmp=gt({type:Yk,selectors:[["ng-component"]],outputs:{projectChanged:"projectChanged",projectSwitched:"projectSwitched"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Yk),Ww=["main"];function Gw(e,t){if(1&e){var n=aa();ta(0,"div",1,2),ta(2,"div",3),la("mousedown",(function(e){return Jt(n),fa().mousedown(e)}))("mouseup",(function(e){return Jt(n),fa().mouseup(e)}))("mousemove",(function(e){return Jt(n),fa().mousemove(e)})),za(3),ta(4,"button",4),la("click",(function(){return Jt(n),fa().close()})),na(),na(),ta(5,"div",5),va(6),na(),na()}if(2&e){var r=fa();Ta("top",r.yOffset?r.yOffset+"px":r.startYOffset)("left",r.xOffset?r.xOffset+"px":r.startXOffset),Vr(3),Ua(" ",r.title," ")}}var Xw,Yw=["*"],Qw=((Xw=function(){function e(){_classCallCheck(this,e),this.startEnabled=!1,this.startXOffset="20px",this.startYOffset="20px",this.onDragStart=new cu,this.onDragEnd=new cu,this.enabled=!1,this.dragging=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.enabled=this.startEnabled}},{key:"open",value:function(){this.enabled=!0}},{key:"toggle",value:function(){this.enabled=!this.enabled}},{key:"close",value:function(){this.enabled=!1}},{key:"isOpen",value:function(){return this.enabled}},{key:"mousedown",value:function(e){this.startDragging();var t=this.mainElement.nativeElement.getBoundingClientRect();this.xOffset=t.left+window.pageXOffset,this.yOffset=t.top+window.pageYOffset,this.lastX=e.pageX,this.lastY=e.pageY}},{key:"mouseup",value:function(e){this.stopDragging()}},{key:"mousemove",value:function(e){if(this.dragging){if(0==(1&e.buttons))return void this.stopDragging();this.xOffset+=e.pageX-this.lastX,this.yOffset+=e.pageY-this.lastY,this.lastX=e.pageX,this.lastY=e.pageY}}},{key:"startDragging",value:function(){this.dragging=!0,this.onDragStart.emit()}},{key:"stopDragging",value:function(){this.dragging=!1,this.onDragEnd.emit()}}]),e}()).\u0275fac=function(e){return new(e||Xw)},Xw.\u0275cmp=gt({type:Xw,selectors:[["app-draggable-dialog"]],viewQuery:function(e,t){var n;1&e&&Cu(Ww,!0),2&e&&ku(n=Pu())&&(t.mainElement=n.first)},inputs:{title:"title",content:"content",startEnabled:["start-enabled","startEnabled"],startXOffset:["start-x-offset","startXOffset"],startYOffset:["start-y-offset","startYOffset"]},outputs:{onDragStart:"drag-start",onDragEnd:"drag-end"},ngContentSelectors:Yw,decls:1,vars:1,consts:[["class","dialog",3,"top","left",4,"ngIf"],[1,"dialog"],["main",""],[1,"header",3,"mousedown","mouseup","mousemove"],["type","button",1,"close","fa","fa-times-circle",3,"click"],[1,"content"]],template:function(e,t){1&e&&(pa(),Yo(0,Gw,7,5,"div",0)),2&e&&Jo("ngIf",t.enabled)},directives:[zc],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;z-index:100;background-color:#fff;border:1px solid #888;border-radius:10px;box-shadow:5px 5px 25px #888;top:20px;left:20px;width:25vw;min-width:300px}.dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:larger;font-weight:700;background-color:#e5e5e5;border-bottom:1px solid #ccc;padding:10px;border-radius:10px 10px 0 0;cursor:move}.dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{float:right;margin:5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;height:50vh;padding:5px;margin:0 5px}"]}),Xw),$w=function(e){return e[e.Fixed=0]="Fixed",e[e.NotFixed=1]="NotFixed",e[e.NA=2]="NA",e}({}),Zw=function(){function e(){_classCallCheck(this,e),this.updatingPlotData=new cu,this.customRanges=!1,this.fixedPSpace=$w.NA}return _createClass(e,[{key:"getPointsPerPlot",value:function(){return this.pointsPerPlot}},{key:"setPointsPerPlot",value:function(e){this.pointsPerPlot=e}},{key:"getCustomRanges",value:function(){return this.customRanges}},{key:"setCustomRanges",value:function(e){this.customRanges=e,e||this.resetRanges()}},{key:"getFixedPSpace",value:function(){return this.fixedPSpace}},{key:"setFixedPSpace",value:function(e){this.fixedPSpace=e,this.calculateRanges()}}]),e}(),Kw=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Jw=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return Kw(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}},eC=Jw(Kw).right,tC=function(e,t){var n,r,i,o=e.length,a=-1;if(null==t){for(;++a<o;)if(null!=(n=e[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=e[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=i=n;++a<o;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},nC=Math.sqrt(50),rC=Math.sqrt(10),iC=Math.sqrt(2);function oC(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nC?10:o>=rC?5:o>=iC?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nC?10:o>=rC?5:o>=iC?2:1)}var aC=Array.prototype.slice,sC=function(e){return e};function uC(e){return"translate("+(e+.5)+",0)"}function lC(e){return"translate(0,"+(e+.5)+")"}function cC(e){return function(t){return+e(t)}}function hC(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function fC(){return!this.__axis}function dC(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,u=1===e||4===e?-1:1,l=4===e||2===e?"x":"y",c=1===e||3===e?uC:lC;function h(h){var f=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==i?t.tickFormat?t.tickFormat.apply(t,n):sC:i,p=Math.max(o,0)+s,v=t.range(),g=+v[0]+.5,m=+v[v.length-1]+.5,y=(t.bandwidth?hC:cC)(t.copy()),_=h.selection?h.selection():h,b=_.selectAll(".domain").data([null]),k=_.selectAll(".tick").data(f,t).order(),w=k.exit(),C=k.enter().append("g").attr("class","tick"),x=k.select("line"),S=k.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(C),x=x.merge(C.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),S=S.merge(C.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==_&&(b=b.transition(h),k=k.transition(h),x=x.transition(h),S=S.transition(h),w=w.transition(h).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=y(e))?c(e):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(e))?t:y(e))}))),w.remove(),b.attr("d",4===e||2==e?a?"M"+u*a+","+g+"H0.5V"+m+"H"+u*a:"M0.5,"+g+"V"+m:a?"M"+g+","+u*a+"V0.5H"+m+"V"+u*a:"M"+g+",0.5H"+m),k.attr("opacity",1).attr("transform",(function(e){return c(y(e))})),x.attr(l+"2",u*o),S.attr(l,u*p).text(d),_.filter(fC).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),_.each((function(){this.__axis=y}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=aC.call(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:aC.call(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:aC.call(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(o=a=+e,h):o},h.tickSizeInner=function(e){return arguments.length?(o=+e,h):o},h.tickSizeOuter=function(e){return arguments.length?(a=+e,h):a},h.tickPadding=function(e){return arguments.length?(s=+e,h):s},h}function pC(e){return dC(3,e)}var vC={value:function(){}};function gC(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new mC(r)}function mC(e){this._=e}function yC(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function _C(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function bC(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=vC,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}mC.prototype=gC.prototype={constructor:mC,on:function(e,t){var n,r=this._,i=yC(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=i[o]).type)r[n]=bC(r[n],e.name,t);else if(null==t)for(n in r)r[n]=bC(r[n],e.name,null);return this}for(;++o<a;)if((n=(e=i[o]).type)&&(n=_C(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mC(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var kC=gC;function wC(){}var CC=function(e){return null==e?wC:function(){return this.querySelector(e)}};function xC(){return[]}var SC=function(e){return null==e?xC:function(){return this.querySelectorAll(e)}},TC=function(e){return function(){return this.matches(e)}},MC=function(e){return new Array(e.length)};function PC(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function EC(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new PC(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function OC(e,t,n,r,i,o,a){var s,u,l,c={},h=t.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=t[s])&&(d[s]=l="$"+a.call(u,u.__data__,s,t),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l="$"+a.call(e,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new PC(e,o[s]);for(s=0;s<h;++s)(u=t[s])&&c[d[s]]===u&&(i[s]=u)}function RC(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}PC.prototype={constructor:PC,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var AC="http://www.w3.org/1999/xhtml",IC={svg:"http://www.w3.org/2000/svg",xhtml:AC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jC=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),IC.hasOwnProperty(t)?{space:IC[t],local:e}:e};function DC(e){return function(){this.removeAttribute(e)}}function NC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function FC(e,t){return function(){this.setAttribute(e,t)}}function LC(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function zC(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var HC=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function UC(e){return function(){this.style.removeProperty(e)}}function BC(e,t,n){return function(){this.style.setProperty(e,t,n)}}function qC(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function WC(e,t){return e.style.getPropertyValue(t)||HC(e).getComputedStyle(e,null).getPropertyValue(t)}function GC(e){return function(){delete this[e]}}function XC(e,t){return function(){this[e]=t}}function YC(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function QC(e){return e.trim().split(/^|\s+/)}function $C(e){return e.classList||new ZC(e)}function ZC(e){this._node=e,this._names=QC(e.getAttribute("class")||"")}function KC(e,t){for(var n=$C(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function JC(e,t){for(var n=$C(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function ex(e){return function(){KC(this,e)}}function tx(e){return function(){JC(this,e)}}function nx(e,t){return function(){(t.apply(this,arguments)?KC:JC)(this,e)}}function rx(){this.textContent=""}function ix(e){return function(){this.textContent=e}}function ox(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ax(){this.innerHTML=""}function sx(e){return function(){this.innerHTML=e}}function ux(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function lx(){this.nextSibling&&this.parentNode.appendChild(this)}function cx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===AC&&t.documentElement.namespaceURI===AC?t.createElement(e):t.createElementNS(n,e)}}function fx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}ZC.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var dx=function(e){var t=jC(e);return(t.local?fx:hx)(t)};function px(){return null}function vx(){var e=this.parentNode;e&&e.removeChild(this)}function gx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}var yx={},_x=null;function bx(e,t,n){return e=kx(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function kx(e,t,n){return function(r){var i=_x;_x=r;try{e.call(this,this.__data__,t,n)}finally{_x=i}}}function wx(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Cx(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function xx(e,t,n){var r=yx.hasOwnProperty(e.type)?bx:kx;return function(i,o,a){var s,u=this.__on,l=r(t,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function Sx(e,t,n,r){var i=_x;e.sourceEvent=_x,_x=e;try{return t.apply(n,r)}finally{_x=i}}function Tx(e,t,n){var r=HC(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Mx(e,t){return function(){return Tx(this,e,t)}}function Px(e,t){return function(){return Tx(this,e,t.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(yx={mouseenter:"mouseover",mouseleave:"mouseout"}));var Ex=[null];function Ox(e,t){this._groups=e,this._parents=t}function Rx(){return new Ox([[document.documentElement]],Ex)}Ox.prototype=Rx.prototype={constructor:Ox,select:function(e){"function"!=typeof e&&(e=CC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Ox(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=SC(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new Ox(r,i)},filter:function(e){"function"!=typeof e&&(e=TC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Ox(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?OC:EC,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=e.call(h,h&&h.__data__,c,i),v=p.length,g=u[c]=new Array(v),m=s[c]=new Array(v);r(h,f,g,m,l[c]=new Array(d),p,t);for(var y,_,b=0,k=0;b<v;++b)if(y=g[b]){for(b>=k&&(k=b+1);!(_=m[k])&&++k<v;);y._next=_||null}}return(s=new Ox(s,i))._enter=u,s._exit=l,s},enter:function(){return new Ox(this._enter||this._groups.map(MC),this._parents)},exit:function(){return new Ox(this._exit||this._groups.map(MC),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=t[a],l=n[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f]||l[f])&&(h[f]=s);for(;a<r;++a)o[a]=t[a];return new Ox(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=RC);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new Ox(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=jC(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?NC:DC:"function"==typeof t?n.local?zC:VC:n.local?LC:FC)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?UC:"function"==typeof t?qC:BC)(e,t,null==n?"":n)):WC(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?GC:"function"==typeof t?YC:XC)(e,t)):this.node()[e]},classed:function(e,t){var n=QC(e+"");if(arguments.length<2){for(var r=$C(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?nx:t?ex:tx)(n,t))},text:function(e){return arguments.length?this.each(null==e?rx:("function"==typeof e?ox:ix)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ax:("function"==typeof e?ux:sx)(e)):this.node().innerHTML},raise:function(){return this.each(lx)},lower:function(){return this.each(cx)},append:function(e){var t="function"==typeof e?e:dx(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:dx(e),r=null==t?px:"function"==typeof t?t:CC(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(vx)},clone:function(e){return this.select(e?mx:gx)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=wx(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?xx:Cx,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"==typeof t?Px:Mx)(e,t))}};var Ax=Rx,Ix=function(e){return"string"==typeof e?new Ox([[document.querySelector(e)]],[document.documentElement]):new Ox([[e]],Ex)};function jx(){_x.stopImmediatePropagation()}var Dx=function(){_x.preventDefault(),_x.stopImmediatePropagation()},Nx=function(e){var t=e.document.documentElement,n=Ix(e).on("dragstart.drag",Dx,!0);"onselectstart"in t?n.on("selectstart.drag",Dx,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")},Fx=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Lx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Vx(){}var zx="\\s*([+-]?\\d+)\\s*",Hx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ux="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bx=/^#([0-9a-f]{3,8})$/,qx=new RegExp("^rgb\\("+[zx,zx,zx]+"\\)$"),Wx=new RegExp("^rgb\\("+[Ux,Ux,Ux]+"\\)$"),Gx=new RegExp("^rgba\\("+[zx,zx,zx,Hx]+"\\)$"),Xx=new RegExp("^rgba\\("+[Ux,Ux,Ux,Hx]+"\\)$"),Yx=new RegExp("^hsl\\("+[Hx,Ux,Ux]+"\\)$"),Qx=new RegExp("^hsla\\("+[Hx,Ux,Ux,Hx]+"\\)$"),$x={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zx(){return this.rgb().formatHex()}function Kx(){return this.rgb().formatRgb()}function Jx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bx.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?eS(t):3===n?new iS(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?new iS(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?new iS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=qx.exec(e))?new iS(t[1],t[2],t[3],1):(t=Wx.exec(e))?new iS(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Gx.exec(e))?tS(t[1],t[2],t[3],t[4]):(t=Xx.exec(e))?tS(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Yx.exec(e))?uS(t[1],t[2]/100,t[3]/100,1):(t=Qx.exec(e))?uS(t[1],t[2]/100,t[3]/100,t[4]):$x.hasOwnProperty(e)?eS($x[e]):"transparent"===e?new iS(NaN,NaN,NaN,0):null}function eS(e){return new iS(e>>16&255,e>>8&255,255&e,1)}function tS(e,t,n,r){return r<=0&&(e=t=n=NaN),new iS(e,t,n,r)}function nS(e){return e instanceof Vx||(e=Jx(e)),e?new iS((e=e.rgb()).r,e.g,e.b,e.opacity):new iS}function rS(e,t,n,r){return 1===arguments.length?nS(e):new iS(e,t,n,null==r?1:r)}function iS(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function oS(){return"#"+sS(this.r)+sS(this.g)+sS(this.b)}function aS(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function sS(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function uS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cS(e,t,n,r)}function lS(e){if(e instanceof cS)return new cS(e.h,e.s,e.l,e.opacity);if(e instanceof Vx||(e=Jx(e)),!e)return new cS;if(e instanceof cS)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new cS(a,s,u,e.opacity)}function cS(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function fS(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}Fx(Vx,Jx,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Zx,formatHex:Zx,formatHsl:function(){return lS(this).formatHsl()},formatRgb:Kx,toString:Kx}),Fx(iS,rS,Lx(Vx,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new iS(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new iS(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oS,formatHex:oS,formatRgb:aS,toString:aS})),Fx(cS,(function(e,t,n,r){return 1===arguments.length?lS(e):new cS(e,t,n,null==r?1:r)}),Lx(Vx,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new cS(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new cS(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new iS(hS(e>=240?e-240:e+120,i,r),hS(e,i,r),hS(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var dS=function(e){return function(){return e}};function pS(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):dS(isNaN(e)?t:e)}var vS=function e(t){var n=function(e){return 1==(e=+e)?pS:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):dS(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=rS(e)).r,(t=rS(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=pS(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function gS(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=rS(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}gS((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1];return fS((n-r/t)*t,r>0?e[r-1]:2*i-o,i,o,r<t-1?e[r+2]:2*o-i)}})),gS((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return fS((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}));var mS=function(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}};function yS(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=MS(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}var _S,bS,kS=function(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}},wS=function(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}},CS=function(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=MS(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},xS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,SS=new RegExp(xS.source,"g"),TS=function(e,t){var n,r,i,o=xS.lastIndex=SS.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=xS.exec(e))&&(r=SS.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:wS(n,r)})),o=SS.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},MS=function(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?dS(t):("number"===i?wS:"string"===i?(n=Jx(t))?(t=n,vS):TS:t instanceof Jx?vS:t instanceof Date?kS:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?yS:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?CS:wS:mS))(e,t)},PS=function(){for(var e,t=_x;e=t.sourceEvent;)t=e;return t},ES=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},OS=function(e,t,n){arguments.length<3&&(n=t,t=PS().changedTouches);for(var r,i=0,o=t?t.length:0;i<o;++i)if((r=t[i]).identifier===n)return ES(e,r);return null},RS=function(e){var t=PS();return t.changedTouches&&(t=t.changedTouches[0]),ES(e,t)},AS=0,IS=0,jS=0,DS=0,NS=0,FS=0,LS="object"==typeof performance&&performance.now?performance:Date,VS="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zS(){return NS||(VS(HS),NS=LS.now()+FS)}function HS(){NS=0}function US(){this._call=this._time=this._next=null}function BS(e,t,n){var r=new US;return r.restart(e,t,n),r}function qS(){NS=(DS=LS.now())+FS,AS=IS=0;try{!function(){zS(),++AS;for(var e,t=_S;t;)(e=NS-t._time)>=0&&t._call.call(null,e),t=t._next;--AS}()}finally{AS=0,function(){for(var e,t,n=_S,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:_S=t);bS=e,GS(r)}(),NS=0}}function WS(){var e=LS.now(),t=e-DS;t>1e3&&(FS-=t,DS=e)}function GS(e){AS||(IS&&(IS=clearTimeout(IS)),e-NS>24?(e<1/0&&(IS=setTimeout(qS,e-LS.now()-FS)),jS&&(jS=clearInterval(jS))):(jS||(DS=LS.now(),jS=setInterval(WS,1e3)),AS=1,VS(qS)))}US.prototype=BS.prototype={constructor:US,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?zS():+n)+(null==t?0:+t),this._next||bS===this||(bS?bS._next=this:_S=this,bS=this),this._call=e,this._time=n,GS()},stop:function(){this._call&&(this._call=null,this._time=1/0,GS())}};var XS=function(e,t,n){var r=new US;return r.restart((function(n){r.stop(),e(n+t)}),t=null==t?0:+t,n),r},YS=kC("start","end","cancel","interrupt"),QS=[],$S=function(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(u){var l,c,h,f;if(1!==n.state)return s();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return XS(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(XS((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=BS((function(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:YS,tween:QS,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function ZS(e,t){var n=JS(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function KS(e,t){var n=JS(e,t);if(n.state>3)throw new Error("too late; already running");return n}function JS(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var eT,tT,nT,rT,iT=180/Math.PI,oT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},aT=function(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*iT,skewX:Math.atan(u)*iT,scaleX:a,scaleY:s}};function sT(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:wS(e,i)},{i:u-2,x:wS(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:wS(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:wS(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:wS(e,n)},{i:s-2,x:wS(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var uT=sT((function(e){return"none"===e?oT:(eT||(eT=document.createElement("DIV"),tT=document.documentElement,nT=document.defaultView),eT.style.transform=e,e=nT.getComputedStyle(tT.appendChild(eT),null).getPropertyValue("transform"),tT.removeChild(eT),e=e.slice(7,-1).split(","),aT(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),lT=sT((function(e){return null==e?oT:(rT||(rT=document.createElementNS("http://www.w3.org/2000/svg","g")),rT.setAttribute("transform",e),(e=rT.transform.baseVal.consolidate())?aT((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):oT)}),", ",")",")");function cT(e,t){var n,r;return function(){var i=KS(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function hT(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=KS(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function fT(e,t,n){var r=e._id;return e.each((function(){var e=KS(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return JS(e,r).value[t]}}var dT=function(e,t){var n;return("number"==typeof t?wS:t instanceof Jx?vS:(n=Jx(t))?(t=n,vS):TS)(e,t)};function pT(e){return function(){this.removeAttribute(e)}}function vT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gT(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function mT(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function yT(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttribute(e)}}function _T(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function bT(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kT(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function wT(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&kT(e,i)),n}return i._value=t,i}function CT(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&bT(e,i)),n}return i._value=t,i}function xT(e,t){return function(){ZS(this,e).delay=+t.apply(this,arguments)}}function ST(e,t){return t=+t,function(){ZS(this,e).delay=t}}function TT(e,t){return function(){KS(this,e).duration=+t.apply(this,arguments)}}function MT(e,t){return t=+t,function(){KS(this,e).duration=t}}function PT(e,t){if("function"!=typeof t)throw new Error;return function(){KS(this,e).ease=t}}function ET(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ZS:KS;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}var OT=Ax.prototype.constructor;function RT(e){return function(){this.style.removeProperty(e)}}function AT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function IT(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&AT(e,o,n)),r}return o._value=t,o}function jT(e){return function(t){this.textContent=e.call(this,t)}}function DT(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&jT(r)),t}return r._value=e,r}var NT=0;function FT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function LT(e){return Ax().transition(e)}function VT(){return++NT}var zT=Ax.prototype;FT.prototype=LT.prototype={constructor:FT,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=CC(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,$S(h[f],t,n,f,h,JS(s,n)));return new FT(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=SC(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=e.call(u,u.__data__,h,l),p=JS(u,n),v=0,g=d.length;v<g;++v)(f=d[v])&&$S(f,t,n,v,d,p);o.push(d),a.push(u)}return new FT(o,a,t,n)},filter:function(e){"function"!=typeof e&&(e=TC(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new FT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=Math.min(r,n.length),o=new Array(r),a=0;a<i;++a)for(var s,u=t[a],l=n[a],c=u.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=u[f]||l[f])&&(h[f]=s);for(;a<r;++a)o[a]=t[a];return new FT(o,this._parents,this._name,this._id)},selection:function(){return new OT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=VT(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=JS(a,t);$S(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new FT(r,this._parents,e,n)},call:zT.call,nodes:zT.nodes,node:zT.node,size:zT.size,empty:zT.empty,each:zT.each,on:function(e,t){var n=this._id;return arguments.length<2?JS(this.node(),n).on.on(e):this.each(ET(n,e,t))},attr:function(e,t){var n=jC(e),r="transform"===n?lT:dT;return this.attrTween(e,"function"==typeof t?(n.local?_T:yT)(n,r,fT(this,"attr."+e,t)):null==t?(n.local?vT:pT)(n):(n.local?mT:gT)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=jC(e);return this.tween(n,(r.local?wT:CT)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?uT:dT;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=WC(this,e),a=(this.style.removeProperty(e),WC(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,RT(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=WC(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=WC(this,e)),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}(e,r,fT(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var u=KS(this,e),l=u.on,c=null==u.value[a]?o||(o=RT(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=WC(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,IT(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(fT(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,DT(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=JS(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?cT:hT)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?xT:ST)(t,e)):JS(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?TT:MT)(t,e)):JS(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(PT(t,e)):JS(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each((function(){var n=KS(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t}))}))}};var HT={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function UT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return HT.time=zS(),HT;return n}function BT(e){return{type:e}}Ax.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)}))},Ax.prototype.transition=function(e){var t,n;e instanceof FT?(t=e._id,e=e._name):(t=VT(),(n=HT).time=zS(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&$S(a,e,t,l,s,n||UT(a,t));return new FT(r,this._parents,e,t)},["w","e"].map(BT),["n","s"].map(BT),["n","w","e","s","nw","ne","sw","se"].map(BT),Math,Math,Math,Math;var qT=Math.PI,WT=2*qT,GT=WT-1e-6;function XT(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function YT(){return new XT}XT.prototype=YT.prototype={constructor:XT,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){var o=this._x1,a=this._y1,s=(n=+n)-(e=+e),u=(r=+r)-(t=+t),l=o-e,c=a-t,h=l*l+c*c;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var f=n-o,d=r-a,p=s*s+u*u,v=f*f+d*d,g=Math.sqrt(p),m=Math.sqrt(h),y=i*Math.tan((qT-Math.acos((p+h-v)/(2*g*m)))/2),_=y/m,b=y/g;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*l)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*d)+","+(this._x1=e+b*s)+","+(this._y1=t+b*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+a,l=t+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+u+","+l),n&&(h<0&&(h=h%WT+WT),h>GT?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=qT)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var QT=YT;function $T(){}function ZT(e,t){var n=new $T;if(e instanceof $T)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,o=e.length;if(null==t)for(;++i<o;)n.set(i,e[i]);else for(;++i<o;)n.set(t(r=e[i],i,e),r)}else if(e)for(var a in e)n.set(a,e[a]);return n}function KT(){}$T.prototype=ZT.prototype={constructor:$T,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var JT=ZT.prototype;KT.prototype=(function(e,t){var n=new KT;if(e instanceof KT)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}).prototype={constructor:KT,has:JT.has,add:function(e){return this["$"+(e+="")]=e,this},remove:JT.remove,clear:JT.clear,values:JT.keys,size:JT.size,empty:JT.empty,each:JT.each};var eM=function(e){return function(){return e}};function tM(e,t,n,r,i,o,a,s,u,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function nM(){return!_x.ctrlKey&&!_x.button}function rM(){return this.parentNode}function iM(e){return null==e?{x:_x.x,y:_x.y}:e}function oM(){return navigator.maxTouchPoints||"ontouchstart"in this}tM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var aM=function(){var e,t,n,r,i=nM,o=rM,a=iM,s=oM,u={},l=kC("start","drag","end"),c=0,h=0;function f(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=_("mouse",o.apply(this,arguments),RS,this,arguments);a&&(Ix(_x.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),Nx(_x.view),jx(),n=!1,e=_x.clientX,t=_x.clientY,a("start"))}}function p(){if(Dx(),!n){var r=_x.clientX-e,i=_x.clientY-t;n=r*r+i*i>h}u.mouse("drag")}function v(){var e,t,r,i;Ix(_x.view).on("mousemove.drag mouseup.drag",null),t=n,r=(e=_x.view).document.documentElement,i=Ix(e).on("dragstart.drag",null),t&&(i.on("click.drag",Dx,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Dx(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var e,t,n=_x.changedTouches,r=o.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=_(n[e].identifier,r,OS,this,arguments))&&(jx(),t("start"))}}function m(){var e,t,n=_x.changedTouches,r=n.length;for(e=0;e<r;++e)(t=u[n[e].identifier])&&(Dx(),t("drag"))}function y(){var e,t,n=_x.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(t=u[n[e].identifier])&&(jx(),t("end"))}function _(e,t,n,r,i){var o,s,h,d=n(t,e),p=l.copy();if(Sx(new tM(f,"beforestart",o,e,c,d[0],d[1],0,0,p),(function(){return null!=(_x.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function a(l){var v,g=d;switch(l){case"start":u[e]=a,v=c++;break;case"end":delete u[e],--c;case"drag":d=n(t,e),v=c}Sx(new tM(f,l,o,e,v,d[0]+s,d[1]+h,d[0]-g[0],d[1]-g[1],p),p.apply,p,[l,r,i])}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:eM(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:eM(e),f):o},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:eM(e),f):a},f.touchable=function(e){return arguments.length?(s="function"==typeof e?e:eM(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f},sM={},uM={};function lM(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function cM(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function hM(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var fM=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],o=e.length,a=0,s=0,u=o<=0,l=!1;function c(){if(u)return uM;if(l)return l=!1,sM;var t,r,i=a;if(34===e.charCodeAt(i)){for(;a++<o&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=o?u=!0:10===(r=e.charCodeAt(a++))?l=!0:13===r&&(l=!0,10===e.charCodeAt(a)&&++a),e.slice(i+1,t-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=e.charCodeAt(t=a++)))l=!0;else if(13===r)l=!0,10===e.charCodeAt(a)&&++a;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,o)}for(10===e.charCodeAt(o-1)&&--o,13===e.charCodeAt(o-1)&&--o;(r=c())!==uM;){for(var h=[];r!==sM&&r!==uM;)h.push(r),r=c();t&&null==(h=t(h,s++))||i.push(h)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return a(t[e])})).join(e)}))}function o(t){return t.map(a).join(e)}function a(e){return null==e?"":e instanceof Date?(i=(n=e).getUTCHours(),o=n.getUTCMinutes(),a=n.getUTCSeconds(),s=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+hM(-r,6):r>9999?"+"+hM(r,6):hM(r,4))+"-"+hM(n.getUTCMonth()+1,2)+"-"+hM(n.getUTCDate(),2)+(s?"T"+hM(i,2)+":"+hM(o,2)+":"+hM(a,2)+"."+hM(s,3)+"Z":a?"T"+hM(i,2)+":"+hM(o,2)+":"+hM(a,2)+"Z":o||i?"T"+hM(i,2)+":"+hM(o,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,r,i,o,a,s}return{parse:function(e,t){var n,i,o=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=lM(e);return function(r,i){return t(n(r),i,e)}}(e,t):lM(e)}));return o.columns=i||[],o},parseRows:r,format:function(t,n){return null==n&&(n=cM(t)),[n.map(a).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=cM(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(o).join("\n")},formatRow:o,formatValue:a}},dM=fM(",").parse,pM=fM("\t").parse;function vM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var gM=function(e,t){return fetch(e,t).then(vM)};function mM(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),gM(t,n).then((function(t){return e(t,r)}))}}function yM(e){return function(t,n){return gM(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}function _M(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,u,l,c,h,f,d=e._root,p={data:r},v=e._x0,g=e._y0,m=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(l=t>=(o=(v+m)/2))?v=o:m=o,(c=n>=(a=(g+y)/2))?g=a:y=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,e}mM(dM),mM(pM),yM("application/xml"),yM("text/html"),yM("image/svg+xml");var bM=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function kM(e){return e[0]}function wM(e){return e[1]}function CM(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function xM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var SM=(function(e,t,n){var r=new CM(null==t?kM:t,null==n?wM:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}).prototype=CM.prototype;SM.copy=function(){var e,t,n=new CM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=xM(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=xM(t));return n},SM.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return _M(this.cover(t,n),t,n,e)},SM.addAll=function(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)_M(this,a[n],s[n],e[n]);return this},SM.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a,s,u=i-n,l=this._root;n>e||e>=i||r>t||t>=o;)switch(s=(t<r)<<1|e<n,(a=new Array(4))[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},SM.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},SM.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},SM.find=function(e,t,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new bM(v,c,h,f,d)),null==n?n=1/0:(c=e-n,h=t-n,f=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var g=(i+a)/2,m=(o+s)/2;p.push(new bM(v[3],g,m,a,s),new bM(v[2],i,m,g,s),new bM(v[1],g,o,a,m),new bM(v[0],i,o,g,m)),(l=(t>=m)<<1|e>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,v.data),_=t-+this._y.call(null,v.data),b=y*y+_*_;if(b<n){var k=Math.sqrt(n=b);c=e-k,h=t-k,f=e+k,d=t+k,r=v.data}}return r},SM.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,g=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+g)/2))?p=s:g=s,(c=a>=(u=(v+m)/2))?v=u:m=u,t=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},SM.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},SM.root=function(){return this._root},SM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},SM.visit=function(e){var t,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new bM(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new bM(n,l,c,o,a)),(n=u[2])&&s.push(new bM(n,r,c,l,a)),(n=u[1])&&s.push(new bM(n,l,i,o,c)),(n=u[0])&&s.push(new bM(n,r,i,l,c))}return this},SM.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new bM(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new bM(o,a,s,c,h)),(o=i[1])&&n.push(new bM(o,c,s,u,h)),(o=i[2])&&n.push(new bM(o,a,h,c,l)),(o=i[3])&&n.push(new bM(o,c,h,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},SM.x=function(e){return arguments.length?(this._x=e,this):this._x},SM.y=function(e){return arguments.length?(this._y=e,this):this._y},Math,Math.sqrt(5);var TM=function(){return Math.random()},MM=(function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(TM),function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*t()-1,o=2*t()-1,i=r*r+o*o}while(!i||i>1);return e+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(TM)),PM=(function e(t){function n(){var e=MM.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(TM),function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(TM));function EM(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}(function e(t){function n(e){var n=PM.source(t)(e);return function(){return n()/e}}return n.source=e,n})(TM),function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(TM);var OM=Array.prototype,RM=OM.map,AM=OM.slice,IM=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},jM=function(e){return+e},DM=[0,1];function NM(e){return e}function FM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function LM(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function VM(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=FM(i,r),o=n(a,o)):(r=FM(r,i),o=n(o,a)),function(e){return o(r(e))}}function zM(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=FM(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=eC(e,t,1,r)-1;return o[n](i[n](t))}}function HM(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function UM(e,t){return function(){var e,t,n,r,i,o,a=DM,s=DM,u=MS,l=NM;function c(){return r=Math.min(a.length,s.length)>2?zM:VM,i=o=null,h}function h(t){return isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return h.invert=function(n){return l(t((o||(o=r(s,a.map(e),wS)))(n)))},h.domain=function(e){return arguments.length?(a=RM.call(e,jM),l===NM||(l=LM(a)),c()):a.slice()},h.range=function(e){return arguments.length?(s=AM.call(e),c()):s.slice()},h.rangeRound=function(e){return s=AM.call(e),u=IM,c()},h.clamp=function(e){return arguments.length?(l=e?LM(a):NM,h):l!==NM},h.interpolate=function(e){return arguments.length?(u=e,c()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}()(e,t)}var BM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qM(e){if(!(t=BM.exec(e)))throw new Error("invalid format: "+e);var t;return new WM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function WM(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}qM.prototype=WM.prototype,WM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var GM,XM,YM,QM,$M=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},ZM=function(e){return(e=$M(Math.abs(e)))?e[1]:NaN},KM=function(e,t){var n=$M(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},JM={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return KM(100*e,t)},r:KM,s:function(e,t){var n=$M(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(GM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$M(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},eP=function(e){return e},tP=Array.prototype.map,nP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function rP(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=oC(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(e-s)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return function(e,t,n,r){var i,o=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nC?i*=10:o>=rC?i*=5:o>=iC&&(i*=2),t<e?-i:i}(e,t,n);switch((r=qM(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ZM(t)/3)))-ZM(Math.abs(e)))}(o,a))||(r.precision=i),QM(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ZM(t)-ZM(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ZM(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return YM(r)}(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=oC(s,u,n))>0?r=oC(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=oC(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,t(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,t(i)),e},e}function iP(){var e=UM(NM,NM);return e.copy=function(){return HM(e,iP())},EM.apply(e,arguments),rP(e)}XM=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?eP:(t=tP.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?eP:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(tP.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=qM(e)).fill,n=e.align,h=e.sign,f=e.symbol,d=e.zero,p=e.width,v=e.comma,g=e.precision,m=e.trim,y=e.type;"n"===y?(v=!0,y="g"):JM[y]||(void 0===g&&(g=12),m=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?u:"",k=JM[y],w=/[defgprs%]/.test(y);function C(e){var i,o,u,f=_,C=b;if("c"===y)C=k(e)+C,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:k(Math.abs(e),g),m&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0==+e&&"+"!==h&&(x=!1),f=(x?"("===h?h:l:"-"===h||"("===h?"":h)+f,C=("s"===y?nP[8+GM/3]:"")+C+(x&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){C=(46===u?a+e.slice(i+1):e.slice(i))+C,e=e.slice(0,i);break}}v&&!d&&(e=r(e,1/0));var S=f.length+e.length+C.length,T=S<p?new Array(p-S+1).join(t):"";switch(v&&d&&(e=r(T+e,T.length?p-C.length:1/0),T=""),n){case"<":e=f+e+C+T;break;case"=":e=f+T+e+C;break;case"^":e=T.slice(0,S=T.length>>1)+f+e+C+T.slice(S);break;default:e=T+f+e+C}return s(e)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),C.toString=function(){return e+""},C}return{format:h,formatPrefix:function(e,t){var n=h(((e=qM(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ZM(t)/3))),i=Math.pow(10,-r),o=nP[8+r/3];return function(e){return n(i*e)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),YM=XM.format,QM=XM.formatPrefix;var oP=new Date,aP=new Date;function sP(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return sP((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return oP.setTime(+t),aP.setTime(+r),e(oP),e(aP),Math.floor(n(oP,aP))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var uP=sP((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));uP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?sP((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var lP=uP;function cP(e){return sP((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}sP((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var hP=cP(0),fP=cP(1),dP=(cP(2),cP(3),cP(4)),pP=(cP(5),cP(6),sP((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1}))),vP=(sP((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),sP((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),sP((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),sP((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e})));function gP(e){return sP((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}vP.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?sP((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):vP:null};var mP=gP(0),yP=gP(1),_P=(gP(2),gP(3),gP(4)),bP=(gP(5),gP(6),sP((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1}))),kP=sP((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));kP.every=function(e){return isFinite(e=Math.floor(e))&&e>0?sP((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var wP=kP,CP={"-":"",_:" ",0:"0"},xP=/[\\^$*+?|[\]().{}]/g;function SP(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function TP(e){return e.replace(xP,"\\$&")}function MP(e){return new RegExp("^(?:"+e.map(TP).join("|")+")","i")}function PP(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function EP(e,t){return SP(e.getDate(),t,2)}function OP(e,t){return SP(e.getHours(),t,2)}function RP(e,t){return SP(e.getHours()%12||12,t,2)}function AP(e,t){return SP(1+pP.count(lP(e),e),t,3)}function IP(e,t){return SP(e.getMilliseconds(),t,3)}function jP(e,t){return IP(e,t)+"000"}function DP(e,t){return SP(e.getMonth()+1,t,2)}function NP(e,t){return SP(e.getMinutes(),t,2)}function FP(e,t){return SP(e.getSeconds(),t,2)}function LP(e){var t=e.getDay();return 0===t?7:t}function VP(e,t){return SP(hP.count(lP(e)-1,e),t,2)}function zP(e,t){var n=e.getDay();return e=n>=4||0===n?dP(e):dP.ceil(e),SP(dP.count(lP(e),e)+(4===lP(e).getDay()),t,2)}function HP(e){return e.getDay()}function UP(e,t){return SP(fP.count(lP(e)-1,e),t,2)}function BP(e,t){return SP(e.getFullYear()%100,t,2)}function qP(e,t){return SP(e.getFullYear()%1e4,t,4)}function WP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+SP(t/60|0,"0",2)+SP(t%60,"0",2)}function GP(e,t){return SP(e.getUTCDate(),t,2)}function XP(e,t){return SP(e.getUTCHours(),t,2)}function YP(e,t){return SP(e.getUTCHours()%12||12,t,2)}function QP(e,t){return SP(1+bP.count(wP(e),e),t,3)}function $P(e,t){return SP(e.getUTCMilliseconds(),t,3)}function ZP(e,t){return $P(e,t)+"000"}function KP(e,t){return SP(e.getUTCMonth()+1,t,2)}function JP(e,t){return SP(e.getUTCMinutes(),t,2)}function eE(e,t){return SP(e.getUTCSeconds(),t,2)}function tE(e){var t=e.getUTCDay();return 0===t?7:t}function nE(e,t){return SP(mP.count(wP(e)-1,e),t,2)}function rE(e,t){var n=e.getUTCDay();return e=n>=4||0===n?_P(e):_P.ceil(e),SP(_P.count(wP(e),e)+(4===wP(e).getUTCDay()),t,2)}function iE(e){return e.getUTCDay()}function oE(e,t){return SP(yP.count(wP(e)-1,e),t,2)}function aE(e,t){return SP(e.getUTCFullYear()%100,t,2)}function sE(e,t){return SP(e.getUTCFullYear()%1e4,t,4)}function uE(){return"+0000"}function lE(){return"%"}function cE(e){return+e}function hE(e){return Math.floor(+e/1e3)}(function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=(MP(i),PP(i),MP(o),PP(o),MP(a),PP(a),MP(s),PP(s),MP(u),PP(u),{a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:EP,e:EP,f:jP,H:OP,I:RP,j:AP,L:IP,m:DP,M:NP,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:cE,s:hE,S:FP,u:LP,U:VP,V:zP,w:HP,W:UP,x:null,X:null,y:BP,Y:qP,Z:WP,"%":lE}),c={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:GP,e:GP,f:ZP,H:XP,I:YP,j:QP,L:$P,m:KP,M:JP,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:cE,s:hE,S:eE,u:tE,U:nE,V:rE,w:iE,W:oE,x:null,X:null,y:aE,Y:sE,Z:uE,"%":lE};function h(e,t){return function(n){var r,i,o,a=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(a.push(e.slice(u,s)),null!=(i=CP[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(e.slice(u,s)),a.join("")}}l.x=h(n,l),l.X=h(r,l),l.c=h(t,l),c.x=h(n,c),c.X=h(r,c),c.c=h(t,c)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),sP((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),sP((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),sP((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()}));var fE=function(e){return function(){return e}};function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var pE=function(e){return new dE(e)};function vE(e){return e[0]}function gE(e){return e[1]}var mE=function(){var e=vE,t=gE,n=fE(!0),r=null,i=pE,o=null;function a(a){var s,u,l,c=a.length,h=!1;for(null==r&&(o=i(l=QT())),s=0;s<=c;++s)!(s<c&&n(u=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,s,a),+t(u,s,a));if(l)return o=null,l+""||null}return a.x=function(t){return arguments.length?(e="function"==typeof t?t:fE(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:fE(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:fE(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a};function yE(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _E(e){this._context=e}_E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yE(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var bE=function(e){return new _E(e)};function kE(){this._=null}function wE(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function CE(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function xE(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function SE(e){for(;e.L;)e=e.L;return e}kE.prototype={constructor:kE,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=SE(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(CE(this,n),n=(e=n).U),n.C=!1,r.C=!0,xE(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(xE(this,n),n=(e=n).U),n.C=!1,r.C=!0,CE(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?SE(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,i.L=e=n.R,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,CE(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,xE(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,CE(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,xE(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,CE(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,xE(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var TE=kE;function ME(e,t,n,r){var i=[null,null],o=ZE.push(i)-1;return i.left=e,i.right=t,n&&EE(i,e,t,n),r&&EE(i,t,e,r),QE[e.index].halfedges.push(o),QE[t.index].halfedges.push(o),i}function PE(e,t,n){var r=[t,n];return r.left=e,r}function EE(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function OE(e,t,n,r,i){var o,a=e[0],s=e[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=t-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(e[0]=[u+c*f,l+c*d]),h<1&&(e[1]=[u+h*f,l+h*d]),!0)}}}}}function RE(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,u=e[0],l=e.left,c=e.right,h=l[0],f=l[1],d=c[0],p=c[1],v=(h+d)/2;if(p===f){if(v<t||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(s=(f+p)/2-(a=(h-d)/(p-f))*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];o=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];o=[t,a*t+s]}return e[0]=u,e[1]=o,!0}function AE(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function IE(e,t){return t[+(t.left!==e.site)]}function jE(e,t){return t[+(t.left===e.site)]}var DE,NE=[];function FE(){wE(this),this.x=this.y=this.arc=this.site=this.cy=null}function LE(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-JE)){var d=u*u+l*l,p=c*c+h*h,v=(h*d-l*p)/f,g=(u*p-c*d)/f,m=NE.pop()||new FE;m.arc=e,m.site=i,m.x=v+a,m.y=(m.cy=g+s)+Math.sqrt(v*v+g*g),e.circle=m;for(var y=null,_=$E._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}$E.insert(y,m),y||(DE=m)}}}}function VE(e){var t=e.circle;t&&(t.P||(DE=t.N),$E.remove(t),NE.push(t),wE(t),e.circle=null)}var zE=[];function HE(){wE(this),this.edge=this.site=this.circle=null}function UE(e){var t=zE.pop()||new HE;return t.site=e,t}function BE(e){VE(e),YE.remove(e),zE.push(e),wE(e)}function qE(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];BE(e);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<KE&&Math.abs(r-u.circle.cy)<KE;)o=u.P,s.unshift(u),BE(u),u=o;s.unshift(u),VE(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<KE&&Math.abs(r-l.circle.cy)<KE;)a=l.N,s.push(l),BE(l),l=a;s.push(l),VE(l);var c,h=s.length;for(c=1;c<h;++c)EE((l=s[c]).edge,(u=s[c-1]).site,l.site,i);(l=s[h-1]).edge=ME((u=s[0]).site,l.site,null,i),LE(u),LE(l)}function WE(e){for(var t,n,r,i,o=e[0],a=e[1],s=YE._;s;)if((r=GE(s,a)-o)>KE)s=s.L;else{if(!((i=o-XE(s,a))>KE)){r>-KE?(t=s.P,n=s):i>-KE?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){QE[e.index]={site:e,halfedges:[]}}(e);var u=UE(e);if(YE.insert(t,u),t||n){if(t===n)return VE(t),n=UE(t.site),YE.insert(u,n),u.edge=n.edge=ME(t.site,u.site),LE(t),void LE(n);if(n){VE(t),VE(n);var l=t.site,c=l[0],h=l[1],f=e[0]-c,d=e[1]-h,p=n.site,v=p[0]-c,g=p[1]-h,m=2*(f*g-d*v),y=f*f+d*d,_=v*v+g*g,b=[(g*y-d*_)/m+c,(f*_-v*y)/m+h];EE(n.edge,l,p,b),u.edge=ME(l,e,null,b),n.edge=ME(e,p,null,b),LE(t),LE(n)}else u.edge=ME(t.site,u.site)}}function GE(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function XE(e,t){var n=e.N;if(n)return GE(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var YE,QE,$E,ZE,KE=1e-6,JE=1e-12;function eO(e,t){return t[1]-e[1]||t[0]-e[0]}function tO(e,t){var n,r,i,o=e.sort(eO).pop();for(ZE=[],QE=new Array(e.length),YE=new TE,$E=new TE;;)if(i=DE,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(WE(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;qE(i.arc)}if(function(){for(var e,t,n,r,i=0,o=QE.length;i<o;++i)if((e=QE[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=AE(e,ZE[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,o=ZE.length;o--;)RE(i=ZE[o],e,t,n,r)&&OE(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>KE||Math.abs(i[0][1]-i[1][1])>KE)||delete ZE[o]}(a,s,u,l),function(e,t,n,r){var i,o,a,s,u,l,c,h,f,d,p,v,g=QE.length,m=!0;for(i=0;i<g;++i)if(o=QE[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)ZE[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=jE(o,ZE[u[s]]))[0],v=d[1],h=(c=IE(o,ZE[u[++s%l]]))[0],f=c[1],(Math.abs(p-h)>KE||Math.abs(v-f)>KE)&&(u.splice(s,0,ZE.push(PE(a,d,Math.abs(p-e)<KE&&r-v>KE?[e,Math.abs(h-e)<KE?f:r]:Math.abs(v-r)<KE&&n-p>KE?[Math.abs(f-r)<KE?h:n,r]:Math.abs(p-n)<KE&&v-t>KE?[n,Math.abs(h-n)<KE?f:t]:Math.abs(v-t)<KE&&p-e>KE?[Math.abs(f-t)<KE?h:e,t]:null))-1),++l);l&&(m=!1)}if(m){var y,_,b,k=1/0;for(i=0,m=null;i<g;++i)(o=QE[i])&&(b=(y=(a=o.site)[0]-e)*y+(_=a[1]-t)*_)<k&&(k=b,m=o);if(m){var w=[e,t],C=[e,r],x=[n,r],S=[n,t];m.halfedges.push(ZE.push(PE(a=m.site,w,C))-1,ZE.push(PE(a,C,x))-1,ZE.push(PE(a,x,S))-1,ZE.push(PE(a,S,w))-1)}}for(i=0;i<g;++i)(o=QE[i])&&(o.halfedges.length||delete QE[i])}(a,s,u,l)}this.edges=ZE,this.cells=QE,YE=$E=ZE=QE=null}function nO(e,t,n){this.k=e,this.x=t,this.y=n}tO.prototype={constructor:tO,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return IE(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,l,c=n.site,h=-1,f=t[i[o-1]],d=f.left===c?f.right:f.left;++h<o;)a=d,d=(f=t[i[h]]).left===c?f.right:f.left,a&&d&&r<a.index&&r<d.index&&((s=c)[0]-(l=d)[0])*((u=a)[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0&&e.push([c.data,a.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}},Math,nO.prototype={constructor:nO,scale:function(e){return 1===e?this:new nO(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new nO(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nO(1,0,0);var rO,iO,oO,aO,sO=n("fgPD"),uO=((iO=function(){function e(){_classCallCheck(this,e),this.fontFamily="",this.fontSize=1,this.axisFontSize=1,this.lineWidth=1,this.axisLineWidth=1,this.paletteTheme="typical",this.lineStyle="solid",this.showLegendBox=!1}return _createClass(e,[{key:"reset",value:function(){Object.assign(this,new e)}},{key:"getFontFamily",value:function(){return""==this.fontFamily?'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif':this.fontFamily}},{key:"getFontSize",value:function(){return 18*this.fontSize}},{key:"getAxisFontSize",value:function(){return 15*this.axisFontSize}},{key:"getAxisLineWidth",value:function(){return 1.5*this.axisLineWidth}},{key:"getLineWidth",value:function(){return 3*this.lineWidth}},{key:"dashArray",value:function(e){switch(e&&"any"!=e||(e=this.lineStyle),e){case"solid":return"";case"short-dash":return"5,5";case"medium-dash":return"10,10";case"long-dash":return"15,15";case"dot":return"1,5"}}},{key:"lineCap",value:function(e){return e&&"any"!=e||(e=this.lineStyle),"dot"==e?"round":""}}]),e}()).\u0275fac=function(e){return new(e||iO)},iO.\u0275prov=pe({token:iO,factory:iO.\u0275fac}),iO),lO=((rO=function(){function e(){_classCallCheck(this,e),this.colors={typical:["#0000DD","#DD0000","#000000","#006600","#008888"],plasma:["#0D0887","#7E03A8","#CC4678","#F89441","#F0F921"],viridis:["#440154","#3B528B","#21908C","#5DC863","#FDE725"],magma:["#000004","#51127C","#B63679","#FB8861","#FCFDBF"],pattern:["#000000","#000000","#000000","#000000","#000000"]},this.patterns={typical:["any"],plasma:["any"],viridis:["any"],magma:["any"],pattern:["solid","short-dash","medium-dash","long-dash","dot"]}}return _createClass(e,[{key:"getColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"typical";if(!(t in this.colors))throw new Error("invalid palette: ".concat(t));if(-1==e)return"";var n=this.colors[t];return n[e%n.length]}},{key:"getPattern",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"typical";if(!(t in this.patterns))throw new Error("invalid palette: ".concat(t));if(-1==e)return"";var n=this.patterns[t];return n[e%n.length]}}]),e}()).\u0275fac=function(e){return new(e||rO)},rO.\u0275prov=pe({token:rO,factory:rO.\u0275fac}),rO),cO=["plot"],hO=function(e){return e[e.No=0]="No",e[e.Yes=1]="Yes",e[e.Hover=2]="Hover",e}({}),fO=((oO=function(){function e(t,n){_classCallCheck(this,e),this.plotOptions=t,this.palette=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.setup()}),1)}},{key:"getDimension",value:function(e){return this.plotElement.nativeElement.getBoundingClientRect()[e]}},{key:"getHeight",value:function(){return this.getDimension("height")}},{key:"getWidth",value:function(){return this.getDimension("width")}},{key:"getFontFamily",value:function(){return this.plotOptions.getFontFamily()}},{key:"getFontSize",value:function(){return this.plotOptions.getFontSize()}},{key:"getFontSizePx",value:function(){return"".concat(this.getFontSize(),"px")}},{key:"getAxisLineWidth",value:function(){return this.plotOptions.getAxisLineWidth()}},{key:"getAxisFontSize",value:function(){return this.plotOptions.getAxisFontSize()}},{key:"getPathColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}},{key:"getDashArray",value:function(e){var t=this.palette.getPattern(e,this.plotOptions.paletteTheme);return this.plotOptions.dashArray(t)}},{key:"getLineCap",value:function(e){var t=this.palette.getPattern(e,this.plotOptions.paletteTheme);return this.plotOptions.lineCap(t)}},{key:"getLineWidth",value:function(){return this.plotOptions.getLineWidth()}},{key:"isLegendBoxVisible",value:function(){return this.plotOptions.showLegendBox}},{key:"trackByIndex",value:function(e,t){return e}},{key:"translate",value:function(e,t){return isNaN(e)||isNaN(t)?null:"translate(".concat(e,", ").concat(t,")")}},{key:"getPath",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"y",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=sO(this.xScale.domain(),Kw),a=sO(this.yScale.domain(),Kw),s=mE().x((function(e,r){return t.xScale(e[n])})).y((function(e,n){return t.yScale(e[r])})).defined((function(e,t,i){var s,u,l,c,h=e[n],f=e[r];return t>0&&(s=i[t-1][n],u=i[t-1][r]),t+1<i.length&&(l=i[t+1][n],c=i[t+1][r]),"number"==typeof h&&"number"==typeof f&&(h>=o[0]&&h<=o[1]||"number"==typeof s&&s>=o[0]&&s<=o[1]||"number"==typeof l&&l>=o[0]&&l<=o[1])&&(f>=a[0]&&f<=a[1]||"number"==typeof u&&u>=a[0]&&u<=a[1]||"number"==typeof c&&c>=a[0]&&c<=a[1])}));return i&&(s=s.curve(bE)),s(e)}},{key:"setup",value:function(){return!0}}]),e}()).\u0275fac=function(e){return new(e||oO)($o(uO),$o(lO))},oO.\u0275dir=wt({type:oO,viewQuery:function(e,t){var n;1&e&&wu(cO,!0),2&e&&ku(n=Pu())&&(t.plotElement=n.first)},inputs:{name:"name",fixedWidth:["fixed-width","fixedWidth"],fixedHeight:["fixed-height","fixedHeight"]}}),oO),dO=function e(){_classCallCheck(this,e)},pO=((aO=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){if(void 0===e)return"";for(var n=t.concat(e).map((function(e){return Math.ceil(Math.log10(Math.abs(e)))+4})),r=Math.max.apply(void 0,n),i=e.toFixed(2);i.length<r;)i=" "+i;return i}}]),e}()).\u0275fac=function(e){return new(e||aO)},aO.\u0275pipe=Ct({name:"formatFixed",type:aO,pure:!0}),aO);function vO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",10),na()),2&e){var n=t.$implicit,r=fa(2);Wo("transform",r.translate(r.leftMargin,r.topMargin)),Vr(1),Wo("id",n.id)("stroke",n.color)("stroke-width",r.getLineWidth())("stroke-dasharray",n.dashArray)("stroke-linecap",n.lineCap)("stroke-opacity",n.opacity)}}function gO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",12),na()),2&e){var n=t.index,r=fa(4);Wo("transform",r.translate(r.leftMargin,r.topMargin)),Vr(1),ya("id","",r.name,"-target-drop-",n,""),Wo("stroke-width",r.getLineWidth()/2)}}function mO(e,t){if(1&e&&(Sn(),ia(0),Yo(1,gO,2,4,"g",5),oa()),2&e){var n=fa(3);Vr(1),Jo("ngForOf",n.dropPaths)("ngForTrackBy",n.trackByIndex)}}function yO(e,t){if(1&e){var n=aa();Sn(),ta(0,"g"),Yo(1,mO,2,2,"ng-container",1),ta(2,"circle",11),la("mousemove",(function(e){Jt(n);var t=fa(2);return t.hover(e,t.target)})),na(),na()}if(2&e){var r=fa(2);Vr(1),Jo("ngIf",!r.hideDropLines),Vr(1),ma("id","",r.name,"-target"),Wo("transform",r.translate(r.leftMargin,r.topMargin))}}function _O(e,t){1&e&&(Sn(),ra(0,"path",16)),2&e&&ma("id","",fa(3).name,"-legend-box")}function bO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",17),ta(2,"text",18),za(3),na(),na()),2&e){var n=t.$implicit,r=t.index,i=fa(3);Wo("transform",i.translate(5,i.getFontSize()*r)),Vr(1),Wo("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth())("stroke-dasharray",i.getDashArray(r))("stroke-linecap",i.getLineCap(r)),Vr(2),Ha(n)}}function kO(e,t){if(1&e){var n=aa();Sn(),ta(0,"g",13),la("dblclick",(function(){return Jt(n),fa(2).resetLegend()})),Yo(1,_O,1,1,"path",14),ta(2,"g",15),Yo(3,bO,4,6,"g",5),na(),na()}if(2&e){var r=fa(2);ma("id","",r.name,"-legend"),Wo("transform",r.translate(r.leftMargin+15+r.legendXOffset,r.topMargin+15+r.legendYOffset)),Vr(1),Jo("ngIf",r.isLegendBoxVisible()),Vr(1),ma("id","",r.name,"-legend-labels"),Vr(1),Jo("ngForOf",r.handler.getModelNames())("ngForTrackBy",r.trackByIndex)}}function wO(e,t){1&e&&(Sn(),ra(0,"circle",25))}var CO=function(e){return[e]};function xO(e,t){if(1&e&&(Sn(),ta(0,"g",19),Yo(1,wO,1,0,"circle",20),ra(2,"path",21),ta(3,"text",22),ta(4,"tspan",23),za(5),ou(6,"formatFixed"),na(),ta(7,"tspan",24),za(8),ou(9,"formatFixed"),na(),na(),na()),2&e){var n=fa(2);ma("id","",n.name,"-hover-info"),Vr(1),Jo("ngIf",!n.isHoverInfoTarget()),Vr(1),ma("id","",n.name,"-hover-box"),Vr(1),ma("id","",n.name,"-hover-coords"),Vr(2),Ba("",n.x.sym,": ",su(6,8,n.hoverPoint.x,nu(14,CO,n.hoverPoint.y)),""),Vr(3),Ba("",n.y.sym,": ",su(9,11,n.hoverPoint.y,nu(16,CO,n.hoverPoint.x)),"")}}function SO(e,t){if(1&e){var n=aa();Sn(),ia(0),ta(1,"text",2),za(2),na(),ta(3,"text",3),za(4),na(),ta(5,"text",4),za(6),na(),Yo(7,vO,2,7,"g",5),ra(8,"g",6),ra(9,"g",6),ta(10,"rect",7),la("mouseout",(function(e){return Jt(n),fa().hideHoverInfo(e)}))("mousemove",(function(e){return Jt(n),fa().hover(e)})),na(),Yo(11,yO,3,3,"g",1),Yo(12,kO,4,6,"g",8),Yo(13,xO,10,18,"g",9),oa()}if(2&e){var r=fa();Vr(1),Wo("x",r.innerWidth/2+r.leftMargin)("y",r.height-r.getFontSize()/2),Vr(1),Ua(" ",r.x.title," "),Vr(1),Wo("x",0-(r.innerHeight/2+r.topMargin))("y",r.getFontSize()),Vr(1),Ua(" ",r.y.title," "),Vr(1),Wo("x",r.innerWidth/2+r.leftMargin)("y",r.getFontSize()),Vr(1),Ua(" ",r.title," "),Vr(1),Jo("ngForOf",r.paths)("ngForTrackBy",r.trackById),Vr(1),ma("id","",r.name,"-x-axis"),Wo("transform",r.translate(r.leftMargin,r.innerHeight+r.topMargin)),Vr(1),ma("id","",r.name,"-y-axis"),Wo("transform",r.translate(r.leftMargin,r.topMargin)),Vr(1),Wo("transform",r.translate(r.leftMargin,r.topMargin))("width",r.innerWidth)("height",r.innerHeight),Vr(1),Jo("ngIf",!r.hideTarget),Vr(1),Jo("ngIf",r.handler.getNumModels()>1),Vr(1),Jo("ngIf",r.isHoverInfoActive())}}var TO,MO=function(e){return e[e.Disabled=0]="Disabled",e[e.NonTarget=1]="NonTarget",e[e.Target=2]="Target",e}({}),PO=((TO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).plotOptions=e,i.palette=r,i.hoverDisabled=!1,i.hideDropLines=!1,i.hideTarget=!1,i.disableDrag=!1,i.legendXOffset=0,i.legendYOffset=0,i.modelChanged=new cu,i.hoverInfo=MO.Disabled,i.targetDragging=!1,i.needDraw=hO.No,i.setupCompleted=!1,i.attemptDraw=!0,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t=this;void 0===this.setupTimeoutId&&(console.log("".concat(this.name," setting timeout for setup")),this.setupTimeoutId=setTimeout((function(){t.setupCompleted=t.setup(),console.log("".concat(t.name," setup result (from ngOnChanges): ").concat(t.setupCompleted)),t.setupTimeoutId=void 0}),1))}},{key:"ngAfterViewChecked",value:function(){if(this.attemptDraw)try{this.draw()}catch(e){console.log("".concat(this.name," draw failed!")),console.log(e),this.attemptDraw=!1}}},{key:"redraw",value:function(){this.setupCompleted=this.setup(),console.log("".concat(this.name," setup result (from redraw): ").concat(this.setupCompleted))}},{key:"hover",value:function(e,t){if(this.hoverPoint=void 0,this.hoverInfo=MO.Disabled,t)this.hoverPoint=t,this.hoverInfo=MO.Target;else if(!this.hoverDisabled){var n=e.target.getBoundingClientRect(),r=this.xBisector(this.mainData,this.xScale.invert(e.clientX-n.left)),i=this.mainData[r];i&&(this.hoverPoint=i,this.hoverInfo=MO.NonTarget)}this.hoverPoint&&this.hoverPoint.x&&this.hoverPoint.y&&(this.hoverX=this.xScale(this.hoverPoint.x),this.hoverY=this.yScale(this.hoverPoint.y),this.needDraw=hO.Hover)}},{key:"trackByIndex",value:function(e,t){return e}},{key:"trackById",value:function(e,t){return t.id}},{key:"isHoverInfoActive",value:function(){return this.hoverInfo!=MO.Disabled}},{key:"isHoverInfoTarget",value:function(){return this.hoverInfo==MO.Target}},{key:"hideHoverInfo",value:function(e){var t=e.target.getBoundingClientRect(),n=e.clientX,r=e.clientY;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&(this.hoverInfo=MO.Disabled)}},{key:"resetLegend",value:function(){this.legendXOffset=0,this.legendYOffset=0}},{key:"setupDimensions",value:function(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getWidth(),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getHeight(),0==this.height)return!1;return this.yAxisWidth=10+this.getAxisLineWidth()+this.getAxisFontSize()+9,this.xAxisHeight=10+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getFontSize()+this.yAxisWidth+10,this.rightMargin=this.getAxisFontSize()+9,this.topMargin=this.getFontSize()+10,this.bottomMargin=this.getFontSize()+this.xAxisHeight+10,this.viewBox="0 0 ".concat(this.width," ").concat(this.height),this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}},{key:"setupParams",value:function(){if(this.x=this.handler.getXParam(this.name),!this.x)return!1;if(this.y=this.handler.getYParam(this.name),!this.y)return!1;for(;this.x.sym.length<this.y.sym.length;)this.x.sym=" "+this.x.sym;for(;this.y.sym.length<this.x.sym.length;)this.y.sym=" "+this.y.sym;return this.title="".concat(this.y.title," vs. ").concat(this.x.title),!0}},{key:"setupPlotData",value:function(){if(this.plotData=this.handler.getPlotData(this.name),!this.plotData)return!1;var e=this.handler.getSelectedIndex();return this.mainData=sO(this.plotData[e].filter((function(e){return Number.isFinite(e.x)&&Number.isFinite(e.y)})),(function(e,t){return Kw(e.x,t.x)})),this.xBisector=Jw((function(e){return e.x})).left,!0}},{key:"setupScales",value:function(){this.xScale=iP().domain(this.x.range.toArray()).range([0,this.innerWidth]),this.yScale=iP().domain(this.y.range.toArray().reverse()).range([0,this.innerHeight])}},{key:"setupTarget",value:function(){this.target={x:this.x.target,y:this.y.target}}},{key:"setupPaths",value:function(){var e=this;this.paths=this.plotData.map((function(t,n){var r="".concat(e.name,"-path-").concat(n),i=e.getPath(t,"x","y"),o=e.getPathColor(n),a=e.getDashArray(n),s=e.getLineCap(n),u=e.handler.getSelectedIndex()==n;return{index:n,id:r,path:i,color:o,dashArray:a,lineCap:s,opacity:u?1:.7,primary:u,points:t}})),this.paths.sort((function(e,t){return e.primary?1:t.primary?-1:t.index-e.index}))}},{key:"setupDropPaths",value:function(){var e=this;this.dropPaths=[];var t=mE().x((function(t,n){return e.xScale(t.x)})).y((function(t,n){return e.yScale(t.y)})),n=[{x:this.target.x,y:this.yScale.domain()[1]},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(n));var r=[{x:this.xScale.domain()[0],y:this.target.y},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(r))}},{key:"setup",value:function(){return!(!this.handler||!this.setupDimensions()||!this.setupParams()||!this.setupPlotData()||(this.setupScales(),this.setupTarget(),this.setupPaths(),this.setupDropPaths(),this.lastDragEvent&&(this.hover(this.lastDragEvent),this.lastDragEvent=void 0),this.needDraw=hO.Yes,0))}},{key:"getHoverBoxPath",value:function(e,t){var n;try{n=t.getBBox()}catch(f){return""}var r,i,o,a=n.x-5,s=n.x+n.width+5,u=n.width/16,l=a+7*u+5,c=a+9*u+5,h=a+8*u+5;return e?(r=n.y-5,o=(i=n.y+n.height+5)+5):(r=n.y+n.height+5,o=(i=n.y-5)-5),mE()([[a,r],[s,r],[s,i],[c,i],[h,o],[l,i],[a,i],[a,r]])}},{key:"draw",value:function(){var e=this;if(this.setupCompleted&&this.needDraw!=hO.No){var t=Ix(this.plotElement.nativeElement);if(this.hoverInfo!=MO.Disabled&&this.hoverX>=0&&this.hoverY>=0){var n=LT().duration(50);t.select("#".concat(this.name,"-hover-info")).attr("transform",this.translate(this.leftMargin+this.hoverX,this.topMargin+this.hoverY));var r=this.hoverY>=50,i=t.select("#".concat(this.name,"-hover-box")),o=t.select("#".concat(this.name,"-hover-coords"));o.transition(n).attr("y",r?"-2.5em":"2.5em"),i.transition(n).attrTween("d",(function(){return function(t){return e.getHoverBoxPath(r,o.node())}}))}if(this.needDraw!=hO.Hover){var a=LT(),s=pC(this.xScale).ticks(Math.floor(this.innerWidth/75));t.select("#".concat(this.name,"-x-axis")).transition(a).call(s).attr("fill","white").attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth());var u,l=(u=this.yScale,dC(4,u)).ticks(Math.floor(this.innerHeight/75));t.select("#".concat(this.name,"-y-axis")).transition(a).call(l).attr("fill","white").attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth());for(var c=0,h=this.paths.length;c<h;c++){var f=t.select("#".concat(this.paths[c].id));f.node().d?f.transition(a).attrTween("d",this.pathTween(this.paths[c].path,4)):f.transition(a).attr("d",this.paths[c].path)}var d="#".concat(this.name,"-target");t.select(d).transition(a).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(var p=0,v=this.dropPaths.length;p<v;p++)t.select("".concat(d,"-drop-").concat(p)).transition(a).attr("d",this.dropPaths[p]);if(!this.disableDrag){var g=t.select(d),m=aM().on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));g.call(m)}if(this.paths.length>1){var y=t.select("#".concat(this.name,"-legend-box")),_=t.select("#".concat(this.name,"-legend-labels"));if(y.size()>0&&_.size()>0){var b=_.node().getBBox(),k=b.x-5,w=b.x+b.width+5,C=b.y-5,x=b.y+b.height+5;y.attr("d",mE()([[k,C],[w,C],[w,x],[k,x],[k,C]]))}var S=t.select("#".concat(this.name,"-legend")),T=aM().on("drag",this.dragLegend.bind(this));S.call(T)}this.needDraw=hO.No}else this.needDraw=hO.No}}},{key:"dragTargetStart",value:function(){this.targetDragging=!0}},{key:"dragTarget",value:function(e){var t=this.xScale.invert(_x.x-this.leftMargin);t<this.x.range.min?t=this.x.range.min:t>this.x.range.max&&(t=this.x.range.max);var n=this.xBisector(this.mainData,t),r=this.mainData[n];if(r){var i=Ix(this.plotElement.nativeElement),o="#".concat(this.name,"-target");this.target=r,this.setupDropPaths(),i.select(o).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(var a=0,s=this.dropPaths.length;a<s;a++)i.select("".concat(o,"-drop-").concat(a)).attr("d",this.dropPaths[a]);this.hover(e,this.target)}}},{key:"dragTargetEnd",value:function(e){var t=this;this.targetDragging=!1,this.handler&&this.x.name&&(this.lastDragEvent=e,this.handler.updateModel(this.handler.getSelectedIndex(),this.x.name,this.target.x).subscribe((function(){t.modelChanged.emit()})))}},{key:"dragLegend",value:function(){this.legendXOffset+=_x.dx,this.legendYOffset+=_x.dy}},{key:"pathTween",value:function(e,t){return function(){for(var n=this,r=n.cloneNode(),i=n.getTotalLength(),o=(r.setAttribute("d",e),r).getTotalLength(),a=[0],s=0,u=t/Math.max(i,o);(s+=u)<1;)a.push(s);a.push(1);var l=a.map((function(e){var t=n.getPointAtLength(e*i),a=r.getPointAtLength(e*o);return MS([t.x,t.y],[a.x,a.y])}));return function(t){return t<1?"M"+l.map((function(e){return e(t)})).join("L"):e}}}}]),n}(fO)).\u0275fac=function(e){return new(e||TO)($o(uO),$o(lO))},TO.\u0275cmp=gt({type:TO,selectors:[["app-line-plot"]],inputs:{handler:"handler",hoverDisabled:["hover-disabled","hoverDisabled"],hideDropLines:["hide-drop-lines","hideDropLines"],hideTarget:["hide-target","hideTarget"],disableDrag:["disable-drag","disableDrag"],legendXOffset:["legend-x-offset","legendXOffset"],legendYOffset:["legend-y-offset","legendYOffset"]},outputs:{modelChanged:"modelChanged"},features:[Xa,Ja],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","transform","rotate(-90)"],["text-anchor","middle","font-weight","bold"],[4,"ngFor","ngForOf","ngForTrackBy"],["fill","white",3,"id"],["fill","none","pointer-events","all",3,"mouseout","mousemove"],["class","legend","font-size","smaller",3,"id","dblclick",4,"ngIf"],["pointer-events","none",3,"id",4,"ngIf"],["fill","none"],["r","5","fill","red",1,"target",3,"id","mousemove"],["stroke","red","stroke-dasharray","5, 5","fill","none",3,"id"],["font-size","smaller",1,"legend",3,"id","dblclick"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id",4,"ngIf"],[3,"id"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id"],["d","m0,0 l45,0","fill","none"],["x","50","y","5"],["pointer-events","none",3,"id"],["r","4","fill","none","stroke","blue",4,"ngIf"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.8",3,"id"],["font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["r","4","fill","none","stroke","blue"]],template:function(e,t){1&e&&(Sn(),ta(0,"svg",null,0),Yo(2,SO,14,21,"ng-container",1),na()),2&e&&(Ta("font-family",t.getFontFamily())("font-size",t.getFontSizePx()),Wo("class",t.name)("width",t.fixedWidth)("height",t.fixedHeight)("viewBox",t.viewBox),Vr(2),Jo("ngIf",t.x&&t.y&&t.handler))},directives:[zc,Lc],pipes:[pO],styles:[".legend[_ngcontent-%COMP%], .target[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}"]}),TO),EO=function e(){_classCallCheck(this,e)};function OO(e,t){if(1&e&&(Sn(),ra(0,"circle",7)),2&e){var n=fa(2);Wo("cx",n.xScale(n.nullValue))("cy",n.yScale(.5))("transform",n.translate(n.leftMargin,n.topMargin))}}function RO(e,t){if(1&e){var n=aa();Sn(),ta(0,"g",6),ra(1,"path",8),ra(2,"path",9),ta(3,"path",10),la("mouseover",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleLeftBarInfo(!0):null}))("mouseout",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleLeftBarInfo(!1):null})),na(),ta(4,"path",11),la("mouseover",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleRightBarInfo(!0):null}))("mouseout",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleRightBarInfo(!1):null})),na(),ta(5,"circle",12),la("mouseover",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleTargetInfo(!0):null}))("mouseout",(function(){Jt(n);var e=t.$implicit,r=fa(2);return r.isPrimaryGroup(e)?r.toggleTargetInfo(!1):null})),na(),na()}if(2&e){var r=t.$implicit,i=fa(2);Ma("primary-group",i.isPrimaryGroup(r)),ya("id","",i.name,"-group-",r,""),Wo("transform",i.isPrimaryGroup(r)?i.translate(i.leftMargin+i.primaryGroupOffset,i.topMargin):null),Vr(1),ya("id","",i.name,"-group-",r,"-dist"),Wo("fill",i.getPathColor(r))("fill-opacity",i.getGroupFillOpacity(r)),Vr(1),ya("id","",i.name,"-group-",r,"-center"),Wo("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Vr(1),Ma("draggable",i.isPrimaryGroup(r)&&!i.disableDragCI),ya("id","",i.name,"-group-",r,"-left"),Wo("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Vr(1),Ma("draggable",i.isPrimaryGroup(r)&&!i.disableDragCI),ya("id","",i.name,"-group-",r,"-right"),Wo("stroke",i.getPathColor(r))("stroke-width",i.getLineWidth()),Vr(1),Ma("draggable",i.isPrimaryGroup(r)&&!i.disableDragTarget),ya("id","",i.name,"-group-",r,"-target"),Wo("fill",i.getPathColor(r))}}var AO=function(e){return[e]};function IO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",13),ta(2,"text",14),ta(3,"tspan",15),za(4),ou(5,"formatFixed"),na(),ta(6,"tspan",16),za(7),ou(8,"formatFixed"),na(),na(),na()),2&e){var n=fa(2);Wo("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.ci.lower),n.topMargin+n.yScale(.5))),Vr(1),ma("id","",n.name,"-left-box"),Vr(1),ma("id","",n.name,"-left-coords"),Vr(2),Ua("95% CI: ",su(5,5,n.ciWidth(),nu(11,AO,n.primaryGroup.ci.lower)),""),Vr(3),Ua(" Bound: ",su(8,8,n.primaryGroup.ci.lower,nu(13,AO,n.ciWidth())),"")}}function jO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",13),ta(2,"text",14),ta(3,"tspan",15),za(4),ou(5,"formatFixed"),na(),ta(6,"tspan",16),za(7),ou(8,"formatFixed"),na(),na(),na()),2&e){var n=fa(2);Wo("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.ci.upper),n.topMargin+n.yScale(.5))),Vr(1),ma("id","",n.name,"-right-box"),Vr(1),ma("id","",n.name,"-right-coords"),Vr(2),Ua("95% CI: ",su(5,5,n.ciWidth(),nu(11,AO,n.primaryGroup.ci.upper)),""),Vr(3),Ua(" Bound: ",su(8,8,n.primaryGroup.ci.upper,nu(13,AO,n.ciWidth())),"")}}var DO=function(){return[]};function NO(e,t){if(1&e&&(Sn(),ta(0,"g"),ra(1,"path",13),ta(2,"text",17),ta(3,"tspan",15),za(4),ou(5,"formatFixed"),na(),na(),na()),2&e){var n=fa(2);Wo("transform",n.translate(n.leftMargin+n.xScale(n.primaryGroup.target),n.topMargin+n.yScale(.5))),Vr(1),ma("id","",n.name,"-target-box"),Vr(1),ma("id","",n.name,"-target-coords"),Vr(2),Ba("",n.xParam.sym,": ",su(5,5,n.primaryGroup.target,tu(8,DO)),"")}}function FO(e,t){if(1&e&&(Sn(),ia(0),ta(1,"text",2),za(2),na(),ta(3,"text",3),za(4),na(),Yo(5,OO,1,3,"circle",4),Yo(6,RO,6,30,"g",5),Yo(7,IO,9,15,"g",1),Yo(8,jO,9,15,"g",1),Yo(9,NO,6,9,"g",1),ra(10,"g",6),oa()),2&e){var n=fa();Vr(1),Wo("x",n.innerWidth/2+n.leftMargin)("y",n.height-5),Vr(1),Ua(" ",n.xParam.title," "),Vr(1),Wo("x",n.innerWidth/2+n.leftMargin)("y",n.getFontSize()/2+8),Vr(1),Ua(" ",n.title," "),Vr(1),Jo("ngIf",n.nullValue),Vr(1),Jo("ngForOf",n.groupOrder)("ngForTrackBy",n.trackByIndex),Vr(1),Jo("ngIf",n.showLeftBarInfo),Vr(1),Jo("ngIf",n.showRightBarInfo),Vr(1),Jo("ngIf",n.showTargetInfo),Vr(1),ma("id","",n.name,"-bottom-axis"),Wo("transform",n.translate(n.leftMargin,n.innerHeight+n.topMargin))}}var LO,VO,zO=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({}),HO=((VO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).plotOptions=e,i.palette=r,i.disableDragTarget=!1,i.disableDragCI=!1,i.modelChanged=new cu,i.leftMargin=10,i.rightMargin=10,i.topMargin=50,i.bottomMargin=50,i.needDraw=hO.No,i.targetDragging=!1,i.targetWasDragging=!1,i.showTargetInfo=!1,i.primaryGroupOffset=0,i.barDragging=!1,i.showLeftBarInfo=!1,i.showRightBarInfo=!1,i.setupCompleted=!1,i.attemptDraw=!0,i}return _createClass(n,[{key:"ngOnChanges",value:function(e){var t=this;void 0===this.setupTimeoutId&&(console.log("".concat(this.name," setting timeout for setup")),this.setupTimeoutId=setTimeout((function(){t.setupCompleted=t.setup(),console.log("".concat(t.name," setup result (from ngOnChanges): ").concat(t.setupCompleted)),t.setupTimeoutId=void 0}),1))}},{key:"ngAfterViewChecked",value:function(){if(this.attemptDraw)try{this.draw()}catch(e){console.log("".concat(this.name," draw failed!")),console.log(e),this.attemptDraw=!1}}},{key:"redraw",value:function(){this.setupCompleted=this.setup(),console.log("".concat(this.name," setup result (from redraw): ").concat(this.setupCompleted))}},{key:"toggleTargetInfo",value:function(e){this.targetDragging||this.barDragging||(this.showTargetInfo=e,e&&(this.needDraw=hO.Hover))}},{key:"toggleLeftBarInfo",value:function(e){this.targetDragging||this.barDragging||(this.showLeftBarInfo=e,e&&(this.needDraw=hO.Hover))}},{key:"toggleRightBarInfo",value:function(e){this.targetDragging||this.barDragging||(this.showRightBarInfo=e,e&&(this.needDraw=hO.Hover))}},{key:"setupDimensions",value:function(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getDimension("width"),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getDimension("height"),0==this.height)return!1;return this.topMargin=this.getFontSize()+20,this.bottomMargin=10+this.getFontSize()+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getAxisFontSize()+9,this.rightMargin=this.leftMargin,this.viewBox="0 0 ".concat(this.width," ").concat(this.height),this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}},{key:"setup",value:function(){return!!this.handler&&!!this.setupDimensions()&&(this.setupParams(),this.setupGroups(),this.setupScales(),this.resetDragging(),this.needDraw=hO.Yes,!0)}},{key:"setupParams",value:function(){this.xParam=this.handler.getXParam(),this.title="Precision (95% Confidence Interval) vs. Effect Size"}},{key:"setupGroups",value:function(){var e=this;this.groups=this.handler.getGroups();var t=this.handler.getSelectedIndex();this.primaryGroup=this.groups[t],this.primaryGroup.ciValues&&(this.ciValuesLower=sO(this.primaryGroup.ciValues,(function(e,t){return Kw(e.lower,t.lower)})),this.ciValuesUpper=sO(this.primaryGroup.ciValues,(function(e,t){return Kw(e.upper,t.upper)}))),this.groupOrder=[],this.groups.forEach((function(n,r){r!==t&&e.groupOrder.push(r)})),this.groupOrder.push(t)}},{key:"setupScales",value:function(){this.xScale=iP().domain(this.xParam.range.toArray()).range([0,this.innerWidth]),this.originalTargetPosition=this.xScale(this.primaryGroup.target),this.yScale=iP().domain([0,.7]).range([0,this.innerHeight]);var e=this.groups.reduce((function(e,t){var n=tC(t.sampDist,(function(e){return e.y}));return tC(e.concat(n))}),[]);this.yScaleSD=iP().domain(e.reverse()).range([0,this.yScale(.5)]).clamp(!0)}},{key:"resetDragging",value:function(){this.targetWasDragging=this.targetDragging,this.targetDragging=!1,this.barDragging=!1}},{key:"draw",value:function(){var e=this;if(this.setupCompleted&&this.needDraw!=hO.No)if(this.drawInfoBox("left"),this.drawInfoBox("right"),this.drawInfoBox("target"),this.needDraw!=hO.Hover){var t=Ix(this.plotElement.nativeElement),n=t.transition(),r=pC(this.xScale).ticks(Math.floor(this.innerWidth/75));n.select("#".concat(this.name,"-bottom-axis")).call(r).attr("font-size","".concat(this.plotOptions.getAxisFontSize(),"px")).attr("stroke-width",this.plotOptions.getAxisLineWidth()),this.groups.forEach((function(r,i){var o=n;e.targetWasDragging&&e.isPrimaryGroup(i)&&(o=t);var a="#".concat(e.name,"-group-").concat(i);o.select(a).attr("transform",e.translate(e.leftMargin,e.topMargin));var s=e.getPath([{x:r.ci.lower,y:.4},{x:r.ci.lower,y:.6}],"x","y",!1);o.select("".concat(a,"-left")).attr("d",s);var u=e.getPath([{x:r.ci.upper,y:.4},{x:r.ci.upper,y:.6}],"x","y",!1);o.select("".concat(a,"-right")).attr("d",u);var l=e.getPath([{x:r.ci.lower,y:.5},{x:r.ci.upper,y:.5}],"x","y",!1);o.select("".concat(a,"-center")).attr("d",l);var c=e.getArea(r.sampDist,"x","y");if(o.select("".concat(a,"-dist")).attr("d",c),o.select("".concat(a,"-target")).attr("cx",e.xScale(r.target)).attr("cy",e.yScale(.5)),e.isPrimaryGroup(i)){var h=t.select("".concat(a,"-target")),f=aM().container(h.node().parentNode.parentNode).on("start",e.dragTargetStart.bind(e)).on("drag",e.dragTarget.bind(e)).on("end",e.dragTargetEnd.bind(e));h.call(f);var d=t.select("".concat(a,"-left")),p=aM().container(d.node().parentNode.parentNode).on("start",e.dragBarStart.bind(e,zO.Left)).on("drag",e.dragBar.bind(e,zO.Left)).on("end",e.dragBarEnd.bind(e,zO.Left));d.call(p);var v=t.select("".concat(a,"-right")),g=aM().container(v.node().parentNode.parentNode).on("start",e.dragBarStart.bind(e,zO.Right)).on("drag",e.dragBar.bind(e,zO.Right)).on("end",e.dragBarEnd.bind(e,zO.Right));v.call(g)}})),this.needDraw=hO.No}else this.needDraw=hO.No}},{key:"drawInfoBox",value:function(e){var t=Ix(this.plotElement.nativeElement),n=t.select("#".concat(this.name,"-").concat(e,"-box")),r=t.select("#".concat(this.name,"-").concat(e,"-coords"));if(n.size()>0&&r.size()>0){var i=r.node().getBBox(),o=i.x-5,a=i.x+i.width+5,s=i.width/16,u=o+7*s+5,l=o+9*s+5,c=o+8*s+5,h=i.y-5,f=i.y+i.height+5;n.attr("d",mE()([[o,h],[a,h],[a,f],[l,f],[c,f+5],[u,f],[o,f],[o,h]]))}}},{key:"ciWidth",value:function(){return Math.abs(this.primaryGroup.ci.upper-this.primaryGroup.ci.lower)}},{key:"getGroupFillOpacity",value:function(e){return this.targetDragging&&e===this.handler.getSelectedIndex()?.1:.5}},{key:"isPrimaryGroup",value:function(e){return this.handler.getSelectedIndex()===e}},{key:"getArea",value:function(e,t,n){var r=this;return function(){var e=vE,t=null,n=fE(0),r=gE,i=fE(!0),o=null,a=pE,s=null;function u(u){var l,c,h,f,d,p=u.length,v=!1,g=new Array(p),m=new Array(p);for(null==o&&(s=a(d=QT())),l=0;l<=p;++l){if(!(l<p&&i(f=u[l],l,u))===v)if(v=!v)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=l-1;h>=c;--h)s.point(g[h],m[h]);s.lineEnd(),s.areaEnd()}v&&(g[l]=+e(f,l,u),m[l]=+n(f,l,u),s.point(t?+t(f,l,u):g[l],r?+r(f,l,u):m[l]))}if(d)return s=null,d+""||null}function l(){return mE().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:fE(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:fE(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:fE(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:fE(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:fE(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:fE(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:fE(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}().curve(bE).x((function(e,n){return r.xScale(e[t])})).y0(this.yScaleSD(0)).y1((function(e,t){return r.yScaleSD(e[n])}))(e)}},{key:"dragTargetStart",value:function(){this.disableDragTarget||(this.targetDragging=!0)}},{key:"dragTarget",value:function(e){if(!this.disableDragTarget){var t=_x.x-this.leftMargin,n=this.xScale.invert(t);n>=0&&n<.1?(n=.1,t=this.xScale(n)):n<0&&n>-.1&&(n=-.1,t=this.xScale(n)),this.primaryGroupOffset=t-this.originalTargetPosition,this.primaryGroup.target=n,this.needDraw=hO.Hover}}},{key:"dragTargetEnd",value:function(){var e=this;this.disableDragTarget||(this.handler&&this.handler.updateTargetValue(this.primaryGroup.target).subscribe((function(){e.modelChanged.emit()})),this.showTargetInfo=!1)}},{key:"dragBarStart",value:function(e){this.disableDragCI||(this.barDragging=!0)}},{key:"dragBar",value:function(e,t){if(!this.disableDragCI){var n=this.xScale.invert(_x.x-this.leftMargin);if(this.primaryGroup.ciValues){var r,i;switch(e){case zO.Left:i=this.ciValuesLower,r=Jw((function(e){return e.lower})).left;break;case zO.Right:i=this.ciValuesUpper,r=Jw((function(e){return e.upper})).left}var o=r(i,n);if(!o)return;o>=i.length&&(o=i.length-1),this.primaryGroup.ci=i[o]}else{var a=0;switch(e){case zO.Left:a=n-this.primaryGroup.ci.lower;break;case zO.Right:a=this.primaryGroup.ci.upper-n}this.primaryGroup.ci.lower+=a,this.primaryGroup.ci.upper-=a}this.handler.setIntermediateCIValue(this.primaryGroup.ci);var s=this.getPath([{x:this.primaryGroup.ci.lower,y:.4},{x:this.primaryGroup.ci.lower,y:.6}],"x","y",!1),u=this.getPath([{x:this.primaryGroup.ci.upper,y:.4},{x:this.primaryGroup.ci.upper,y:.6}],"x","y",!1),l=this.getPath([{x:this.primaryGroup.ci.lower,y:.5},{x:this.primaryGroup.ci.upper,y:.5}],"x","y",!1),c=Ix(this.plotElement.nativeElement).select("g.primary-group");c.select("path.left").attr("d",s),c.select("path.right").attr("d",u),c.select("path.center").attr("d",l),this.needDraw=hO.Hover}}},{key:"dragBarEnd",value:function(e){var t=this;this.disableDragCI||(this.handler&&this.handler.updateCIValue(this.primaryGroup.ci).subscribe((function(){t.modelChanged.emit()})),this.showLeftBarInfo=!1,this.showRightBarInfo=!1)}}]),n}(fO)).\u0275fac=function(e){return new(e||VO)($o(uO),$o(lO))},VO.\u0275cmp=gt({type:VO,selectors:[["app-ci-plot"]],inputs:{handler:"handler",disableDragTarget:["disable-drag-target","disableDragTarget"],disableDragCI:["disable-drag-ci","disableDragCI"]},outputs:{modelChanged:"modelChanged"},features:[Xa,Ja],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","font-weight","bold"],["r","5","fill","darkseagreen",4,"ngIf"],[3,"id","primary-group",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["r","5","fill","darkseagreen"],["stroke","none",1,"dist",3,"id"],["fill","none",1,"center",3,"id"],["fill","none",1,"left",3,"id","mouseover","mouseout"],["fill","none",1,"right",3,"id","mouseover","mouseout"],["r","5",1,"target",3,"id","mouseover","mouseout"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.9",3,"id"],["x","0","y","-3em","font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["x","0","y","-1.5em","font-family","mono","text-anchor","middle",3,"id"]],template:function(e,t){1&e&&(Sn(),ta(0,"svg",null,0),Yo(2,FO,11,14,"ng-container",1),na()),2&e&&(Ta("font-family",t.getFontFamily())("font-size",t.getFontSizePx()),Wo("class",t.name)("width",t.fixedWidth)("height",t.fixedHeight)("viewBox",t.viewBox),Vr(2),Jo("ngIf",t.handler&&t.groups))},directives:[zc,Lc],pipes:[pO],styles:[".draggable{cursor:-webkit-grab;cursor:grab}"],encapsulation:2}),VO),UO=((LO=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Rl.apiUrl,"/export")}return _createClass(e,[{key:"formats",value:function(){var e="".concat(this.apiUrl,"/formats"),t={headers:new Km({"Content-Type":"application/json"})};return this.http.get(e,t).pipe(Rp(this.handleError))}},{key:"plots",value:function(e,t){var n="".concat(this.apiUrl,"/plots"),r={format:e,plots:t},i={headers:new Km({"Content-Type":"application/json"})};return this.http.post(n,r,i).pipe(Rp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Db("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||LO)(Ke(ky))},LO.\u0275prov=pe({token:LO,factory:LO.\u0275fac}),LO),BO=["topLeftPlot"],qO=["topRightPlot"],WO=["bottomPlot"],GO=["downloadLink"];function XO(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Width "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).topLeftWidth=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.topLeftWidth)}}function YO(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Height "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).topLeftHeight=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.topLeftHeight)}}function QO(e,t){if(1&e){var n=aa();ta(0,"div",23),ta(1,"label",24),ta(2,"input",25),la("ngModelChange",(function(e){return Jt(n),fa(2).topLeftTarget=e})),na(),za(3," Show target and drop lines "),na(),na(),ta(4,"label"),za(5," Dimensions "),ta(6,"select",30),la("ngModelChange",(function(e){return Jt(n),fa(2).topLeftDim=e}))("ngModelChange",(function(e){return Jt(n),fa(2).setDim("topLeft",e)})),ta(7,"option",31),za(8,"640 by 480"),na(),ta(9,"option",32),za(10,"800 by 600"),na(),ta(11,"option",33),za(12,"1024 by 768"),na(),ta(13,"option",34),za(14,"Custom"),na(),na(),na(),Yo(15,XO,4,1,"div",35),Yo(16,YO,4,1,"div",35)}if(2&e){var r=fa(2);Vr(2),Jo("ngModel",r.topLeftTarget),Vr(4),Jo("ngModel",r.topLeftDim),Vr(9),Jo("ngIf","other"==r.topLeftDim),Vr(1),Jo("ngIf","other"==r.topLeftDim)}}function $O(e,t){if(1&e){var n=aa();ta(0,"div",22),ta(1,"div",23),ta(2,"label",24),ta(3,"input",25),la("ngModelChange",(function(e){return Jt(n),fa().includeTopLeft=e})),na(),za(4," Export this graph "),na(),na(),Yo(5,QO,17,4,"ng-template",26),na(),ta(6,"div",27),ra(7,"app-line-plot",28,29),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.includeTopLeft),Vr(2),Jo("ngIf",r.includeTopLeft),Vr(2),Jo("handler",r.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!r.topLeftTarget)("hide-target",!r.topLeftTarget)("fixed-width",r.topLeftWidth)("fixed-height",r.topLeftHeight)("legend-x-offset",r.topLeftLegendXOffset)("legend-y-offset",r.topLeftLegendYOffset)}}function ZO(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Width "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).topRightWidth=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.topRightWidth)}}function KO(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Height "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).topRightHeight=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.topRightHeight)}}function JO(e,t){if(1&e){var n=aa();ta(0,"div",23),ta(1,"label",24),ta(2,"input",25),la("ngModelChange",(function(e){return Jt(n),fa(2).topRightTarget=e})),na(),za(3," Show target and drop lines "),na(),na(),ta(4,"label"),za(5," Dimensions "),ta(6,"select",40),la("ngModelChange",(function(e){return Jt(n),fa(2).topRightDim=e}))("ngModelChange",(function(e){return Jt(n),fa(2).setDim("topRight",e)})),ta(7,"option",31),za(8,"640 by 480"),na(),ta(9,"option",32),za(10,"800 by 600"),na(),ta(11,"option",33),za(12,"1024 by 768"),na(),ta(13,"option",34),za(14,"Custom"),na(),na(),na(),Yo(15,ZO,4,1,"div",35),Yo(16,KO,4,1,"div",35)}if(2&e){var r=fa(2);Vr(2),Jo("ngModel",r.topRightTarget),Vr(4),Jo("ngModel",r.topRightDim),Vr(9),Jo("ngIf","other"==r.topRightDim),Vr(1),Jo("ngIf","other"==r.topRightDim)}}function eR(e,t){if(1&e){var n=aa();ta(0,"div",22),ta(1,"div",23),ta(2,"label",24),ta(3,"input",25),la("ngModelChange",(function(e){return Jt(n),fa().includeTopRight=e})),na(),za(4," Export this graph "),na(),na(),Yo(5,JO,17,4,"ng-template",26),na(),ta(6,"div",27),ra(7,"app-line-plot",38,39),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.includeTopRight),Vr(2),Jo("ngIf",r.includeTopRight),Vr(2),Jo("handler",r.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!r.topRightTarget)("hide-target",!r.topRightTarget)("fixed-width",r.topRightWidth)("fixed-height",r.topRightHeight)("legend-x-offset",r.topRightLegendXOffset)("legend-y-offset",r.topRightLegendYOffset)}}function tR(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Width "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).bottomWidth=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.bottomWidth)}}function nR(e,t){if(1&e){var n=aa();ta(0,"div",36),ta(1,"label"),za(2," Height "),ta(3,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).bottomHeight=e})),na(),na(),na()}if(2&e){var r=fa(3);Vr(3),Jo("ngModel",r.bottomHeight)}}function rR(e,t){if(1&e){var n=aa();ta(0,"label"),za(1," Dimensions "),ta(2,"select",43),la("ngModelChange",(function(e){return Jt(n),fa(2).bottomDim=e}))("ngModelChange",(function(e){return Jt(n),fa(2).setDim("bottom",e)})),ta(3,"option",44),za(4,"640 by 160"),na(),ta(5,"option",45),za(6,"800 by 200"),na(),ta(7,"option",46),za(8,"1024 by 256"),na(),ta(9,"option",34),za(10,"Custom"),na(),na(),na(),Yo(11,tR,4,1,"div",35),Yo(12,nR,4,1,"div",35)}if(2&e){var r=fa(2);Vr(2),Jo("ngModel",r.bottomDim),Vr(9),Jo("ngIf","other"==r.bottomDim),Vr(1),Jo("ngIf","other"==r.bottomDim)}}function iR(e,t){if(1&e){var n=aa();ta(0,"div",22),ta(1,"div",23),ta(2,"label",24),ta(3,"input",25),la("ngModelChange",(function(e){return Jt(n),fa().includeBottom=e})),na(),za(4," Export this graph "),na(),na(),Yo(5,rR,13,3,"ng-template",26),na(),ta(6,"div",27),ra(7,"app-ci-plot",41,42),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.includeBottom),Vr(2),Jo("ngIf",r.includeBottom),Vr(2),Jo("handler",r.ciPlotHandler)("disable-drag-target",!0)("disable-drag-ci",!0)("fixed-width",r.bottomWidth)("fixed-height",r.bottomHeight)}}function oR(e,t){if(1&e&&(ta(0,"option",47),za(1),na()),2&e){var n=t.$implicit;Jo("selected",fa().imageFormat==n),Vr(1),Ha(n)}}var aR,sR,uR=function(e){return e[e.iOS=0]="iOS",e[e.WP=1]="WP",e[e.Android=2]="Android",e[e.Linux=3]="Linux",e[e.Mac=4]="Mac",e[e.Windows=5]="Windows",e[e.BB=6]="BB",e[e.Other=7]="Other",e}({}),lR=[[uR.iOS,/([0-9_]+) like Mac OS X/],[uR.iOS,/CPU like Mac OS X/],[uR.WP,/Windows Phone ([0-9\.]+)/],[uR.Android,/Android ([0-9\.]+)/],[uR.Linux,/Linux/],[uR.Mac,/Macintosh.+Mac OS X ([0-9_]+)/],[uR.Windows,/Windows NT ([0-9\.]+)/],[uR.BB,/BlackBerry.+Version\/([0-9\.]+)/],[uR.BB,/BB[0-9]+.+Version\/([0-9\.]+)/]],cR=((sR=function(){function e(t,n){_classCallCheck(this,e),this.activeModal=t,this.exportService=n,this.includeTopLeft=!0,this.topLeftDim="640x480",this.topLeftWidth=640,this.topLeftHeight=480,this.topLeftTarget=!0,this.includeTopRight=!0,this.topRightDim="640x480",this.topRightWidth=640,this.topRightHeight=480,this.topRightTarget=!0,this.includeBottom=!0,this.bottomTitle="Precision vs. Effect Size",this.bottomDim="640x160",this.bottomWidth=640,this.bottomHeight=160,this.imageFormats=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;switch(this.detectPlatform()){case uR.Windows:this.imageFormat="WMF";break;case uR.Mac:this.imageFormat="EPS";break;case uR.Linux:this.imageFormat="SVG";break;default:this.imageFormat="PNG"}this.exportService.formats().subscribe((function(t){e.imageFormats=t.formats,e.imageFormats.some((function(t){return e.imageFormat==t}))||(e.imageFormat="PNG")})),this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler()}},{key:"ngAfterViewChecked",value:function(){var e=this;this.topLeftTitle&&this.topRightTitle&&this.bottomTitle||setTimeout((function(){e.topLeftPlot&&(e.topLeftTitle=e.topLeftPlot.title),e.topRightPlot&&(e.topRightTitle=e.topRightPlot.title),e.bottomPlot&&(e.bottomTitle=e.bottomPlot.title)}),1)}},{key:"detectPlatform",value:function(){if(navigator)for(var e=navigator.userAgent,t=0,n=lR.length;t<n;t++){var r=lR[t];if(e.match(r[1]))return r[0]}return uR.Other}},{key:"setDim",value:function(e,t){if("other"!=t){var n=t.split("x");this["".concat(e,"Width")]=parseInt(n[0]),this["".concat(e,"Height")]=parseInt(n[1])}}},{key:"serializePlot",value:function(e){return(new XMLSerializer).serializeToString(e.plotElement.nativeElement)}},{key:"save",value:function(){var e=this,t=[];this.includeTopLeft&&t.push({name:this.topLeftTitle,width:this.topLeftWidth,height:this.topLeftHeight,svg:this.serializePlot(this.topLeftPlot)}),this.includeTopRight&&t.push({name:this.topRightTitle,width:this.topRightWidth,height:this.topRightHeight,svg:this.serializePlot(this.topRightPlot)}),this.includeBottom&&t.push({name:this.bottomTitle,width:this.bottomWidth,height:this.bottomHeight,svg:this.serializePlot(this.bottomPlot)}),this.exportService.plots(this.imageFormat,t).subscribe((function(t){for(var n=atob(t.data),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);var a=new Blob([r],{type:"application/zip"}),s=URL.createObjectURL(a),u=e.downloadLink.nativeElement;u.href=s,u.download=t.filename,u.click(),URL.revokeObjectURL(s),e.activeModal.close()}))}},{key:"cancel",value:function(){this.activeModal.close()}}]),e}()).\u0275fac=function(e){return new(e||sR)($o(sw),$o(UO))},sR.\u0275cmp=gt({type:sR,selectors:[["app-export-plots"]],viewQuery:function(e,t){var n;1&e&&(Cu(BO,!0),Cu(qO,!0),Cu(WO,!0),wu(GO,!0)),2&e&&(ku(n=Pu())&&(t.topLeftPlot=n.first),ku(n=Pu())&&(t.topRightPlot=n.first),ku(n=Pu())&&(t.bottomPlot=n.first),ku(n=Pu())&&(t.downloadLink=n.first))},inputs:{project:"project",topLeftLegendXOffset:["top-left-legend-x-offset","topLeftLegendXOffset"],topLeftLegendYOffset:["top-left-legend-y-offset","topLeftLegendYOffset"],topRightLegendXOffset:["top-right-legend-x-offset","topRightLegendXOffset"],topRightLegendYOffset:["top-right-legend-y-offset","topRightLegendYOffset"]},decls:33,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","export-plots-modal-body",1,"modal-body","grow-vert","h-100"],[1,"d-flex","flex-column","h-100"],[3,"destroyOnHide"],[3,"title"],["ngbTabContent",""],[1,"modal-footer"],[1,"d-flex-inline","flex-row"],[1,"form-inline"],["for","export-image-format",1,"mr-sm-2"],["id","export-image-format","name","imageFormat",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected",4,"ngFor","ngForOf"],[2,"display","none"],["downloadLink",""],[1,"d-flex","flex-row","align-items-center"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[1,"fa","fa-floppy-o"],["type","button",1,"btn","btn-secondary","m-1",3,"click"],[1,"fa","fa-circle-x"],[1,"left"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"ngIf"],[1,"right"],["name","top-left-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topLeftPlot",""],["name","topLeftDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x480"],["value","800x600"],["value","1024x768"],["value","other"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","top-right-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topRightPlot",""],["name","topRightDim",1,"form-control",3,"ngModel","ngModelChange"],["name","bottom-export",3,"handler","disable-drag-target","disable-drag-ci","fixed-width","fixed-height"],["bottomPlot",""],["name","bottomDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x160"],["value","800x200"],["value","1024x256"],[3,"selected"]],template:function(e,t){1&e&&(ta(0,"div",0),ta(1,"h4",1),za(2,"Export graphs"),na(),ta(3,"button",2),la("click",(function(){return t.cancel()})),ta(4,"span",3),za(5,"\xd7"),na(),na(),na(),ta(6,"div",4),ta(7,"div",5),ta(8,"ngb-tabset",6),ta(9,"ngb-tab",7),Yo(10,$O,9,11,"ng-template",8),na(),ta(11,"ngb-tab",7),Yo(12,eR,9,11,"ng-template",8),na(),ta(13,"ngb-tab",7),Yo(14,iR,9,7,"ng-template",8),na(),na(),na(),na(),ta(15,"div",9),ta(16,"div",10),ta(17,"div",11),ta(18,"label",12),za(19,"Image format:"),na(),ta(20,"select",13),la("ngModelChange",(function(e){return t.imageFormat=e})),Yo(21,oR,2,2,"option",14),na(),na(),na(),ta(22,"p"),za(23," The graphs you have chosen will be packaged in a ZIP file. "),ra(24,"a",15,16),na(),ta(26,"div",17),ta(27,"button",18),la("click",(function(){return t.save()})),ra(28,"i",19),za(29," Save "),na(),ta(30,"button",20),la("click",(function(){return t.cancel()})),ra(31,"i",21),za(32," Close "),na(),na(),na()),2&e&&(Vr(8),Jo("destroyOnHide",!1),Vr(1),Jo("title",t.topLeftTitle||"Top Left Plot"),Vr(2),Jo("title",t.topRightTitle||"Top Right Plot"),Vr(2),Jo("title",t.bottomTitle||"Bottom Plot"),Vr(7),Jo("ngModel",t.imageFormat),Vr(1),Jo("ngForOf",t.imageFormats),Vr(6),Jo("disabled",!t.includeTopLeft&&!t.includeTopRight&&!t.includeBottom))},directives:[Rw,Ow,Ew,R_,n_,mb,Lc,qy,zc,PO,A_,L_,__,Xy,HO],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.modal-body[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20%;border-right:1px solid #888;padding:10px}.modal-body[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;margin-left:10px;overflow:auto;padding:10px}.modal-footer[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]}),sR),hR=((aR=function e(){var t=this;_classCallCheck(this,e),this.onCopy=new cu,document.addEventListener("copy",(function(e){t.onCopy.emit(e)}))}).\u0275prov=pe({token:aR,factory:aR.\u0275fac=function(e){return new(e||aR)},providedIn:"root"}),aR),fR=["topLeft"],dR=["topRight"],pR=["bottom"],vR=["footerTabset"],gR=["log"];function mR(e,t){1&e&&(ta(0,"div",10),ra(1,"div",11),ra(2,"div",12),ra(3,"div",13),na()),2&e&&Jo("@overlay",void 0)}function yR(e,t){if(1&e){var n=aa();ta(0,"div",14),ta(1,"button",15),la("click",(function(){return Jt(n),fa().toggleFooter(!0)})),ra(2,"i",16),za(3," Interpretation / Log "),na(),na()}}function _R(e,t){1&e&&ra(0,"i",30),2&e&&Ta("color",fa(3).getIndicatorColor())}function bR(e,t){1&e&&(Yo(0,_R,1,2,"i",29),za(1," Interpretation ")),2&e&&Jo("ngIf",fa(2).project.getModelCount()>1)}function kR(e,t){1&e&&za(0),2&e&&Ua(" ",fa(2).project.getModelInterpretation()," ")}function wR(e,t){1&e&&za(0," There have not been any changes yet. ")}function CR(e,t){if(1&e&&(za(0),ta(1,"span",37),za(2),ou(3,"json"),na()),2&e){var n=fa().$implicit;Ua(" Added model ",n.index+1,": "),Vr(2),Ha(au(3,2,n.params))}}function xR(e,t){1&e&&za(0),2&e&&Ua(" Removed model ",fa().$implicit.index+1," ")}function SR(e,t){if(1&e&&(za(0," Changed "),ta(1,"span",37),za(2),na(),za(3),ta(4,"span",37),za(5),ou(6,"json"),na()),2&e){var n=fa().$implicit;Vr(2),Ha(n.key),Vr(1),Ua(" in model ",n.index+1,": "),Vr(2),Ha(au(6,3,n.params))}}function TR(e,t){if(1&e&&(ta(0,"li"),Yo(1,CR,4,4,"ng-template",36),Yo(2,xR,1,1,"ng-template",36),Yo(3,SR,7,5,"ng-template",36),na()),2&e){var n=t.$implicit;Vr(1),Jo("ngIf","add"==n.type),Vr(1),Jo("ngIf","remove"==n.type),Vr(1),Jo("ngIf","change"==n.type)}}function MR(e,t){if(1&e&&(ta(0,"ul",33,34),Yo(2,TR,4,3,"li",35),na()),2&e){var n=fa(3);Vr(2),Jo("ngForOf",n.project.getChangeHistory())}}function PR(e,t){if(1&e&&(Yo(0,wR,1,0,"ng-template",31),Yo(1,MR,3,1,"ng-template",null,32,Au)),2&e){var n=Qo(2);Jo("ngIf",!fa(2).project)("ngIfElse",n)}}function ER(e,t){if(1&e){var n=aa();ta(0,"div",17),ta(1,"div",18),ta(2,"button",19),la("click",(function(){return Jt(n),fa().copyFooter()})),ra(3,"i",20),na(),ta(4,"button",21),la("click",(function(){return Jt(n),fa().toggleFooter(!1)})),ra(5,"i",22),na(),na(),ta(6,"ngb-tabset",23,24),ta(8,"ngb-tab",25),Yo(9,bR,2,1,"ng-template",26),Yo(10,kR,1,1,"ng-template",27),na(),ta(11,"ngb-tab",28),Yo(12,PR,3,2,"ng-template",27),na(),na(),na()}}var OR,RR=((OR=function(){function e(t,n,r,i){_classCallCheck(this,e),this.modalService=t,this.plotOptions=n,this.palette=r,this.copyService=i,this.hoverDisabled=!1,this.disableDragCITarget=!1,this.disableDragCIBounds=!1,this.modelChanged=new cu,this.showFooter=!0,this.updatingPlots=!1}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;"project"in e&&(this.updatingSub&&(this.updatingSub.unsubscribe(),this.updatingSub=void 0),this.project?(this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler(),this.updatingSub=this.project.updatingPlotData.subscribe((function(e){t.updatingPlots=!0}))):(this.linePlotHandler=void 0,this.ciPlotHandler=void 0))}},{key:"toggleFooter",value:function(e){this.showFooter=e,setTimeout(this.resize.bind(this),1)}},{key:"openSaveDialog",value:function(){var e=this.modalService.open(cR,{windowClass:"export-plots"}).componentInstance;e.project=this.project,e.topLeftLegendXOffset=this.topLeftPlot.legendXOffset,e.topLeftLegendYOffset=this.topLeftPlot.legendYOffset,e.topRightLegendXOffset=this.topRightPlot.legendXOffset,e.topRightLegendYOffset=this.topRightPlot.legendYOffset}},{key:"resize",value:function(){this.redrawPlots()}},{key:"redrawPlots",value:function(){var e=this;this.updatingPlots=!1,setTimeout((function(){e.topLeftPlot.redraw(),e.topRightPlot.redraw(),e.bottomPlot.redraw()}),1)}},{key:"getIndicatorColor",value:function(){return this.palette.getColor(this.project.getSelectedIndex(),this.plotOptions.paletteTheme)}},{key:"copyFooter",value:function(){var e=this;this.copySub=this.copyService.onCopy.subscribe((function(t){e.onCopy(t)})),document.execCommand("copy")}},{key:"onCopy",value:function(e){switch(this.footerTabset.activeId){case"output-pane-interpretation":e.clipboardData.setData("text/plain",this.project.getModelInterpretation()),e.preventDefault();break;case"output-pane-log":e.clipboardData.setData("text/plain",this.logElt.nativeElement.innerText),e.preventDefault()}this.copySub.unsubscribe()}},{key:"onModelChanged",value:function(){this.modelChanged.emit()}}]),e}()).\u0275fac=function(e){return new(e||OR)($o(fw),$o(uO),$o(lO),$o(hR))},OR.\u0275cmp=gt({type:OR,selectors:[["app-output-pane"]],viewQuery:function(e,t){var n;1&e&&(wu(fR,!0),wu(dR,!0),wu(pR,!0),Cu(vR,!0),Cu(gR,!0)),2&e&&(ku(n=Pu())&&(t.topLeftPlot=n.first),ku(n=Pu())&&(t.topRightPlot=n.first),ku(n=Pu())&&(t.bottomPlot=n.first),ku(n=Pu())&&(t.footerTabset=n.first),ku(n=Pu())&&(t.logElt=n.first))},inputs:{project:"project",hoverDisabled:["hover-disabled","hoverDisabled"],disableDragCITarget:["disable-drag-ci-target","disableDragCITarget"],disableDragCIBounds:["disable-drag-ci-bounds","disableDragCIBounds"]},outputs:{modelChanged:"modelChanged"},features:[Ja],decls:10,vars:12,consts:[["id","output-pane-plots",1,"plot"],["id","output-pane-overlay",4,"ngIf"],["name","top-left",3,"handler","hover-disabled","modelChanged"],["topLeft",""],["name","top-right",3,"handler","hover-disabled","modelChanged"],["topRight",""],["name","bottom",3,"handler","disable-drag-target","disable-drag-ci","modelChanged"],["bottom",""],["class","show-footer",4,"ngIf"],["id","output-pane-footer","class","output-footer",4,"ngIf"],["id","output-pane-overlay"],[1,"aligner-top"],[1,"loader"],[1,"aligner-bottom"],[1,"show-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true","title","Show footer",1,"fa","fa-envelope-open-o"],["id","output-pane-footer",1,"output-footer"],[1,"footer-buttons"],["type","button","title","Copy to clipboard",3,"click"],[1,"fa","fa-clipboard"],["type","button","title","Hide footer",3,"click"],[1,"fa","fa-window-minimize"],["type","pills"],["footerTabset",""],["id","output-pane-interpretation"],["ngbTabTitle",""],["ngbTabContent",""],["id","output-pane-log","title","Log"],["class","fa fa-square",3,"color",4,"ngIf"],[1,"fa","fa-square"],[3,"ngIf","ngIfElse"],["changeHistory",""],[1,"log"],["log",""],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"code"]],template:function(e,t){1&e&&(ta(0,"div",0),Yo(1,mR,4,1,"div",1),ta(2,"app-line-plot",2,3),la("modelChanged",(function(){return t.onModelChanged()})),na(),ta(4,"app-line-plot",4,5),la("modelChanged",(function(){return t.onModelChanged()})),na(),ta(6,"app-ci-plot",6,7),la("modelChanged",(function(){return t.onModelChanged()})),na(),Yo(8,yR,4,0,"div",8),na(),Yo(9,ER,13,0,"div",9)),2&e&&(Ma("without-footer",!t.showFooter),Vr(1),Jo("ngIf",t.updatingPlots),Vr(1),Jo("handler",t.linePlotHandler)("hover-disabled",t.hoverDisabled),Vr(2),Jo("handler",t.linePlotHandler)("hover-disabled",t.hoverDisabled),Vr(2),Jo("handler",t.ciPlotHandler)("disable-drag-target",t.disableDragCITarget)("disable-drag-ci",t.disableDragCIBounds),Vr(2),Jo("ngIf",t.project&&!t.showFooter),Vr(1),Jo("ngIf",t.project&&t.showFooter))},directives:[zc,PO,HO,Rw,Ow,Pw,Ew,Lc],pipes:[eh],styles:["[_nghost-%COMP%]{position:relative}#output-pane-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:-15px;right:0;background-color:#fff;z-index:99;opacity:.7;display:flex;align-items:center;justify-content:center}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-top[_ngcontent-%COMP%]{max-width:50%;align-self:flex-start}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-bottom[_ngcontent-%COMP%]{max-width:50%;align-self:flex-end}#output-pane-overlay[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top-color:#00d;border-radius:50%;width:120px;height:120px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.plot[_ngcontent-%COMP%]{height:80%;position:relative}.without-footer[_ngcontent-%COMP%]{height:100%}div.show-footer[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px}.output-footer[_ngcontent-%COMP%]{position:relative;background-color:#e5e5e5;border:1px solid #aaa;border-radius:5px;margin-top:5px;margin-bottom:5px}.footer-buttons[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}.footer-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 3px}.dot[_ngcontent-%COMP%]{color:red}"],data:{animation:[Nh("overlay",[Hh(":enter",[Vh({opacity:0}),Fh("1s 0.8s",Vh({opacity:.7}))]),Hh(":leave",[Fh("0.5s",Vh({opacity:0}))])])]}}),OR),AR="a9b56a51388cd29efd54336f4b13d180b0ca81b0";function IR(e,t){1&e&&(ta(0,"h5"),za(1,"Introduction"),na(),ta(2,"p"),za(3," PS is a program for performing power and sample size calculations. You are using a web-enabled beta-test version of the program, where we are actively working on the interactive user interface. Currently, it can only be used for t-tests, z-tests and tests with dichotomous outcomes. It will be expanded for use in studies with survival response and other data. "),na(),ta(4,"h5"),za(5,"Program Output"),na(),ta(6,"p"),za(7," The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. It also gives the 95% confidence interval for the test statistic under the specified alternative hypothesis as a measure of the precision of the test statistic. "),na(),ta(8,"h5"),za(9,"Interactive Help"),na(),ta(10,"p"),za(11," Click on any question-mark icon or white i in a black circle for help to determine the needed information. In the "),ta(12,"em"),za(13,"Start"),na(),za(14," tab, choose one of sample size, power, or detectable difference and then complete the other fields that appear. Hover over the i icon for information on what is needed in each field. Then click the "),ta(15,"em"),za(16,"Calculate"),na(),za(17," button. A new tab will appear with sliders for altering the input variables, the desired output variable and various graphs. Alternately, choose an example from the upper-right pull-down menu for a pre-populated example and click on "),ta(18,"em"),za(19,"Calculate"),na(),za(20,". "),na(),ta(21,"h5"),za(22,"Graphical Output"),na(),ta(23,"p"),za(24," The graphs that can be generated are sample size vs. power, sample size vs. the detectable alternative hypothesis, power vs. sample size, and power vs. the detectable alternative hypothesis. The y-axes of these graphs are always show the output variable. In addition, a graph of precision vs effect size is always given. The red dot on the top two graphs can be dragged to enhance the user\u2019s intuition on how the input and output variables interact. The dot giving the effect size in the lower panel many also be dragged, as can the vertical bars indicating the limits of the 95% confidence interval when the output is not sample size. "),na(),ta(25,"h5"),za(26,"Add Line"),na(),ta(27,"p"),za(28,"Clicking on "),ta(29,"em"),za(30,"Add line"),na(),za(31," overlays a new set of graphs on top of the old ones. This new graph can then be modified to permit multiple graphs on each plot. A legend is automatically generated. The names of the curves can be modified by changing the Name field near the top of the dialog box. Clicking on the left-most tab (blue by default) gives access to the initial plot whose legend name may also be modified. The legend itself can be dragged to a suitable position on each graph. "),na(),ta(32,"h5"),za(33,"Options gear wheel"),na(),ta(34,"p"),za(35," Click on this icon to change the point size, line width and other graph options. "),na(),ta(36,"h5"),za(37,"Save icon"),na(),ta(38,"p"),za(39,"Click on this icon to save graphs in one of several formats. Graphs in WMF format can be readily imported into Microsoft PowerPoint for further editing."),na(),ta(40,"h5"),za(41,"Cube icon"),na(),ta(42,"p"),za(43,"By default, hovering over a line on a graph will give you the values of the x- and y-axes at the point where you are hovering. Clicking on the "),ta(44,"em"),za(45,"Cube"),na(),za(46," icon toggles this feature on or off."),na(),ta(47,"h5"),za(48,"Interpretation"),na(),ta(49,"p"),za(50,"The output also includes text that describes the power or sample size calculation in English, which may be a useful starting point for a description in a grant application."),na(),ta(51,"h5"),za(52,"Log"),na(),ta(53,"p"),za(54,"A terse description of the calculations performed is abailable by clicking on "),ta(55,"em"),za(56,"Log"),na(),za(57," in the gray box. The log file may then be cut and pasted into other editors."),na(),ta(58,"p"),ra(59,"img",1),za(60," \xa9 William D. Dupont, Jeffrey D. Blume, W. Dale Plummer, Jeremy Stephens 2017-2018 "),na(),ta(61,"p"),za(62," Use of this program is restricted by a Creative Commons Attribution Non-Commercial Share Alike license. See "),ta(63,"a",2),za(64,"https://creativecommons.org/licenses"),na(),za(65," for details. We are grateful for support from Dr. Gordon R. Bernard and the Vanderbilt Institute for Clinical and Translational Research. "),na())}function jR(e,t){1&e&&(ta(0,"p"),za(1,"Select one of the following:"),na(),ta(2,"h5"),za(3,"Sample size"),na(),ta(4,"p"),za(5," For independent t-tests this is the number of experimental patients that must be studied to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3 and "),ta(6,"em"),za(7,"m"),na(),za(8," controls per experimental patient. For paired t-tests it is the number of pairs of patients needed to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3. "),na(),ta(9,"h5"),za(10,"Power"),na(),ta(11,"p"),za(12," For independent studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 and a control/experimental patient ratio "),ta(13,"em"),za(14,"m"),na(),za(15," when the true difference in population means is \u03b4. For paired studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 when the true difference in population means is \u03b4. "),na(),ta(16,"h5"),za(17,"Detectable alternative"),na(),ta(18,"p"),za(19," A difference in population means that can be detected with the specified power and Type I error probability \u03b1 given a standard deviation \u03c3, and the specified sample size. "),na())}function DR(e,t){1&e&&(ta(0,"p"),za(1,"Select one of the following:"),na(),ta(2,"h5"),za(3,"Sample size"),na(),ta(4,"p"),za(5," The sample size needed to detect a specific alternative hypothesis with a specified power and Type I error probability \u03b1. "),na(),ta(6,"h5"),za(7,"Power"),na(),ta(8,"p"),za(9," The power with which a given sample size can detect a specific alternative hypothesis with a specific Type I error probability \u03b1. "),na(),ta(10,"h5"),za(11,"Detectable alternative"),na(),ta(12,"p"),za(13," The alternative hypothesis that can be detected with a specified level of power given a specified sample size and Type I error probability \u03b1. "),na())}var NR,FR=((NR=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||NR)},NR.\u0275cmp=gt({type:NR,selectors:[["app-help"]],inputs:{topic:"topic"},decls:3,vars:3,consts:[[3,"ngIf"],["src","assets/cc.png"],["href","https://creativecommons.org/licenses"]],template:function(e,t){1&e&&(Yo(0,IR,66,0,"ng-template",0),Yo(1,jR,20,0,"ng-template",0),Yo(2,DR,14,0,"ng-template",0)),2&e&&(Jo("ngIf","overview"==t.topic),Vr(1),Jo("ngIf","t-test-start"==t.topic||"z-test-start"==t.topic),Vr(1),Jo("ngIf","dichot-start"==t.topic))},directives:[zc],styles:["h5[_ngcontent-%COMP%]{font-weight:700}"]}),NR);function LR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sb;return function(n){return n.lift(new VR(e,t))}}var VR=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new zR(e,this.dueTime,this.scheduler))}}]),e}(),zR=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(HR,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(g);function HR(e){e.debouncedNext()}var UR=["errorPopover"],BR=["number"],qR=["range"];function WR(e,t){}function GR(e,t){1&e&&Yo(0,WR,0,0,"ng-template",15),2&e&&Jo("ngTemplateOutlet",fa().labelTpl)}function XR(e,t){1&e&&(ta(0,"span"),za(1,"(Computed value) "),na())}function YR(e,t){}function QR(e,t){1&e&&Yo(0,YR,0,0,"ng-template",15),2&e&&Jo("ngTemplateOutlet",fa(4).helpTpl)}function $R(e,t){if(1&e&&(ra(0,"i",21),Yo(1,QR,1,1,"ng-template",null,22,Au)),2&e){var n=Qo(2);ga("popoverTitle",fa(3).label),Jo("ngbPopover",n)}}function ZR(e,t){1&e&&ra(0,"i",23)}function KR(e,t){if(1&e&&(ta(0,"div",17),za(1),Yo(2,XR,2,0,"span",18),Yo(3,$R,3,2,"ng-template",19),Yo(4,ZR,1,0,"i",20),na()),2&e){var n=fa(2);Vr(1),Ua(" ",n.label," "),Vr(1),Jo("ngIf",n.isOutput),Vr(1),Jo("ngIf",n.helpTpl),Vr(1),Jo("ngIf",n.showDot)}}function JR(e,t){1&e&&Yo(0,KR,5,4,"div",16),2&e&&Jo("ngIf",fa().label)}function eA(e,t){if(1&e&&(ta(0,"span",24),za(1),na(),ra(2,"br"),za(3)),2&e){var n=fa();Vr(1),Ba("Value is out of range (",n.hardMin,", ",n.hardMax,")."),Vr(2),Ua(" Current value: ",n.value," ")}}var tA,nA,rA,iA,oA=((iA=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||iA)($o(Ns))},iA.\u0275dir=wt({type:iA,selectors:[["ng-template","rsLabel",""]]}),iA),aA=((rA=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||rA)($o(Ns))},rA.\u0275dir=wt({type:rA,selectors:[["ng-template","rsHelp",""]]}),rA),sA=((nA=function(){function e(){_classCallCheck(this,e),this.step=.01,this.hardMinInclusive=!0,this.hardMaxInclusive=!0,this.isOutput=!1,this.showDot=!1,this.hasError=!1,this.inputSubject=new E,this.dirty=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.inputSubject.pipe(LR(800),gp((function(t){return e.dirty}))).subscribe((function(t){e.trySetValue(t)}))}},{key:"ngAfterContentInit",value:function(){!this.helpTpl&&this.rsHelpTpl&&(this.helpTpl=this.rsHelpTpl.templateRef),!this.labelTpl&&this.rsLabelTpl&&(this.labelTpl=this.rsLabelTpl.templateRef)}},{key:"ngOnChanges",value:function(e){if("isOutput"in e){var t=e.isOutput;!0===t.previousValue&&!1===t.currentValue?this.valueOutOfBounds(this.value)&&(this.hasError=!0,this.errorPopover.open()):!1===t.previousValue&&!0===t.currentValue&&(this.hasError=!1,this.errorPopover.close())}}},{key:"round",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.pow(10,t);return e*=n,(e=Math.round(e))/n}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this.changeCallback=e}},{key:"registerOnTouched",value:function(e){}},{key:"setDisabledState",value:function(e){}},{key:"rangeChanged",value:function(e){this.trySetValue(e)}},{key:"rangeInput",value:function(e){this.dirty=!0,this.numberElement.nativeElement.value=e,this.inputSubject.next(e)}},{key:"numberChanged",value:function(e){this.dirty&&this.trySetValue(e)}},{key:"numberInput",value:function(e){this.dirty=!0,this.rangeElement.nativeElement.value=e,this.inputSubject.next(e)}},{key:"blurred",value:function(){this.hasError&&(this.numberElement.nativeElement.value=this.value,this.hasError=!1,this.errorPopover.close())}},{key:"valueOutOfBounds",value:function(e){return this.hardMinInclusive&&e<this.hardMin||!this.hardMinInclusive&&e<=this.hardMin||this.hardMaxInclusive&&e>this.hardMax||!this.hardMaxInclusive&&e>=this.hardMax}},{key:"trySetValue",value:function(e){var t=parseFloat(e);this.valueOutOfBounds(t)?(this.hasError=!0,this.errorPopover.open()):(this.hasError=!1,this.errorPopover.close(),this.value=t,this.propagateChange()),this.dirty=!1}},{key:"propagateChange",value:function(){this.changeCallback&&this.changeCallback(this.value)}}]),e}()).\u0275fac=function(e){return new(e||nA)},nA.\u0275cmp=gt({type:nA,selectors:[["app-range-slider"]],contentQueries:function(e,t,n){var r;1&e&&(Tu(n,oA,!0),Tu(n,aA,!0)),2&e&&(ku(r=Pu())&&(t.rsLabelTpl=r.first),ku(r=Pu())&&(t.rsHelpTpl=r.first))},viewQuery:function(e,t){var n;1&e&&(wu(UR,!0),wu(BR,!0),wu(qR,!0)),2&e&&(ku(n=Pu())&&(t.errorPopover=n.first),ku(n=Pu())&&(t.numberElement=n.first),ku(n=Pu())&&(t.rangeElement=n.first))},inputs:{label:"label",name:"name",min:"min",max:"max",step:"step",hardMin:["hard-min","hardMin"],hardMinInclusive:["hard-min-inclusive","hardMinInclusive"],hardMax:["hard-max","hardMax"],hardMaxInclusive:["hard-max-inclusive","hardMaxInclusive"],isOutput:["is-output","isOutput"],helpTpl:["help-tpl","helpTpl"],labelTpl:["label-tpl","labelTpl"],showDot:["show-dot","showDot"]},features:[ls([{provide:Uy,useExisting:Me((function(){return nA})),multi:!0}]),Ja],decls:20,vars:17,consts:[[1,"slider-group"],[3,"ngIf","ngIfElse"],["standardLabel",""],[1,"inputs","row"],[1,"col-sm-9"],[1,"slider"],[1,"min"],["type","range",3,"name","step","min","max","value","disabled","change","input"],["range",""],[1,"max"],[1,"col-sm-3"],[1,"number"],["type","number","triggers","manual","container","body",3,"name","step","value","disabled","ngbPopover","change","input","blur"],["number","","errorPopover","ngbPopover"],["errorMsg",""],[3,"ngTemplateOutlet"],["class","label",4,"ngIf"],[1,"label"],[4,"ngIf"],[3,"ngIf"],["class","fa fa-circle dot",4,"ngIf"],["aria-hidden","true","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover","popoverTitle"],["rsHelp",""],[1,"fa","fa-circle","dot"],[1,"error"]],template:function(e,t){if(1&e){var n=aa();ta(0,"div",0),Yo(1,GR,1,1,"ng-template",1),Yo(2,JR,1,1,"ng-template",null,2,Au),ta(4,"div",3),ta(5,"div",4),ta(6,"div",5),ta(7,"div",6),za(8),na(),ta(9,"input",7,8),la("change",(function(){Jt(n);var e=Qo(10);return t.rangeChanged(e.value)}))("input",(function(){Jt(n);var e=Qo(10);return t.rangeInput(e.value)})),na(),ta(11,"div",9),za(12),na(),na(),na(),ta(13,"div",10),ta(14,"div",11),ta(15,"input",12,13),la("change",(function(){Jt(n);var e=Qo(16);return t.numberChanged(e.value)}))("input",(function(){Jt(n);var e=Qo(16);return t.numberInput(e.value)}))("blur",(function(){return t.blurred()})),na(),Yo(18,eA,4,3,"ng-template",null,14,Au),na(),na(),na(),na()}if(2&e){var r=Qo(3),i=Qo(19);Vr(1),Jo("ngIf",t.labelTpl)("ngIfElse",r),Vr(7),Ha(t.round(t.min)),Vr(1),ga("name",t.name),ga("step",t.step),ga("min",t.min),ga("max",t.max),Jo("value",t.value)("disabled",t.isOutput),Vr(3),Ha(t.round(t.max)),Vr(3),Ma("error",t.hasError),ga("name",t.name),ga("step",t.step),Jo("value",t.value)("disabled",t.isOutput)("ngbPopover",i)}},directives:[zc,ww,Kc],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:row}div.slider-group[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:5px;border-radius:5px}div.slider-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}div.slider-group[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{padding-top:2ex}div.slider-group[_ngcontent-%COMP%]   .add-remove[_ngcontent-%COMP%]{padding-top:2.3ex}div.slider-group[_ngcontent-%COMP%]   div.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]{position:relative;padding-left:0;padding-right:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{position:absolute;font-size:x-small;top:0;background-color:#ddd;border-radius:1ex;padding:.5ex}div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{background-color:#ccc}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{left:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%]{right:0}.fa[_ngcontent-%COMP%]{opacity:.7}.dot[_ngcontent-%COMP%], .fa[_ngcontent-%COMP%]:hover{opacity:1}.dot[_ngcontent-%COMP%]{color:red}.palette-color[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:1}span.error[_ngcontent-%COMP%]{color:red}input.error[_ngcontent-%COMP%]{border:2px solid red;color:red}"]}),nA),uA=((tA=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round(e*n)/n}}]),e}()).\u0275fac=function(e){return new(e||tA)},tA.\u0275pipe=Ct({name:"round",type:tA,pure:!0}),tA);function lA(e,t){1&e&&za(0," The number of points to use when drawing plots. More is slower. The number of points to use by default is calculated based on host speed. ")}function cA(e,t){if(1&e){var n=aa();ta(0,"div",41),ta(1,"label",42),ta(2,"input",48,70),la("change",(function(){Jt(n);var e=Qo(3);return fa(2).setProjectAttribute("fixedPSpace",e.checked)})),na(),za(4," Fixed parameter space "),na(),na()}if(2&e){var r=fa(2);Vr(2),Jo("checked",r.fixedPSpace===r.FixedPSpace.Fixed)}}function hA(e,t){if(1&e){var n=aa();ta(0,"input",60,71),la("change",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topYRange","min",e.value)}))("input",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topYRange","min",e.value,!0)})),ou(2,"round"),ou(3,"round"),na()}if(2&e){var r=fa(2);Jo("disabled",!r.customRanges)("max",au(2,3,r.topYRange.max-.01))("value",au(3,5,r.topYRange.min))}}function fA(e,t){if(1&e){var n=aa();ta(0,"input",63,72),la("change",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topYRange","max",e.value)}))("input",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topYRange","max",e.value,!0)})),ou(2,"round"),ou(3,"round"),na()}if(2&e){var r=fa(2);Jo("disabled",!r.customRanges)("min",au(2,3,r.topYRange.min+.01))("value",au(3,5,r.topYRange.max))}}function dA(e,t){if(1&e){var n=aa();ta(0,"input",60,73),la("change",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topLeftXRange","min",e.value)}))("input",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topLeftXRange","min",e.value,!0)})),ou(2,"round"),ou(3,"round"),na()}if(2&e){var r=fa(2);Jo("disabled",!r.customRanges)("max",au(2,3,r.topLeftXRange.max-.01))("value",au(3,5,r.topLeftXRange.min))}}function pA(e,t){if(1&e){var n=aa();ta(0,"input",63,74),la("change",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topLeftXRange","max",e.value)}))("input",(function(){Jt(n);var e=Qo(1);return fa(2).setProjectRange("topLeftXRange","max",e.value,!0)})),ou(2,"round"),ou(3,"round"),na()}if(2&e){var r=fa(2);Jo("disabled",!r.customRanges)("min",au(2,3,r.topLeftXRange.min+.01))("value",au(3,5,r.topLeftXRange.max))}}function vA(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"fieldset"),ta(2,"legend"),za(3,"Global"),na(),ta(4,"div",2),ta(5,"label",3),za(6,"Font family"),na(),ta(7,"select",4,5),la("change",(function(){Jt(n);var e=Qo(8);return fa().changeAttribute("fontFamily",e.value)})),ta(9,"option",6),za(10,"Default"),na(),ta(11,"option",7),za(12,"Serif"),na(),ta(13,"option",8),za(14,"Sans-serif"),na(),ta(15,"option",9),za(16,"Monospace"),na(),ta(17,"option"),za(18,"Bungee Shade"),na(),ta(19,"option"),za(20,"Sancreek"),na(),na(),na(),ta(21,"div",2),ta(22,"label",10),za(23,"Color palette"),na(),ta(24,"select",11,12),la("change",(function(){Jt(n);var e=Qo(25);return fa().changeAttribute("paletteTheme",e.value)})),ta(26,"option",13),za(27,"Default"),na(),ta(28,"option",14),za(29,"Plasma"),na(),ta(30,"option",15),za(31,"Viridis"),na(),ta(32,"option",16),za(33,"Magma"),na(),ta(34,"option",17),za(35,"Pattern"),na(),na(),na(),ta(36,"div",18),ta(37,"div",19),ta(38,"label",20),za(39),na(),ta(40,"div",21),ta(41,"input",22,23),la("change",(function(){Jt(n);var e=Qo(42);return fa().changeNumberAttribute("fontSize",e.value)}))("input",(function(){Jt(n);var e=Qo(42);return fa().changeNumberAttribute("fontSize",e.value)})),na(),na(),na(),ta(43,"div",19),ta(44,"label",24),za(45),na(),ta(46,"div",21),ta(47,"input",25,26),la("change",(function(){Jt(n);var e=Qo(48);return fa().changeNumberAttribute("axisFontSize",e.value)}))("input",(function(){Jt(n);var e=Qo(48);return fa().changeNumberAttribute("axisFontSize",e.value)})),na(),na(),na(),na(),ta(49,"div",18),ta(50,"div",19),ta(51,"label",27),za(52),na(),ta(53,"div",21),ta(54,"input",28,29),la("change",(function(){Jt(n);var e=Qo(55);return fa().changeNumberAttribute("lineWidth",e.value)}))("input",(function(){Jt(n);var e=Qo(55);return fa().changeNumberAttribute("lineWidth",e.value)})),na(),na(),na(),ta(56,"div",19),ta(57,"label",30),za(58),na(),ta(59,"div",21),ta(60,"input",31,32),la("change",(function(){Jt(n);var e=Qo(61);return fa().changeNumberAttribute("axisLineWidth",e.value)}))("input",(function(){Jt(n);var e=Qo(61);return fa().changeNumberAttribute("axisLineWidth",e.value)})),na(),na(),na(),na(),ta(62,"div",2),ta(63,"label",33),za(64,"Line style"),na(),ta(65,"select",34,35),la("change",(function(){Jt(n);var e=Qo(66);return fa().changeAttribute("lineStyle",e.value)})),ta(67,"option",36),za(68,"Solid"),na(),ta(69,"option",37),za(70,"Short Dash"),na(),ta(71,"option",38),za(72,"Medium Dash"),na(),ta(73,"option",39),za(74,"Long Dash"),na(),ta(75,"option",40),za(76,"Dotted"),na(),na(),na(),ta(77,"div",41),ta(78,"label",42),ta(79,"input",43,44),la("change",(function(){Jt(n);var e=Qo(80);return fa().changeAttribute("showLegendBox",e.checked)}))("input",(function(){Jt(n);var e=Qo(80);return fa().changeAttribute("showLegendBox",e.checked)})),na(),za(81," Display legend background "),na(),na(),na(),ta(82,"fieldset"),ta(83,"legend"),za(84,"Project"),na(),ta(85,"app-range-slider",45),la("ngModelChange",(function(e){return Jt(n),fa().setProjectAttribute("pointsPerPlot",e)})),Yo(86,lA,1,0,"ng-template",46),na(),Yo(87,cA,5,1,"div",47),ta(88,"div",41),ta(89,"label",42),ta(90,"input",48,49),la("change",(function(){Jt(n);var e=Qo(91);return fa().setProjectAttribute("customRanges",e.checked)})),na(),za(92," Custom plot ranges "),na(),na(),ta(93,"div",50),ta(94,"h4"),za(95),na(),ta(96,"div",51),ta(97,"div",52),ta(98,"label",53),za(99,"Minimum"),na(),ta(100,"div",21),Yo(101,hA,4,7,"input",54),na(),na(),ta(102,"div",52),ta(103,"label",55),za(104,"Maximum"),na(),ta(105,"div",21),Yo(106,fA,4,7,"input",56),na(),na(),na(),ta(107,"h4"),za(108),na(),ta(109,"div",51),ta(110,"div",52),ta(111,"label",57),za(112,"X minimum"),na(),ta(113,"div",21),Yo(114,dA,4,7,"input",54),na(),na(),ta(115,"div",52),ta(116,"label",58),za(117,"X maximum"),na(),ta(118,"div",21),Yo(119,pA,4,7,"input",56),na(),na(),na(),ta(120,"h4"),za(121),na(),ta(122,"div",51),ta(123,"div",52),ta(124,"label",59),za(125,"X minimum"),na(),ta(126,"div",21),ta(127,"input",60,61),la("change",(function(){Jt(n);var e=Qo(128);return fa().setProjectRange("topRightXRange","min",e.value)}))("input",(function(){Jt(n);var e=Qo(128);return fa().setProjectRange("topRightXRange","min",e.value,!0)})),ou(129,"round"),ou(130,"round"),na(),na(),na(),ta(131,"div",52),ta(132,"label",62),za(133,"X maximum"),na(),ta(134,"div",21),ta(135,"input",63,64),la("change",(function(){Jt(n);var e=Qo(136);return fa().setProjectRange("topRightXRange","max",e.value)}))("input",(function(){Jt(n);var e=Qo(136);return fa().setProjectRange("topRightXRange","max",e.value,!0)})),ou(137,"round"),ou(138,"round"),na(),na(),na(),na(),ta(139,"h4"),za(140),na(),ta(141,"div",18),ta(142,"div",52),ta(143,"label",65),za(144,"X minimum"),na(),ta(145,"div",21),ta(146,"input",60,66),la("change",(function(){Jt(n);var e=Qo(147);return fa().setProjectRange("bottomXRange","min",e.value)}))("input",(function(){Jt(n);var e=Qo(147);return fa().setProjectRange("bottomXRange","min",e.value,!0)})),ou(148,"round"),ou(149,"round"),na(),na(),na(),ta(150,"div",52),ta(151,"label",67),za(152,"X maximum"),na(),ta(153,"div",21),ta(154,"input",63,68),la("change",(function(){Jt(n);var e=Qo(155);return fa().setProjectRange("bottomXRange","max",e.value)}))("input",(function(){Jt(n);var e=Qo(155);return fa().setProjectRange("bottomXRange","max",e.value,!0)})),ou(156,"round"),ou(157,"round"),na(),na(),na(),na(),na(),na(),ta(158,"button",69),la("click",(function(){return Jt(n),fa().doReset()})),za(159," Reset all settings "),na(),na()}if(2&e){var r=fa();Vr(7),Jo("value",r.plotOptions.fontFamily),Vr(17),Jo("value",r.plotOptions.paletteTheme),Vr(15),Ua("Font size: ",r.plotOptions.fontSize,""),Vr(2),Jo("value",r.plotOptions.fontSize),Vr(4),Ua("Axis font size: ",r.plotOptions.axisFontSize,""),Vr(2),Jo("value",r.plotOptions.axisFontSize),Vr(5),Ua("Line width: ",r.plotOptions.lineWidth,""),Vr(2),Jo("value",r.plotOptions.lineWidth),Vr(4),Ua("Axis line width: ",r.plotOptions.axisLineWidth,""),Vr(2),Jo("value",r.plotOptions.axisLineWidth),Vr(5),Jo("value",r.plotOptions.lineStyle),Vr(14),Jo("checked",r.plotOptions.showLegendBox),Vr(6),Jo("min",50)("max",200)("hard-min",50)("hard-max",200)("step",1)("ngModel",r.pointsPerPlot),Vr(2),Jo("ngIf",r.fixedPSpace!==r.FixedPSpace.NA),Vr(3),Jo("checked",r.customRanges),Vr(3),Ma("disabled",!r.customRanges),Vr(2),Ha(r.topYRange.description),Vr(6),Jo("ngIf",r.topYRange),Vr(5),Jo("ngIf",r.topYRange),Vr(2),Ha(r.topLeftXRange.description),Vr(6),Jo("ngIf",r.topLeftXRange),Vr(5),Jo("ngIf",r.topLeftXRange),Vr(2),Ha(r.topRightXRange.description),Vr(6),Jo("disabled",!r.customRanges)("max",au(129,42,r.topRightXRange.max-1))("value",au(130,44,r.topRightXRange.min)),Vr(8),Jo("disabled",!r.customRanges)("min",au(137,46,r.topRightXRange.min-1))("value",au(138,48,r.topRightXRange.max)),Vr(5),Ha(r.bottomXRange.description),Vr(6),Jo("disabled",!r.customRanges)("max",au(148,50,r.bottomXRange.max-1))("value",au(149,52,r.bottomXRange.min)),Vr(8),Jo("disabled",!r.customRanges)("min",au(156,54,r.bottomXRange.min+1))("value",au(157,56,r.bottomXRange.max))}}var gA,mA=function(e){return e.pointsPerPlot="pointsPerPlot",e.fixedPSpace="fixedPSpace",e.customRanges="customRanges",e.topYRange="topYRange",e.topLeftXRange="topLeftXRange",e.topRightXRange="topRightXRange",e.bottomXRange="bottomXRange",e}({}),yA=function(e){return e.min="min",e.max="max",e}({}),_A=((gA=function(){function e(t){_classCallCheck(this,e),this.plotOptions=t,this.optionChanged=new cu,this.projectChanged=new cu,this.reset=new cu,this.FixedPSpace=$w,this.projectChangedDelay=new E,this.projectChangedImmediate=new E}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.rangeSub=$(this.projectChangedDelay.pipe(LR(400)),this.projectChangedImmediate).subscribe((function(t){switch(t){case mA.pointsPerPlot:e.project.setPointsPerPlot(e.pointsPerPlot);break;case mA.fixedPSpace:e.project.setFixedPSpace(e.fixedPSpace);break;case mA.customRanges:e.project.setCustomRanges(e.customRanges);break;case mA.topYRange:e.project.setTopYRange(e.topYRange);break;case mA.topLeftXRange:e.project.setTopLeftXRange(e.topLeftXRange);break;case mA.topRightXRange:e.project.setTopRightXRange(e.topRightXRange);break;case mA.bottomXRange:e.project.setBottomXRange(e.bottomXRange)}e.project.updatePlotData().subscribe((function(){e.projectChanged.emit()}))}))}},{key:"ngOnChanges",value:function(e){"project"in e&&(this.project?(this.pointsPerPlot=this.project.getPointsPerPlot(),this.fixedPSpace=this.project.getFixedPSpace(),this.customRanges=this.project.getCustomRanges(),this.getRanges()):(this.pointsPerPlot=void 0,this.customRanges=void 0,this.topYRange=void 0,this.topLeftXRange=void 0,this.topRightXRange=void 0,this.bottomXRange=void 0))}},{key:"doReset",value:function(){var e=this;this.plotOptions.reset(),this.project.resetRanges(),this.getRanges(),this.project.updatePlotData().subscribe((function(){e.reset.emit()}))}},{key:"changeAttribute",value:function(e,t){this.plotOptions[e]!==t&&(this.plotOptions[e]=t,this.optionChanged.emit())}},{key:"changeNumberAttribute",value:function(e,t){var n=parseFloat(t);isNaN(n)||this.changeAttribute(e,n)}},{key:"setProjectAttribute",value:function(e,t){switch(e){case mA.pointsPerPlot:this.pointsPerPlot=t;break;case mA.fixedPSpace:this.fixedPSpace=t?$w.Fixed:$w.NotFixed;break;case mA.customRanges:this.customRanges=t}this.projectChangedImmediate.next(e)}},{key:"setProjectRange",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=parseFloat(n);if(!isNaN(i)){var o,a=e,s=t;switch(a){case mA.topYRange:o=this.topYRange;break;case mA.topLeftXRange:o=this.topLeftXRange;break;case mA.topRightXRange:o=this.topRightXRange;break;case mA.bottomXRange:o=this.bottomXRange}s==yA.min?o.min=i:s==yA.max&&(o.max=i),r?this.projectChangedDelay.next(a):this.projectChangedImmediate.next(a)}}},{key:"getRanges",value:function(){this.topYRange=this.project.getTopYRange(),this.topLeftXRange=this.project.getTopLeftXRange(),this.topRightXRange=this.project.getTopRightXRange(),this.bottomXRange=this.project.getBottomXRange()}}]),e}()).\u0275fac=function(e){return new(e||gA)($o(uO))},gA.\u0275cmp=gt({type:gA,selectors:[["app-plot-options"]],inputs:{project:"project"},outputs:{optionChanged:"optionChanged",projectChanged:"projectChanged",reset:"reset"},features:[Ja],decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"form-group"],["for","plot-font-family"],["id","plot-font-family",1,"form-control",3,"value","change"],["fontFamily",""],["value",""],["value","serif"],["value","sans"],["value","monospace"],["for","plot-palette-theme"],["id","plot-palette-theme",1,"form-control",3,"value","change"],["paletteTheme",""],["value","typical"],["value","plasma"],["value","viridis"],["value","magma"],["value","pattern"],[1,"row"],[1,"col-sm-6"],["for","plot-font-size"],[1,"input-group"],["id","plot-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["fontSize",""],["for","plot-axis-font-size"],["id","plot-axis-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisFontSize",""],["for","plot-line-width"],["id","plot-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["lineWidth",""],["for","plot-axis-line-width"],["id","plot-axis-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisLineWidth",""],["for","plot-line-style"],["id","plot-line-style",1,"form-control",3,"value","change"],["lineStyle",""],["value","solid"],["value","short-dash"],["value","medium-dash"],["value","long-dash"],["value","dot"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change","input"],["showLegendBox",""],["name","projectPointsPerPlot","label","Points per plot",3,"min","max","hard-min","hard-max","step","ngModel","ngModelChange"],["rsHelp",""],["class","form-check",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["customRangesBox",""],[1,"ranges"],[1,"row","mb-4"],[1,"col-sm"],["for","plot-top-y-min"],["class","form-control","type","number","step","0.01",3,"disabled","max","value","change","input",4,"ngIf"],["for","plot-top-y-max"],["class","form-control","type","number","step","0.01",3,"disabled","min","value","change","input",4,"ngIf"],["for","plot-top-left-x-min"],["for","plot-top-left-x-max"],["for","plot-top-right-x-min"],["type","number","step","0.01",1,"form-control",3,"disabled","max","value","change","input"],["topRightXRangeMin",""],["for","plot-top-right-x-max"],["type","number","step","0.01",1,"form-control",3,"disabled","min","value","change","input"],["topRightXRangeMax",""],["for","plot-bottom-x-min"],["bottomXRangeMin",""],["for","plot-bottom-x-max"],["bottomXRangeMax",""],["type","button",1,"btn","btn-primary",3,"click"],["fixedPSpaceBox",""],["topYRangeMin",""],["topYRangeMax",""],["topLeftXRangeMin",""],["topLeftXRangeMax",""]],template:function(e,t){1&e&&Yo(0,vA,160,58,"div",0),2&e&&Jo("ngIf",t.plotOptions&&t.project)},directives:[zc,A_,L_,sA,n_,mb,aA],pipes:[uA],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid #bbb;border-radius:5px;padding:10px;margin:10px}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:table;width:auto}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:inherit;font-weight:700}h4[_ngcontent-%COMP%]{border-bottom:1px solid #bbb;margin:1em 0;padding-bottom:.2em}div.disabled[_ngcontent-%COMP%]{opacity:.5}.form-group[_ngcontent-%COMP%]{padding:0 5px}"]}),gA),bA=["plotOptionsDialog"],kA=["helpDialog"],wA=["outputPane"];function CA(e,t){if(1&e&&(ta(0,"li",9),ta(1,"a",26),za(2),na(),na()),2&e){var n=t.index,r=fa();Vr(1),Jo("routerLink",r.projectLink(n)),Vr(1),Ha(r.tabTitle(n))}}function xA(e,t){if(1&e){var n=aa();ta(0,"div",27),ta(1,"button",28),la("click",(function(){return Jt(n),fa().togglePlotOptions()})),ra(2,"i",29),na(),ta(3,"button",30),la("click",(function(){return Jt(n),fa().exportPlots()})),ra(4,"i",31),na(),ta(5,"button",32),la("click",(function(){return Jt(n),fa().toggleHoverBox()})),ra(6,"i",33),na(),na(),ta(7,"app-output-pane",34,35),la("modelChanged",(function(){return Jt(n),fa().redrawPlots()})),na()}if(2&e){var r=fa();Vr(6),Ma("fa-cubes",r.hoverBoxEnabled)("fa-cube",!r.hoverBoxEnabled),Vr(1),Jo("project",r.selectedProject)("hover-disabled",!r.hoverBoxEnabled)("disable-drag-ci-target",null==r.selectedProject?null:r.selectedProject.isCITargetDraggable())("disable-drag-ci-bounds",null==r.selectedProject?null:r.selectedProject.isCIBoundsDraggable())}}var SA,TA,MA=function(){return{exact:!0}},PA=((TA=function(){function e(t,n,r,i){_classCallCheck(this,e),this.router=t,this.route=n,this.projectService=r,this.resizeService=i,this.commitHash=AR.substr(0,7),this.buildTimestamp="2020-10-28T12:00:31-05:00",this.helpTitles={overview:"PS Overview","t-test-start":"PS Start Tab: T-Test","z-test-start":"PS Start Tab: Z-Test","dichot-start":"PS Start Tab: Dichotomous"},this.helpTopic="overview",this.showOutputPane=!1,this.hoverBoxEnabled=!0,this.blockSelection=!1,this.projects=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe((function(t){e.projectType=t.type,e.projects=e.projectService.getProjects(e.projectType).slice()})),this.route.url.subscribe((function(t){e.urlRoot=t.map((function(e,t){return 0==t?"/".concat(e.path):e.path}))})),this.resizeService.onResize.subscribe((function(){e.outputPane&&e.outputPane.resize()}))}},{key:"toggleHelp",value:function(e){if("start"==e)switch(this.projectType){case Uw.TTestPaired:case Uw.TTestIndependent:e="t-test-start";break;case Uw.ZTest:e="z-test-start";break;case Uw.Dichot:e="dichot-start"}this.helpDialog.isOpen()&&this.helpTopic==e?this.helpDialog.close():(this.helpTopic=e,this.helpDialog.open())}},{key:"togglePlotOptions",value:function(){this.plotOptionsDialog.toggle()}},{key:"exportPlots",value:function(){this.outputPane.openSaveDialog()}},{key:"toggleHoverBox",value:function(){this.hoverBoxEnabled=!this.hoverBoxEnabled}},{key:"tabTitle",value:function(e){var t="";switch(this.projectType){case Uw.TTestPaired:t+="Paired t-test ";break;case Uw.TTestIndependent:t+="Ind. t-test ";break;case Uw.ZTest:t+="z-test ";break;case Uw.Dichot:t+="Dichot "}return t+=" #"+(e+1).toString()}},{key:"startLink",value:function(){return this.urlRoot}},{key:"projectLink",value:function(e){return this.urlRoot.concat("".concat(e+1))}},{key:"onActivate",value:function(e){var t=this;if(e instanceof Bw){var n=e;this.calcSub=n.calculate.subscribe((function(e){t.projectService.addProject(t.projectType,e),t.projects.push(e),t.selectedProject=e,t.router.navigate([t.projects.length],{relativeTo:t.route})})),this.helpSub=n.toggleHelp.subscribe((function(){t.toggleHelp("start")})),this.showOutputPane=!1}else if(e instanceof qw){var r=e;this.switchedSub=r.projectSwitched.subscribe((function(e){t.selectedProject=e})),this.changedSub=r.projectChanged.subscribe((function(){t.redrawPlots()})),this.showOutputPane=!0}}},{key:"onDeactivate",value:function(){this.calcSub&&(this.calcSub.unsubscribe(),this.calcSub=void 0),this.helpSub&&(this.helpSub.unsubscribe(),this.helpSub=void 0),this.switchedSub&&(this.switchedSub.unsubscribe(),this.switchedSub=void 0),this.changedSub&&(this.changedSub.unsubscribe(),this.changedSub=void 0)}},{key:"redrawPlots",value:function(){this.outputPane.redrawPlots()}},{key:"onMouseUp",value:function(){this.plotOptionsDialog.stopDragging()}},{key:"onChildDragStarted",value:function(){this.blockSelection=!0}},{key:"onChildDragEnded",value:function(){this.blockSelection=!1}}]),e}()).\u0275fac=function(e){return new(e||TA)($o(ym),$o(ug),$o(zw),$o(Hw))},TA.\u0275cmp=gt({type:TA,selectors:[["app-main"]],viewQuery:function(e,t){var n;1&e&&(wu(bA,!0),wu(kA,!0),Cu(wA,!0)),2&e&&(ku(n=Pu())&&(t.plotOptionsDialog=n.first),ku(n=Pu())&&(t.helpDialog=n.first),ku(n=Pu())&&(t.outputPane=n.first))},decls:30,vars:14,consts:[[1,"d-flex","flex-column","h-100",3,"mouseup"],[1,"row","d-flex",2,"flex","1 0 auto"],[1,"col-4","d-flex","flex-column","justify-content-between"],["id","sidebar",1,"d-flex","flex-row",2,"flex","auto"],[1,"overview"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-question-circle"],[1,"tabset"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"tab-pane","active"],[3,"activate","deactivate"],["id","footer",1,"d-flex","flex-column"],["src","assets/biostat.jpg"],[1,"build"],[1,"col-8"],[3,"ngIf"],["start-x-offset","33%","start-y-offset","55px",3,"title","drag-start","drag-end"],["helpDialog",""],[3,"topic"],["title","Plot options","start-x-offset","5%","start-y-offset","55px",3,"drag-start","drag-end"],["plotOptionsDialog",""],[3,"project","optionChanged","projectChanged","reset"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"plot-buttons"],["title","Toggle plot options",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cog"],["title","Export plots",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-save"],["title","Toggle hover box",1,"btn","btn-secondary",3,"click"],[1,"fa"],[3,"project","hover-disabled","disable-drag-ci-target","disable-drag-ci-bounds","modelChanged"],["outputPane",""]],template:function(e,t){1&e&&(ta(0,"div",0),la("mouseup",(function(){return t.onMouseUp()})),ta(1,"div",1),ta(2,"div",2),ta(3,"div",3),ta(4,"div",4),ta(5,"button",5),la("click",(function(){return t.toggleHelp("overview")})),za(6," Overview "),ra(7,"i",6),na(),na(),ta(8,"div",7),ta(9,"ul",8),ta(10,"li",9),ta(11,"a",10),za(12,"Start"),na(),na(),Yo(13,CA,3,2,"li",11),na(),ta(14,"div",12),ta(15,"div",13),ta(16,"router-outlet",14),la("activate",(function(e){return t.onActivate(e)}))("deactivate",(function(){return t.onDeactivate()})),na(),na(),na(),na(),na(),ta(17,"div",15),ra(18,"img",16),ta(19,"div",17),za(20),ou(21,"date"),na(),na(),na(),ta(22,"div",18),Yo(23,xA,9,8,"ng-template",19),na(),na(),ta(24,"app-draggable-dialog",20,21),la("drag-start",(function(){return t.onChildDragStarted()}))("drag-end",(function(){return t.onChildDragEnded()})),ra(26,"app-help",22),na(),ta(27,"app-draggable-dialog",23,24),la("drag-start",(function(){return t.onChildDragStarted()}))("drag-end",(function(){return t.onChildDragEnded()})),ta(29,"app-plot-options",25),la("optionChanged",(function(){return t.redrawPlots()}))("projectChanged",(function(){return t.redrawPlots()}))("reset",(function(){return t.redrawPlots()})),na(),na(),na()),2&e&&(Ma("block-selection",t.blockSelection),Vr(11),Jo("routerLink",t.startLink())("routerLinkActiveOptions",tu(13,MA)),Vr(2),Jo("ngForOf",t.projects),Vr(7),Ba(" Build version: ",t.commitHash," (",au(21,11,t.buildTimestamp),") "),Vr(3),Jo("ngIf",t.showOutputPane),Vr(1),Jo("title",t.helpTitles[t.helpTopic]),Vr(2),Jo("topic",t.helpTopic),Vr(3),Jo("project",t.selectedProject))},directives:[bm,Tm,Lc,Em,zc,Qw,FR,_A,RR],pipes:[Jc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}#sidebar[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #ccc;border-radius:5px;padding:10px;position:relative}#sidebar[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%]{flex:0 0 auto;border-bottom:1px solid #888}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{border-color:#bbb #bbb #888;background-color:#eee}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]:hover{border-color:#888;background-color:#f5f5f5;color:#0275d8}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]{border-color:#888 #888 #fff;background-color:#fff}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]:hover{color:#464a4c}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{flex:1 0 auto;padding:10px;border:1px solid #888;border-top:0;overflow:auto;max-height:70vh}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane.active[_ngcontent-%COMP%]{background:#fff}#footer[_ngcontent-%COMP%]{margin:20px 0;padding:20px;text-align:center}#footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;display:block}#footer[_ngcontent-%COMP%]   div.build[_ngcontent-%COMP%]{margin-top:5px;font-size:smaller}.block-selection[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.plot-buttons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;font-size:large;z-index:99;display:flex;flex:0 0 auto;flex-direction:column}.plot-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem 0;margin:.2rem 0;width:2.4rem}"]}),TA),EA=((SA=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Rl.apiUrl,"/ttests")}return _createClass(e,[{key:"calculate",value:function(e){var t="".concat(this.apiUrl,"/calc"),n=e.attribs(),r={headers:new Km({"Content-Type":"application/json"})};return this.http.post(t,n,r).pipe(Rp(this.handleError),z((function(e){if("object"!=typeof e||null===e)return e;for(var t in e)"NaN"===e[t]&&(e[t]=void 0);return e})))}},{key:"plotData",value:function(e,t,n){var r="".concat(this.apiUrl,"/plotData"),i={models:e.map((function(e){return e.attribs()})),ranges:t};"number"==typeof n&&(i.points=n);var o={headers:new Km({"Content-Type":"application/json"})};return this.http.post(r,i,o).pipe(Rp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Db("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||SA)(Ke(ky))},SA.\u0275prov=pe({token:SA,factory:SA.\u0275fac}),SA),OA=function(){function e(t,n){_classCallCheck(this,e),this.min=t,this.max=n}return _createClass(e,[{key:"combine",value:function(e){e.min<this.min&&(this.min=e.min),e.max>this.max&&(this.max=e.max)}},{key:"toArray",value:function(){return[this.min,this.max]}},{key:"clone",value:function(){return new e(this.min,this.max)}}]),e}(),RA=function(e){return e.Paired="paired",e.Independent="ind",e.ZTest="ztest",e}({}),AA=function(){function e(t){_classCallCheck(this,e),this.ciMode=!1,this.deltaMode=!1,t&&(this.kind=t.kind,this.output=t.output,this.alpha=t.alpha,this.sigma=t.sigma,this.delta=t.delta,this.power=t.power,this.n=t.n,this.m=t.m,this.ci=t.ci,this.nVsPower=t.nVsPower,this.nVsDelta=t.nVsDelta,this.powerVsN=t.powerVsN,this.powerVsDelta=t.powerVsDelta,this.deltaVsPower=t.deltaVsPower,this.deltaVsN=t.deltaVsN,this.sampDist=t.sampDist)}return _createClass(e,[{key:"precisionRange",value:function(){return new OA(this.delta-this.ci/2,this.delta+this.ci/2)}},{key:"interpretation",value:function(){var e=this.alpha.toFixed(2),t=this.sigma.toFixed(2),n=this.delta.toFixed(2),r=Math.ceil(this.n).toString(),i=this.power.toFixed(2),o="",a="";this.m&&(o=this.m.toFixed(2),a=Math.ceil(this.m*this.n).toString());var s="";return this.kind===RA.Paired?"n"==this.output||"nByCI"==this.output?s="\n          We are planning a study of a continuous response variable from matched\n          pairs of study subjects. Prior data indicate that the difference in the\n          response of matched pairs is normally distributed with standard\n          deviation ".concat(t,". If the true difference in the mean response of\n          matched pairs is ").concat(n,", we will need to study ").concat(r," pairs of subjects\n          to be able to reject the null hypothesis that this response difference\n          is zero with probability (power) ").concat(i,". The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"power"==this.output?s="\n          We are planning a study with ".concat(r," pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ").concat(t,". If the true\n          difference in the mean response of matched pairs is ").concat(n,", we will\n          be able to reject the null hypothesis that this response difference is\n          zero with probability (power) ").concat(i,". The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"delta"==this.output&&(s="\n          We are planning a study with ".concat(r," pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ").concat(t,". We will be able\n          to detect a true difference in the mean response of matched pairs of\n          -").concat(n," or ").concat(n," with probability (power) ").concat(i,". The Type I\n          error probability associated with this test of the null hypothesis that\n          this response difference is zero is ").concat(e,".\n        ")):this.kind===RA.Independent&&("n"==this.output||"nByCI"==this.output?s="\n          We are planning a study of a continuous response variable from\n          independent control and experimental subjects with ".concat(o," control(s)\n          per experimental subject.  In a previous study the response within\n          each subject group was normally distributed with standard deviation\n          ").concat(t,".  If the true difference in the experimental and control\n          means is ").concat(n,", we will need to study ").concat(r," experimental subjects\n          and ").concat(a," control subjects to be able to reject the null hypothesis\n          that the population means of the experimental and control groups are\n          equal with probability (power) ").concat(i,".   The Type I error\n          probability associated with this test of this null hypothesis is\n          ").concat(e,".\n        "):"power"==this.output?s="\n          We are planning a study with ".concat(r," experimental subjects and ").concat(a,"\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ").concat(t,".  If the true difference in the experimental and control\n          means is ").concat(n,", we will be able to reject the null hypothesis that\n          the population means of the experimental and control groups are equal\n          with probability (power) ").concat(i,".   The Type I error probability\n          associated with this test of this null hypothesis is ").concat(e,".\n        "):"delta"==this.output&&(s="\n          We are planning a study with ".concat(r," experimental subjects and ").concat(a,"\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ").concat(t,".  We will be able to detect a true difference in the mean\n          response of experimental and control subjects of -").concat(n," or\n          ").concat(n," with probability (power) ").concat(i,".   The Type I error\n          probability associated with this test of the null hypothesis that the\n          population means of the experimental and control groups are equal is\n          ").concat(e,".\n        "))),s.replace(/\s+/g," ").trim()}},{key:"attribs",value:function(){return{kind:this.kind,output:this.output,alpha:this.alpha,sigma:this.sigma,delta:this.delta,power:this.power,n:this.n,m:this.m,ci:this.ci,ciMode:this.ciMode,deltaMode:this.deltaMode}}},{key:"shallowClone",value:function(){return Object.assign(new e,this)}}]),e}();function IA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return"function"==typeof r&&t.pop(),Q(t,void 0).lift(new jA(r))}var jA=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new DA(e,this.resultSelector))}}]),e}(),DA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,n),(i=t.call(this,e)).iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=o,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;u(e)?t.push(new FA(e)):t.push("function"==typeof e[j]?new NA(e[j]()):new LA(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){var i=e[r];if("function"==typeof i.hasValue&&!i.hasValue())return}for(var o=!1,a=[],s=0;s<t;s++){var u=e[s],l=u.next();if(u.hasCompleted()&&(o=!0),l.done)return void n.complete();a.push(l.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),o&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g),NA=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),FA=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:j,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),LA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var o;return _classCallCheck(this,n),(o=t.call(this,e)).parent=r,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return _createClass(n,[{key:j,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return L(this,this.observable,this,t)}}]),n}(V),VA=function(e){return e[e.X=0]="X",e[e.Y=1]="Y",e}({}),zA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(e){return this.getParam(e,VA.X)}},{key:"getYParam",value:function(e){return this.getParam(e,VA.Y)}},{key:"getPlotData",value:function(e){var t,n=this.getDataKey(e);return n&&(t=this.project.models.map((function(e){return e[n]}))),t}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"getNumModels",value:function(){return this.project.models.length}},{key:"getModelNames",value:function(){return this.project.models.map((function(e){return e.name}))}},{key:"updateModel",value:function(e,t,n){return this.project.updateModel(e,t,n)}},{key:"getParam",value:function(e,t){var n,r=this.project.getModel(this.project.selectedIndex);return"n"==r.output||"nByCI"==r.output?t===VA.X?"top-left"==e||"top-left-export"==e?n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):t===VA.Y&&(n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}):"power"==r.output?t===VA.X?"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):t===VA.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):"delta"==r.output&&(t===VA.X?"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):t===VA.Y&&(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"})),n}},{key:"getDataKey",value:function(e){var t,n=this.project.getModel(this.project.selectedIndex);return"n"==n.output||"nByCI"==n.output?"top-left"==e||"top-left-export"==e?t="nVsPower":"top-right"!=e&&"top-right-export"!=e||(t="nVsDelta"):"power"==n.output?"top-left"==e||"top-left-export"==e?t="powerVsN":"top-right"!=e&&"top-right-export"!=e||(t="powerVsDelta"):"delta"==n.output&&("top-left"==e||"top-left-export"==e?t="deltaVsN":"top-right"!=e&&"top-right-export"!=e||(t="deltaVsPower")),t}}]),n}(dO),HA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(){return{name:"delta",range:this.project.pSpaceRange,title:"Detectable Alternative",sym:"\u03b4"}}},{key:"getGroups",value:function(){return this.project.models.map((function(e){var t=e.precisionRange();return{ci:{lower:t.min,upper:t.max},target:e.delta,sampDist:e.sampDist}}))}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"updateTargetValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"delta",e)}},{key:"updateCIValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"ci",e.upper-e.lower)}},{key:"setIntermediateCIValue",value:function(e){}}]),n}(EO),UA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ttestService=e,r.models=[],r.selectedIndex=0,r.changeHistory=[],r}return _createClass(n,[{key:"getOutput",value:function(){return this.models.length>0?this.models[0].output:""}},{key:"updatePlotData",value:function(){var e=this;return this.updatingPlotData.emit(),this.ttestService.plotData(this.models,{nRange:this.nRange,powerRange:this.powerRange,deltaRange:this.deltaRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(z((function(t){if(void 0===e.pointsPerPlot&&(e.pointsPerPlot=t.points),t.data.forEach((function(t,n){Object.assign(e.models[n],t)})),!e.customRanges){for(var n,r,i,o=e.getOutput(),a=0,s=e.models.length;a<s;a++){var u=e.models[a];switch(o){case"n":case"nByCI":(r=e.makeXRange(u.nVsPower,e.nRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(i=e.makeXRange(u.nVsDelta,e.nRange)).description="Detectable Alternative",0==a?e.deltaRange=i:e.deltaRange.combine(i);break;case"power":(n=e.makeXRange(u.powerVsN,e.powerRange)).description="Sample Size",0==a?e.nRange=n:e.nRange.combine(n);break;case"delta":(r=e.makeXRange(u.deltaVsPower,e.deltaRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(n=e.makeXRange(u.deltaVsN,e.deltaRange)).description="Sample Size",0==a?e.nRange=n:e.nRange.combine(n)}}e.previousRanges={nRange:e.nRange?e.nRange.clone():void 0,powerRange:e.powerRange?e.powerRange.clone():void 0,deltaRange:e.deltaRange?e.deltaRange.clone():void 0,pSpaceRange:e.pSpaceRange?e.pSpaceRange.clone():void 0}}})))}},{key:"resetRanges",value:function(){this.previousRanges&&Object.assign(this,this.previousRanges)}},{key:"addModel",value:function(e){var t=this;return this.ttestService.calculate(e).pipe(W((function(e){var n=new AA(e);return n.name=t.getModelName(t.models.length),t.models.push(n),t.customRanges||t.calculateRanges(),t.changeHistory.push({type:"add",index:t.models.length-1,params:n.attribs()}),t.updatePlotData()})))}},{key:"updateModel",value:function(e,t,n){var r=this,i=this.models[e],o=_defineProperty({},t,n);"output"!==t&&("nByCI"===i.output?"delta"===t?o.deltaMode=!0:"power"===t&&(o.deltaMode=!1):"n"!==this.models[0].output&&("ci"===t?o.ciMode=!0:"n"===t&&(o.ciMode=!1)));var a=[i];return"output"===t&&(a=this.models,this.customRanges=!1),a.forEach((function(e){Object.assign(e,o)})),IA.apply(void 0,_toConsumableArray(a.map((function(e,t){return r.ttestService.calculate(e).pipe(z((function(t){Object.assign(e,t)})))})))).pipe(W((function(){return r.customRanges||r.calculateRanges(),r.changeHistory.push({type:"change",index:e,key:t,params:i.attribs()}),r.updatePlotData()})))}},{key:"removeModel",value:function(e){return this.models.splice(e,1),this.changeHistory.push({type:"remove",index:e}),this.customRanges||this.calculateRanges(),this.updatePlotData()}},{key:"getModel",value:function(e){return this.models[e]}},{key:"modelCount",value:function(){return this.models.length}},{key:"calculateRanges",value:function(){for(var e,t=[],n=[],r=[],i=[],o=this.getOutput(),a=0,s=this.models.length;a<s;a++){var u=this.models[a];switch(o){case"n":case"nByCI":e=sO([.5*u.n,1.5*u.n],Kw),(0==a||e[0]<t[0])&&(t[0]=e[0]),(0==a||e[1]>t[1])&&(t[1]=e[1]);break;case"power":0==a&&(n=[.01,1]),e=sO([1.5*u.sigma,-1.5*u.sigma],Kw),(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1]);break;case"delta":e=sO([.5*u.delta,1.5*u.delta],Kw),(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1])}e=sO([1.5*u.sigma,-1.5*u.sigma],Kw),(0==a||e[0]<i[0])&&(i[0]=e[0]),(0==a||e[1]>i[1])&&(i[1]=e[1]),(e=[u.delta-u.ci/2,u.delta+u.ci/2])[0]<i[0]&&(i[0]=e[0]-Math.abs(.5*e[0])),e[1]>i[1]&&(i[1]=e[1]+Math.abs(.5*e[1]))}t.length>0?(this.nRange=new OA(t[0],t[1]),this.nRange.description="Sample Size"):this.nRange=void 0,n.length>0?(this.powerRange=new OA(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.deltaRange=new OA(r[0],r[1]),this.deltaRange.description="Detectable Alternative"):this.deltaRange=void 0,i.length>0?(this.pSpaceRange=new OA(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}},{key:"getLinePlotHandler",value:function(){return new zA(this)}},{key:"getCIPlotHandler",value:function(){return new HA(this)}},{key:"getSelectedIndex",value:function(){return this.selectedIndex}},{key:"getChangeHistory",value:function(){return this.changeHistory}},{key:"getModelCount",value:function(){return this.models.length}},{key:"getModelInterpretation",value:function(){return this.models[this.selectedIndex].interpretation()}},{key:"getModelOutput",value:function(){return this.models[this.selectedIndex].output}},{key:"getTopYRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":return this.nRange;case"power":return this.powerRange;case"delta":return this.deltaRange}}},{key:"setTopYRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":this.nRange=e;break;case"power":this.powerRange=e;break;case"delta":this.deltaRange=e}}},{key:"getTopLeftXRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":return this.powerRange;case"power":case"delta":return this.nRange}}},{key:"setTopLeftXRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":this.powerRange=e;break;case"power":case"delta":this.nRange=e}}},{key:"getTopRightXRange",value:function(){switch(this.getOutput()){case"n":case"nByCI":case"power":return this.deltaRange;case"delta":return this.powerRange}}},{key:"setTopRightXRange",value:function(e){switch(this.getOutput()){case"n":case"nByCI":case"power":this.deltaRange=e;break;case"delta":this.powerRange=e}}},{key:"getBottomXRange",value:function(){return this.pSpaceRange}},{key:"setBottomXRange",value:function(e){this.pSpaceRange=e}},{key:"isCITargetDraggable",value:function(){return"detAlt"===this.getModelOutput()}},{key:"isCIBoundsDraggable",value:function(){return"power"!==this.getModelOutput()}},{key:"describeChanges",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"add"==e.type?t="Added model #".concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"remove"==e.type?t="Removed model #".concat(e.index+1):"change"==e.type&&(t=n?'Changed <span class="code">'.concat(e.key,"</span> in model #").concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"Changed ".concat(e.key," in model #").concat(e.index+1,": ").concat(this.paramsToString(e.params))),t}},{key:"paramsToString",value:function(e){var t=[];for(var n in e)"ciMode"!=n&&"deltaMode"!=n&&t.push("string"==typeof e[n]?'"'.concat(n,'": "').concat(e[n],'"'):'"'.concat(n,'": ').concat(e[n]));return"{ ".concat(t.join(", ")," }")}},{key:"getModelName",value:function(e){switch(e){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return"Line ".concat(e+1)}},{key:"makeXRange",value:function(e,t){for(var n=0,r=e.length-1,i=0;i<e.length;i++)if("number"==typeof e[i].x&&e[i].y>=t.min){n=i;break}for(var o=e.length-1;o>=0;o--)if("number"==typeof e[o].x&&e[o].y<=t.max){r=o;break}var a=sO([e[n].x,e[r].x],Kw);return new OA(a[0],a[1])}}]),n}(Zw);function BA(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",33),za(2,"Difference in population means (\u03b4)"),na(),ta(3,"input",34),la("ngModelChange",(function(e){return Jt(n),fa(2).model.delta=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.delta)}}function qA(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",35),za(2," Power "),ra(3,"i",36),na(),ta(4,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(2).model.power=e})),na(),na()}if(2&e){var r=fa(2),i=Qo(34);Vr(3),Jo("ngbPopover",i),Vr(1),Jo("ngModel",r.model.power)}}function WA(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",38),za(2," Ratio of control/experimental subjects "),na(),ta(3,"input",39),la("ngModelChange",(function(e){return Jt(n),fa(2).model.m=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.m)}}function GA(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",40),za(2,"95% confidence interval width"),na(),ta(3,"input",41),la("ngModelChange",(function(e){return Jt(n),fa(2).model.ci=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.ci)}}function XA(e,t){if(1&e){var n=aa();ta(0,"input",49),la("ngModelChange",(function(e){return Jt(n),fa(3).model.n=e})),na()}2&e&&Jo("ngModel",fa(3).model.n)}function YA(e,t){if(1&e){var n=aa();ta(0,"input",50),la("ngModelChange",(function(e){return Jt(n),fa(3).model.ci=e})),na()}2&e&&Jo("ngModel",fa(3).model.ci)}function QA(e,t){if(1&e){var n=aa();ta(0,"div",42),ta(1,"label",43),ta(2,"input",44),la("ngModelChange",(function(e){return Jt(n),fa(2).model.ciMode=e})),na(),za(3," Sample size "),ra(4,"i",45),na(),ta(5,"label",43),ta(6,"input",46),la("ngModelChange",(function(e){return Jt(n),fa(2).model.ciMode=e})),na(),za(7," 95% confidence interval width "),na(),na(),ta(8,"div",24),Yo(9,XA,1,1,"input",47),Yo(10,YA,1,1,"input",48),na()}if(2&e){var r=fa(2),i=Qo(36);Vr(2),Jo("ngModel",r.model.ciMode)("value",!1),Vr(2),Jo("ngbPopover",i),Vr(2),Jo("ngModel",r.model.ciMode)("value",!0),Vr(3),Jo("ngIf",!r.model.ciMode),Vr(1),Jo("ngIf",r.model.ciMode)}}function $A(e,t){if(1&e){var n=aa();ta(0,"input",37),la("ngModelChange",(function(e){return Jt(n),fa(3).model.power=e})),na()}2&e&&Jo("ngModel",fa(3).model.power)}function ZA(e,t){if(1&e){var n=aa();ta(0,"input",34),la("ngModelChange",(function(e){return Jt(n),fa(3).model.delta=e})),na()}2&e&&Jo("ngModel",fa(3).model.delta)}function KA(e,t){if(1&e){var n=aa();ta(0,"div",42),ta(1,"label",43),ta(2,"input",51),la("ngModelChange",(function(e){return Jt(n),fa(2).model.deltaMode=e})),na(),za(3," Power "),ra(4,"i",36),na(),ta(5,"label",43),ta(6,"input",52),la("ngModelChange",(function(e){return Jt(n),fa(2).model.deltaMode=e})),na(),za(7," Difference in population means (\u03b4) "),na(),na(),ta(8,"div",24),Yo(9,$A,1,1,"input",53),Yo(10,ZA,1,1,"input",54),na()}if(2&e){var r=fa(2),i=Qo(34);Vr(2),Jo("ngModel",r.model.deltaMode)("value",!1),Vr(2),Jo("ngbPopover",i),Vr(2),Jo("ngModel",r.model.deltaMode)("value",!0),Vr(3),Jo("ngIf",!r.model.deltaMode),Vr(1),Jo("ngIf",r.model.deltaMode)}}function JA(e,t){if(1&e){var n=aa();ta(0,"div"),ta(1,"div",24),ta(2,"label",25),za(3," Type I Error (\u03b1) "),ra(4,"i",26),na(),ta(5,"input",27),la("ngModelChange",(function(e){return Jt(n),fa().model.alpha=e})),na(),na(),ta(6,"div",24),ta(7,"label",28),za(8," Standard deviation (\u03c3) "),ra(9,"i",29),na(),ta(10,"input",30),la("ngModelChange",(function(e){return Jt(n),fa().model.sigma=e})),na(),na(),Yo(11,BA,4,1,"div",31),Yo(12,qA,5,2,"div",31),Yo(13,WA,4,1,"div",31),Yo(14,GA,4,1,"div",31),Yo(15,QA,11,7,"ng-template",32),Yo(16,KA,11,7,"ng-template",32),na()}if(2&e){var r=fa(),i=Qo(30),o=Qo(32);Vr(4),Jo("ngbPopover",i),Vr(1),Jo("ngModel",r.model.alpha),Vr(4),Jo("ngbPopover",o),Vr(1),Jo("ngModel",r.model.sigma),Vr(1),Jo("ngIf",r.needDelta()),Vr(1),Jo("ngIf",r.needPower()),Vr(1),Jo("ngIf",r.needM()),Vr(1),Jo("ngIf",r.needCI()),Vr(1),Jo("ngIf",r.needNOrCI()),Vr(1),Jo("ngIf",r.needPowerOrDelta())}}function eI(e,t){if(1&e&&(ta(0,"div",55),ta(1,"button",56),za(2," Calculate "),na(),na()),2&e){fa();var n=Qo(2);Vr(1),Jo("disabled",!n.form.valid)}}function tI(e,t){1&e&&za(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis.\n")}function nI(e,t){1&e&&za(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs.\n")}function rI(e,t){1&e&&za(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function iI(e,t){1&e&&za(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}var oI,aI,sI=((aI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).route=e,i.ttestService=r,i}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe((function(t){e.kind=t.kind,e.model=new AA({kind:t.kind})}))}},{key:"onToggleHelp",value:function(){this.toggleHelp.emit()}},{key:"needDelta",value:function(){return"delta"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needPower",value:function(){return"power"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needPowerOrDelta",value:function(){return"nByCI"===this.model.output}},{key:"needCI",value:function(){return"nByCI"===this.model.output}},{key:"needNOrCI",value:function(){return"n"!==this.model.output&&"nByCI"!==this.model.output}},{key:"needM",value:function(){return this.model.kind===RA.Independent}},{key:"onSubmit",value:function(){var e=this,t=new UA(this.ttestService);t.addModel(this.model).subscribe((function(){e.calculate.emit(t)}))}},{key:"useExample",value:function(e){switch(e){case"power":this.model.output="power",this.model.alpha=.05,this.model.delta=5,this.model.sigma=10,this.model.n=33,this.kind==RA.Independent&&(this.model.m=2)}}},{key:"showCalculateButton",value:function(){return void 0!==this.model.output}}]),n}(Bw)).\u0275fac=function(e){return new(e||aI)($o(ug),$o(EA))},aI.\u0275cmp=gt({type:aI,selectors:[["t-test-start"]],features:[Xa],decls:37,vars:3,consts:[[1,"d-flex","flex-column","h-100"],[3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","t-test-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","t-test-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","power"],["id","t-test-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","n"],["value","delta"],["value","nByCI"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],["alphaHelp",""],["sigmaHelp",""],["powerHelp",""],["nHelp",""],[1,"form-group"],["for","t-test-start-alpha"],["aria-hidden","true","popoverTitle","Type I Error (\u03b1)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-sigma"],["aria-hidden","true","popoverTitle","Standard deviation (\u03c3)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-sigma","type","number","step","0.1","min","0.1","required","","name","sigma",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[3,"ngIf"],["for","t-test-start-delta"],["id","t-test-start-delta","type","number","step","0.1","required","","name","delta",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-power"],["aria-hidden","true","popoverTitle","Power","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-m"],["id","t-test-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-ci"],["id","t-test-start-ci","type","number","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["type","radio","name","ciMode","id","t-test-start-ciMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["aria-hidden","true","popoverTitle","Sample size","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["type","radio","name","ciMode","id","t-test-start-ciMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-n","type","number","min","1","required","","name","n",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",3,"ngModel","ngModelChange",4,"ngIf"],["id","t-test-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-delta","type","number","step","0.1","required","","name","delta",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(e,t){if(1&e){var n=aa();ta(0,"div",0),ta(1,"form",1,2),la("ngSubmit",(function(){return t.onSubmit()})),ta(3,"div",3),ta(4,"div",4),ta(5,"div",5),ta(6,"div",6),ta(7,"label",7),za(8," What do you want to know? "),ta(9,"button",8),la("click",(function(){return t.onToggleHelp()})),na(),na(),na(),ta(10,"div",9),ta(11,"select",10,11),la("change",(function(){Jt(n);var e=Qo(12);return t.useExample(e.value)})),ta(13,"option",12),za(14,"Use an example:"),na(),ta(15,"option",13),za(16,"Power"),na(),na(),na(),na(),ta(17,"select",14),la("ngModelChange",(function(e){return t.model.output=e})),ra(18,"option"),ta(19,"option",13),za(20,"Power"),na(),ta(21,"option",15),za(22,"Sample size"),na(),ta(23,"option",16),za(24,"Detectable alternative"),na(),ta(25,"option",17),za(26,"Sample size for 95% CI"),na(),na(),na(),Yo(27,JA,17,10,"div",18),na(),Yo(28,eI,3,1,"div",19),na(),na(),Yo(29,tI,1,0,"ng-template",null,20,Au),Yo(31,nI,1,0,"ng-template",null,21,Au),Yo(33,rI,1,0,"ng-template",null,22,Au),Yo(35,iI,1,0,"ng-template",null,23,Au)}2&e&&(Vr(17),Jo("ngModel",t.model.output),Vr(10),Jo("ngIf",t.model.output),Vr(1),Jo("ngIf",t.showCalculateButton()))},directives:[yb,r_,lb,A_,L_,R_,bb,n_,mb,zc,ww,__,Xy,w_],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),aI),uI=((oI=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return Math.ceil(e)}}]),e}()).\u0275fac=function(e){return new(e||oI)},oI.\u0275pipe=Ct({name:"ceil",type:oI,pure:!0}),oI);function lI(e,t){if(1&e){var n=aa();ta(0,"div",13),ta(1,"div",14),ta(2,"label",15),za(3,"Name:"),na(),ta(4,"input",16),la("ngModelChange",(function(e){return Jt(n),fa().model.name=e})),na(),na(),ta(5,"button",17),la("click",(function(){return Jt(n),fa().onRemoveButtonClicked()})),ra(6,"i",18),za(7," Remove "),na(),na()}if(2&e){var r=fa();Vr(2),ya("for","t-test-project-",r.name,"-model-",r.index,"-name"),Vr(2),ya("id","t-test-project-",r.name,"-model-",r.index,"-name"),Jo("ngModel",r.model.name)}}function cI(e,t){1&e&&za(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis. ")}function hI(e,t){1&e&&za(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs. ")}function fI(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"div",2),ta(2,"app-range-slider",19),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("m",e)})),ou(3,"round"),na(),na(),na()}if(2&e){var r=fa();Vr(2),Jo("min",r.min.m)("max",r.max.m)("hard-min",.01)("ngModel",au(3,4,r.model.m))}}function dI(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"div",2),ta(2,"app-range-slider",20),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("delta",e)})),ou(3,"round"),na(),na(),na(),ta(4,"div",1),ta(5,"div",2),ta(6,"app-range-slider",21),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("power",e)})),ou(7,"round"),na(),na(),na(),ta(8,"div",1),ta(9,"div",2),ta(10,"app-range-slider",22),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("n",e)})),ou(11,"ceil"),na(),ta(12,"app-range-slider",23),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("ci",e)})),ou(13,"round"),na(),na(),na()}if(2&e){var r=fa(),i=Qo(15),o=Qo(17),a=Qo(19),s=Qo(21);Ma("output",r.isOutput("delta")),Vr(2),Jo("min",r.min.delta)("max",r.max.delta)("is-output","delta"==r.model.output)("help-tpl",i)("ngModel",su(3,30,r.model.delta,1)),Vr(2),Ma("output",r.isOutput("power")),Vr(2),Jo("min",r.min.power)("max",r.max.power)("hard-min",r.min.power)("hard-max",r.max.power)("is-output","power"==r.model.output)("help-tpl",o)("ngModel",au(7,33,r.model.power)),Vr(2),Ma("output",r.isOutput("n")),Vr(2),Jo("min",r.min.n)("max",r.max.n)("hard-min",1)("is-output","n"==r.model.output)("help-tpl",a)("ngModel",au(11,35,r.model.n)),Vr(2),Jo("min",r.min.ci)("max",r.max.ci)("hard-min",1)("is-output","n"==r.model.output)("help-tpl",s)("ngModel",su(13,37,r.model.ci,1))}}function pI(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"div",2),ta(2,"app-range-slider",24),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("ci",e)})),ou(3,"round"),na(),na(),na(),ta(4,"div",25),ta(5,"div",2),ta(6,"app-range-slider",22),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("n",e)})),ou(7,"ceil"),na(),na(),na(),ta(8,"div",26),ta(9,"div",2),ta(10,"app-range-slider",27),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("delta",e)})),ou(11,"round"),na(),ta(12,"app-range-slider",21),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("power",e)})),ou(13,"round"),na(),na(),na()}if(2&e){var r=fa(),i=Qo(21),o=Qo(19),a=Qo(15),s=Qo(17);Vr(2),Jo("min",r.min.ci)("max",r.max.ci)("help-tpl",i)("ngModel",su(3,21,r.model.ci,1)),Vr(4),Jo("min",r.min.n)("max",r.max.n)("hard-min",1)("is-output",!0)("help-tpl",o)("ngModel",au(7,24,r.model.n)),Vr(4),Jo("min",r.min.delta)("max",r.max.delta)("help-tpl",a)("ngModel",su(11,26,r.model.delta,1)),Vr(2),Jo("min",r.min.power)("max",r.max.power)("hard-min",r.min.power)("hard-max",r.max.power)("is-output","power"==r.model.output)("help-tpl",s)("ngModel",au(13,29,r.model.power))}}function vI(e,t){1&e&&za(0," Delta (\u03b4) is the difference in population means under the alternative hypothesis.\n")}function gI(e,t){1&e&&za(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function mI(e,t){1&e&&za(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}function yI(e,t){1&e&&za(0," Specifying the 95% confidence interval width will automatically calculate the sample size parameter.\n")}var _I,bI=((_I=function(){function e(t,n){_classCallCheck(this,e),this.plotOptions=t,this.palette=n,this.modelChanged=new cu,this.remove=new cu}return _createClass(e,[{key:"ngOnInit",value:function(){this.model=this.project.getModel(this.index),this.min=new AA(this.model),this.max=new AA(this.model),this.calculateAlphaRange(),this.min.power=.01,this.max.power=.99,this.calculateSliderRange("n"),this.calculateSliderRange("ci"),this.calculateSliderRange("delta"),this.calculateSliderRange("sigma"),this.model.kind===RA.Independent&&this.calculateSliderRange("m"),this.color=this.palette.getColor(this.index,this.plotOptions.paletteTheme)}},{key:"isOutput",value:function(e){return this.model.output===e}},{key:"changeModel",value:function(e,t){var n=this;this.project.updateModel(this.index,e,t).subscribe((function(){"alpha"==e&&n.calculateAlphaRange(),n.adjustMinMax(),n.modelChanged.emit()}))}},{key:"onRemoveButtonClicked",value:function(){this.remove.emit()}},{key:"adjustMinMax",value:function(){this.model.sigma<this.min.sigma?this.min.sigma=Math.floor(this.model.sigma):this.model.sigma>this.max.sigma&&(this.max.sigma=Math.ceil(this.model.sigma)),this.model.delta<this.min.delta?this.min.delta=Math.floor(this.model.delta):this.model.delta>this.max.delta&&(this.max.delta=Math.ceil(this.model.delta)),this.model.n<this.min.n?this.min.n=Math.floor(this.model.n):this.model.n>this.max.n&&(this.max.n=Math.ceil(this.model.n)),this.model.ci<this.min.ci?this.min.ci=Math.floor(this.model.ci):this.model.ci>this.max.ci&&(this.max.ci=Math.ceil(this.model.ci))}},{key:"calculateAlphaRange",value:function(){var e=Math.floor(Math.log10(this.model.alpha));e>-2&&(e=-2),this.min.alpha=Math.pow(10,e),this.max.alpha=1-this.min.alpha}},{key:"calculateSliderRange",value:function(e){var t=this.model[e],n=sO([.5*t,1.5*t],Kw);this.min[e]=n[0],this.max[e]=n[1]}}]),e}()).\u0275fac=function(e){return new(e||_I)($o(uO),$o(lO))},_I.\u0275cmp=gt({type:_I,selectors:[["t-test-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:22,vars:19,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","step","hard-min","hard-min-inclusive","hard-max","hard-max-inclusive","ngModel","ngModelChange"],["rsHelp",""],["name","sigma","label","Std. deviation (\u03c3)","step","0.1",3,"min","max","hard-min","ngModel","ngModelChange"],["class","grow-horiz",4,"ngIf"],[3,"ngIf","ngIfElse"],["nByCI",""],["deltaHelp",""],["powerHelp",""],["nHelp",""],["ciHelp",""],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["name","m","label","Ratio of control/experimental subjects",3,"min","max","hard-min","ngModel","ngModelChange"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","is-output","help-tpl","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","help-tpl","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"],[1,"grow-horiz","output"],[1,"grow-horiz","order-2","alt"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"]],template:function(e,t){if(1&e&&(Yo(0,lI,8,5,"div",0),ta(1,"div",1),ta(2,"div",2),ta(3,"app-range-slider",3),la("ngModelChange",(function(e){return t.changeModel("alpha",e)})),Yo(4,cI,1,0,"ng-template",4),na(),na(),na(),ta(5,"div",1),ta(6,"div",2),ta(7,"app-range-slider",5),la("ngModelChange",(function(e){return t.changeModel("sigma",e)})),ou(8,"round"),Yo(9,hI,1,0,"ng-template",4),na(),na(),na(),Yo(10,fI,4,6,"div",6),Yo(11,dI,14,40,"ng-template",7),Yo(12,pI,14,31,"ng-template",null,8,Au),Yo(14,vI,1,0,"ng-template",null,9,Au),Yo(16,gI,1,0,"ng-template",null,10,Au),Yo(18,mI,1,0,"ng-template",null,11,Au),Yo(20,yI,1,0,"ng-template",null,12,Au)),2&e){var n=Qo(13);Jo("ngIf",t.project.models.length>1),Vr(3),Jo("min",t.min.alpha)("max",t.max.alpha)("step",t.min.alpha)("hard-min",0)("hard-min-inclusive",!1)("hard-max",1)("hard-max-inclusive",!1)("ngModel",t.model.alpha),Vr(4),Jo("min",t.min.sigma)("max",t.max.sigma)("hard-min",1)("ngModel",su(8,16,t.model.sigma,1)),Vr(3),Jo("ngIf","ind"==t.model.kind),Vr(1),Jo("ngIf",!t.isOutput("nByCI"))("ngIfElse",n)}},directives:[zc,sA,n_,mb,aA,Xy],pipes:[uA,uI],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),_I),kI=["tabset"];function wI(e,t){if(1&e){var n=aa();ta(0,"li",16),ta(1,"a",17),la("click",(function(){Jt(n);var e=t.index;return fa(3).selectModel(e)})),ra(2,"i",18),na(),na()}if(2&e){var r=t.index,i=fa(3);Vr(1),Ma("active",r==i.project.selectedIndex),Vr(1),Ta("color",i.getColor(r))}}function CI(e,t){if(1&e&&(ta(0,"ul",14),Yo(1,wI,3,4,"li",15),na()),2&e){var n=fa(2);Vr(1),Jo("ngForOf",n.project.models)("ngForTrackBy",n.trackByIndex)}}function xI(e,t){if(1&e){var n=aa();ta(0,"div",19),ta(1,"t-test-project-model",20),la("modelChanged",(function(){return Jt(n),fa(2).onModelChanged()}))("remove",(function(){Jt(n);var e=t.index;return fa(2).onModelRemove(e)})),na(),na()}if(2&e){var r=t.index,i=fa(2);Ma("active",r==i.project.selectedIndex)("tab",i.project.models.length>1),Vr(1),Jo("project",i.project)("index",r)}}function SI(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"div",2),ta(2,"div",3),ta(3,"label",4),za(4,"Output:"),na(),ta(5,"select",5),la("ngModelChange",(function(e){return Jt(n),fa().changeOutput(e)})),ta(6,"option",6),za(7,"Power"),na(),ta(8,"option",7),za(9,"Sample size"),na(),ta(10,"option",8),za(11,"Detectable alternative"),na(),ta(12,"option",9),za(13,"Sample size for 95% CI"),na(),na(),na(),ta(14,"button",10),la("click",(function(){return Jt(n),fa().addModel()})),ra(15,"i",11),za(16," Add line "),na(),na(),Yo(17,CI,2,2,"ul",12),Yo(18,xI,2,6,"div",13),na()}if(2&e){var r=fa();Vr(3),ma("for","t-test-project-",r.name,"-output"),Vr(2),ma("id","t-test-project-",r.name,"-output"),Jo("ngModel",r.project.getOutput()),Vr(12),Jo("ngIf",r.project.models.length>1),Vr(1),Jo("ngForOf",r.project.models)}}var TI,MI,PI,EI,OI=((TI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).projectService=e,s.plotOptions=r,s.palette=i,s.router=o,s.route=a,s}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;IA(this.route.data,this.route.paramMap).subscribe((function(t){var n=t[0].type,r=t[1].get("id");if(r){var i=parseInt(r)-1;e.name="".concat(i),e.project=e.projectService.getProject(n,i)}else e.project=void 0;e.project?e.selectedModel=e.project.getModel(e.project.selectedIndex):(e.selectedModel=void 0,e.router.navigate([".."],{relativeTo:e.route})),e.projectSwitched.emit(e.project)}))}},{key:"changeOutput",value:function(e){var t=this;this.project.updateModel(0,"output",e).subscribe((function(){t.projectChanged.emit()}))}},{key:"selectModel",value:function(e){this.project.selectedIndex=e,this.selectedModel=this.project.getModel(e),this.projectChanged.emit()}},{key:"addModel",value:function(){var e=this,t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe((function(){e.project.selectedIndex=e.project.models.length-1,e.projectChanged.emit()}))}},{key:"onModelRemove",value:function(e){this.removeModel(e)}},{key:"removeModel",value:function(e){var t=this;this.project.removeModel(e).subscribe((function(){t.project.selectedIndex>=t.project.models.length&&t.project.selectedIndex--,t.projectChanged.emit()}))}},{key:"onModelChanged",value:function(){this.projectChanged.emit()}},{key:"trackByIndex",value:function(e,t){return e}},{key:"getColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}}]),n}(qw)).\u0275fac=function(e){return new(e||TI)($o(zw),$o(uO),$o(lO),$o(ym),$o(ug))},TI.\u0275cmp=gt({type:TI,selectors:[["t-test-project"]],viewQuery:function(e,t){var n;1&e&&Cu(kI,!0),2&e&&ku(n=Pu())&&(t.tabset=n.first)},features:[Xa],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","n"],["value","delta"],["value","nByCI"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(e,t){1&e&&Yo(0,SI,19,5,"div",0),2&e&&Jo("ngIf",t.project)},directives:[zc,R_,n_,mb,A_,L_,Lc,bI],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),TI),RI=[{path:"t-test/paired",component:PA,data:{type:Uw.TTestPaired},children:[{path:"",component:sI,data:{kind:RA.Paired}},{path:":id",component:OI,data:{type:Uw.TTestPaired}}]},{path:"t-test/ind",component:PA,data:{type:Uw.TTestIndependent},children:[{path:"",component:sI,data:{kind:RA.Independent}},{path:":id",component:OI,data:{type:Uw.TTestIndependent}}]},{path:"z-test",component:PA,data:{type:Uw.ZTest},children:[{path:"",component:sI,data:{kind:RA.ZTest}},{path:":id",component:OI,data:{type:Uw.ZTest}}]}],AI=((MI=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:MI}),MI.\u0275inj=ve({factory:function(e){return new(e||MI)},providers:[EA],imports:[[th,wb,Ny,Lw,zm.forChild(RI),Vw]]}),MI),II=((PI={}).SampleSize="sampleSize",PI.Power="power",PI.DetectableAlternative="detAlt",PI),jI=function(e){return e.Lower="lower",e.Upper="upper",e}({}),DI=function(e){return e.Matched="matched",e.Independent="independent",e}({}),NI=function(e){return e.CaseControl="caseControl",e.Prospective="prospective",e}({}),FI=function(e){return e.ChiSquare="chiSquare",e.Fishers="fishers",e}({}),LI=function(e){return e.FailureRates="failureRates",e.RelativeRisk="relativeRisk",e.TwoProportions="twoProportions",e.OddsRatio="oddsRatio",e}({}),VI=function(){function e(t){_classCallCheck(this,e),t&&(this.name=t.name,this.output=t.output,this.matched=t.matched,this.case=t.case,this.method=t.method,this.expressed=t.expressed,this.alpha=t.alpha,this.power=t.power,this.phi=t.phi,this.p0=t.p0,this.p1=t.p1,this.p1Alt=t.p1Alt,this.r=t.r,this.rAlt=t.rAlt,this.n=t.n,this.m=t.m,this.psi=t.psi,this.psiAlt=t.psiAlt,this.ci=t.ci,this.ciAlt=t.ciAlt,this.detAltMode=t.detAltMode,this.ciMode=t.ciMode,this.sampleSizeVsPower=t.sampleSizeVsPower,this.sampleSizeVsDetAlt=t.sampleSizeVsDetAlt,this.powerVsSampleSize=t.powerVsSampleSize,this.powerVsDetAlt=t.powerVsDetAlt,this.detAltVsSampleSize=t.detAltVsSampleSize,this.detAltVsPower=t.detAltVsPower,this.sampDist=t.sampDist),null==this.detAltMode&&(this.detAltMode=jI.Upper)}return _createClass(e,[{key:"attribs",value:function(){return{output:this.output,matched:this.matched,case:this.case,method:this.method,expressed:this.expressed,alpha:this.alpha,power:this.power,phi:this.phi,p0:this.p0,p1:this.p1,p1Alt:this.p1Alt,r:this.r,rAlt:this.rAlt,n:this.n,m:this.m,psi:this.psi,psiAlt:this.psiAlt,ciMode:this.ciMode,ci:this.ci,detAltMode:this.detAltMode}}},{key:"shallowClone",value:function(){return Object.assign(new e,this)}},{key:"getDetAltParam",value:function(){var e="";if(this.matched==DI.Matched?e="psi":this.matched==DI.Independent&&(this.expressed==LI.TwoProportions?e="p1":this.expressed==LI.OddsRatio?e="psi":this.expressed==LI.RelativeRisk&&(e="r")),e.length>0&&this.detAltMode===jI.Lower){var t="".concat(e,"Alt");"number"==typeof this[t]&&(e=t)}return e}},{key:"getCITarget",value:function(){var e=NaN;if(this.matched===DI.Matched)e=this.output===II.DetectableAlternative&&this.detAltMode===jI.Lower?this.psiAlt:this.psi;else if(this.matched===DI.Independent){var t;t=this.output===II.DetectableAlternative&&this.detAltMode===jI.Lower?this.p1Alt:this.p1,this.expressed===LI.TwoProportions?e=t:this.expressed===LI.OddsRatio?e=Math.exp(Math.log(t)+Math.log(1-this.p0)-Math.log(this.p0)-Math.log(1-t)):this.expressed===LI.RelativeRisk&&(e=Math.exp(Math.log(t)-Math.log(this.p0)))}return e}},{key:"getCI",value:function(){return this.output===II.DetectableAlternative&&this.detAltMode===jI.Lower?this.ciAlt:this.ci}},{key:"interpretation",value:function(){var e,t,n,r,i,o,a,s="",u=this.alpha.toString(),l=this.power.toString(),c=this.m.toString(),h=this.n.toString(),f=Math.round(this.n*this.m).toString(),d=this.p0.toString();return this.p1&&(e=this.p1.toString()),this.p1Alt&&(t=this.p1Alt.toString()),this.phi&&(n=this.phi.toString()),this.psi&&(r=this.psi.toString()),this.psiAlt&&(i=this.psiAlt.toString()),this.r&&(o=this.r.toString()),this.rAlt&&(a=this.rAlt.toString()),this.matched===DI.Matched?this.output===II.SampleSize?s="\n          We are planning a study of matched sets of cases and controls with\n          ".concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is\n          ").concat(n,".  If the true odds ratio for disease in exposed subjects\n          relative to unexposed subjects is ").concat(r,", we will need to study ").concat(h,"\n          case patients with ").concat(c," matched control(s) per case to be able to\n          reject the null hypothesis that this odds ratio equals 1 with\n          probability (power) ").concat(l,".  The Type I error probability\n          associated with this test of this null hypothesis is ").concat(u,".\n        "):this.output===II.Power?s="\n          We are planning a study with ".concat(h," matched sets of cases and controls\n          and ").concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is ").concat(n,".\n          If the true odds ratio for disease in exposed subjects relative to\n          unexposed subjects is ").concat(r,", we will be able to reject the null\n          hypothesis that this odds ratio equals 1 with probability (power)\n          ").concat(l,". The Type I error probability associated with this test of this\n          null hypothesis is ").concat(u,".\n        "):this.output===II.DetectableAlternative&&(s="\n          We are planning a study with ".concat(h," matched sets of cases and controls\n          and ").concat(c," matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ").concat(d," and the correlation\n          coefficient for exposure between matched cases and controls is\n          ").concat(n,".  We will be able to detect true odds ratios for disease of\n          ").concat(i," or ").concat(r," in exposed subjects relative to unexposed\n          subjects with probability (power) ").concat(l,".  The Type I error\n          probability associated with this test of the null hypothesis that\n          this odds ratio equals 1 is ").concat(u,".\n        ")):this.matched===DI.Independent&&(this.case===NI.CaseControl?this.expressed===LI.TwoProportions?this.output===II.SampleSize?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ").concat(d,".  If the true\n              probability of exposure among cases is ").concat(e,", we will need to\n              study ").concat(h," case patients and ").concat(f," control patients to be able to\n              reject the null hypothesis that the exposure rates for case and\n              controls are equal with probability (power) ").concat(l,".  The Type I\n              error probability associated with this test of this null\n              hypothesis is ").concat(u,".\n            "):this.output===II.Power?s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ").concat(d,".  If the true probability of\n              exposure among cases is ").concat(e,", we will be able to reject the null\n              hypothesis that the exposure rates for case and controls are\n              equal with probability (power) ").concat(l,". The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===II.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ").concat(d,".  We will be able to detect true\n              probabilities of exposure among cases of ").concat(t," or ").concat(e," with\n              probability (power) ").concat(l,".  The Type I error probability\n              associated with this test of the null hypothesis that the\n              exposure rates for case and controls are equal is ").concat(u,".\n            ")):this.expressed===LI.OddsRatio&&(this.output===II.SampleSize?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ").concat(d,".  If the true\n              odds ratio for disease in exposed subjects relative to unexposed\n              subjects is ").concat(r,", we will need to study ").concat(h," case patients and\n              ").concat(f," control patients to be able to reject the null hypothesis\n              that this odds ratio equals 1 with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of this\n              null hypothesis is ").concat(u,".\n            "):this.output===II.Power?s="\n              We are planning a study with ".concat(h," case patients and ").concat(f," control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ").concat(d,".  If the true odds ratio for disease in\n              exposed subjects relative to unexposed subjects is ").concat(r,", we\n              will be able to reject the null hypothesis that this odds ratio\n              equals 1 with probability (power) ").concat(l,". The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===II.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," case patients and ").concat(f," control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ").concat(d,".  We will be able to detect true odds\n              ratios for disease of ").concat(i," or ").concat(r," in exposed subjects\n              relative to unexposed subjects with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of the\n              null hypothesis that this odds ratio equals 1 is ").concat(u,".\n            "))):this.case===NI.Prospective&&(this.expressed===LI.TwoProportions?this.output===II.SampleSize?s="\n              We are planning a study of independent cases and controls with ".concat(c,"\n              control(s) per case.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  If the true failure rate for experimental\n              subjects is ").concat(e,", we will need to study ").concat(h," experimental subjects\n              and ").concat(f," control subjects to be able to reject the null hypothesis\n              that the failure rates for experimental and control subjects are\n              equal with probability (power) ").concat(l,".  The Type I error\n              probability associated with this test of this null hypothesis is\n              ").concat(u,".\n            "):this.output===II.Power?s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  If the true failure rate for\n              experimental subjects is ").concat(e,", we will be able to reject the\n              null hypothesis that the failure rates for experimental and\n              control subjects are equal with probability (power) ").concat(l,". The\n              Type I error probability associated with this test of this null\n              hypothesis is ").concat(u,".\n            "):this.output===II.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  We will be able to detect true failure\n              rates of ").concat(t," or ").concat(e," in exposed subjects with probability (power)\n              ").concat(l,".  The Type I error probability associated with this test of\n              the null hypothesis that the failure rates for experimental and\n              control subjects are equal is ").concat(u,".\n            ")):this.expressed===LI.RelativeRisk&&(this.output===II.SampleSize||this.output===II.Power?s="\n              We are planning a study of independent cases and controls with\n              ".concat(c," control(s) per case.  Prior data indicate that the failure\n              rate among controls is ").concat(d,".  If the true relative risk of\n              failure for experimental subjects relative to controls is ").concat(o,",\n              we will need to study ").concat(h," experimental subjects and ").concat(f,"\n              control subjects to be able to reject the null hypothesis that\n              this relative risk equals 1 with probability (power) ").concat(l,".\n              The Type I error probability associated with this test of this\n              null hypothesis is ").concat(u,".\n            "):this.output===II.DetectableAlternative&&(s="\n              We are planning a study with ".concat(h," experimental subjects and ").concat(f,"\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ").concat(d,".  We will be able to detect true relative\n              risks of ").concat(a," or ").concat(o," in exposed subjects relative to unexposed\n              subjects with probability (power) ").concat(l,".  The Type I error\n              probability associated with this test of the null hypothesis that\n              this relative risk equals 1 is ").concat(u,".\n            ")))),this.method===FI.ChiSquare?s+="\n          We will use an uncorrected chi-squared statistic to evaluate\n          this null hypothesis.\n        ":this.method===FI.Fishers&&(s+="\n          We will use a continuity-corrected chi-squared statistic or\n          Fisher\u2019s exact test to evaluate this null hypothesis.\n        ")),s.replace(/\s+/g," ").trim()}}]),e}(),zI=((EI=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="".concat(Rl.apiUrl,"/dichot")}return _createClass(e,[{key:"calculate",value:function(e){var t="".concat(this.apiUrl,"/calc"),n=e.attribs(),r={headers:new Km({"Content-Type":"application/json"})};return this.http.post(t,n,r).pipe(Rp(this.handleError))}},{key:"plotData",value:function(e,t,n){var r="".concat(this.apiUrl,"/plotData"),i={models:e.map((function(e){return e.attribs()})),ranges:t};"number"==typeof n&&(i.points=n);var o={headers:new Km({"Content-Type":"application/json"})};return this.http.post(r,i,o).pipe(Rp(this.handleError))}},{key:"handleError",value:function(e,t){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code ".concat(e.status,", ")+"body was:",e.error),Db("Something bad happened; please try again later.")}}]),e}()).\u0275fac=function(e){return new(e||EI)(Ke(ky))},EI.\u0275prov=pe({token:EI,factory:EI.\u0275fac,providedIn:"root"}),EI),HI=function(e){return e[e.X=0]="X",e[e.Y=1]="Y",e}({}),UI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(e){return this.getParam(e,HI.X)}},{key:"getYParam",value:function(e){return this.getParam(e,HI.Y)}},{key:"getPlotData",value:function(e){var t,n=this.getDataKey(e);return n&&(t=this.project.models.map((function(e){return e[n]}))),t}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"getNumModels",value:function(){return this.project.models.length}},{key:"getModelNames",value:function(){return this.project.models.map((function(e){return e.name}))}},{key:"updateModel",value:function(e,t,n){return this.project.updateModel(e,t,n)}},{key:"getParam",value:function(e,t){var n,r=this.project.getModel(this.project.selectedIndex);if(r.output===II.SampleSize)if(t===HI.X){if("top-left"==e||"top-left-export"==e)n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"};else if("top-right"==e||"top-right-export"==e){var i=r.getDetAltParam(),o=this.getDetAltSym(i);n={name:i,range:this.project.detAltRange,target:r[i],title:"Detectable Alternative",sym:o}}}else t===HI.Y&&(n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"});else if(r.output===II.Power)if(t===HI.X){if("top-left"==e||"top-left-export"==e)n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"};else if("top-right"==e||"top-right-export"==e){var a=r.getDetAltParam(),s=this.getDetAltSym(a);n={name:a,range:this.project.detAltRange,target:r[a],title:"Detectable Alternative",sym:s}}}else t===HI.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(r.output===II.DetectableAlternative)if(t===HI.X)"top-left"==e||"top-left-export"==e?n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=e&&"top-right-export"!=e||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(t===HI.Y){var u=r.getDetAltParam(),l=this.getDetAltSym(u);n={name:u,range:this.project.detAltRange,target:r[u],title:"Detectable Alternative",sym:l}}return n}},{key:"getDataKey",value:function(e){var t,n=this.project.getModel(this.project.selectedIndex);return n.output===II.SampleSize?"top-left"==e||"top-left-export"==e?t="sampleSizeVsPower":"top-right"!=e&&"top-right-export"!=e||(t="sampleSizeVsDetAlt"):n.output===II.Power?"top-left"==e||"top-left-export"==e?t="powerVsSampleSize":"top-right"!=e&&"top-right-export"!=e||(t="powerVsDetAlt"):n.output===II.DetectableAlternative&&("top-left"==e||"top-left-export"==e?t="detAltVsSampleSize":"top-right"!=e&&"top-right-export"!=e||(t="detAltVsPower")),t}},{key:"getDetAltSym",value:function(e){switch(e){case"psi":case"psiAlt":return"\u03c8";case"p1":case"p1Alt":return"p\u2081";case"r":case"rAlt":return"R"}return""}}]),n}(dO),BI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).project=e,r}return _createClass(n,[{key:"getXParam",value:function(){var e,t=this.project.getDetAltParam();switch(t){case"psi":case"psiAlt":e={name:"psi",range:this.project.pSpaceRange,title:"Odds ratio of exposure (\u03c8)",sym:"\u03c8"};break;case"p1":case"p1Alt":e={name:"p1",range:this.project.pSpaceRange,title:"Probability of the outcome for an experimental patient (p\u2081)",sym:"p\u2081"};break;case"r":case"rAlt":e={name:"r",range:this.project.pSpaceRange,title:"Relative risk of failure for experimental subjects relative to controls (R)",sym:"R"};break;default:throw new Error("invalid param name: ".concat(t))}return e}},{key:"getGroups",value:function(){return this.project.models.map((function(e){var t=e.getCI();return{ci:{lower:t[0],upper:t[1],n:e.n},target:e.getCITarget(),sampDist:e.sampDist,ciValues:e.ciValues}}))}},{key:"getSelectedIndex",value:function(){return this.project.selectedIndex}},{key:"updateTargetValue",value:function(e){var t=this.project.getDetAltParam();return this.project.updateModel(this.project.selectedIndex,t,e)}},{key:"updateCIValue",value:function(e){return this.project.updateModel(this.project.selectedIndex,"n",e.n)}},{key:"setIntermediateCIValue",value:function(e){this.project.getModel(this.project.selectedIndex).n=e.n}}]),n}(EO),qI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).dichotService=e,r.models=[],r.selectedIndex=0,r.changeHistory=[],r.customRanges=!1,r.fixedPSpace=$w.Fixed,r}return _createClass(n,[{key:"getLinePlotHandler",value:function(){return new UI(this)}},{key:"getCIPlotHandler",value:function(){return new BI(this)}},{key:"getSelectedIndex",value:function(){return this.selectedIndex}},{key:"getChangeHistory",value:function(){return this.changeHistory}},{key:"getModelOutput",value:function(){return this.models[this.selectedIndex].output}},{key:"getModelInterpretation",value:function(){return this.models[this.selectedIndex].interpretation()}},{key:"getModelCount",value:function(){return this.models.length}},{key:"getTopYRange",value:function(){switch(this.getOutput()){case II.SampleSize:return this.sampleSizeRange;case II.Power:return this.powerRange;case II.DetectableAlternative:return this.detAltRange}}},{key:"setTopYRange",value:function(e){switch(this.getOutput()){case II.SampleSize:this.sampleSizeRange=e;break;case II.Power:this.powerRange=e;break;case II.DetectableAlternative:this.detAltRange=e}}},{key:"getTopLeftXRange",value:function(){switch(this.getOutput()){case II.SampleSize:return this.powerRange;case II.Power:case II.DetectableAlternative:return this.sampleSizeRange}}},{key:"setTopLeftXRange",value:function(e){switch(this.getOutput()){case II.SampleSize:this.powerRange=e;break;case II.Power:case II.DetectableAlternative:this.sampleSizeRange=e}}},{key:"getTopRightXRange",value:function(){switch(this.getOutput()){case II.SampleSize:case II.Power:return this.detAltRange;case II.DetectableAlternative:return this.powerRange}}},{key:"setTopRightXRange",value:function(e){switch(this.getOutput()){case II.SampleSize:case II.Power:this.detAltRange=e;break;case II.DetectableAlternative:this.powerRange=e}}},{key:"getBottomXRange",value:function(){return this.pSpaceRange}},{key:"setBottomXRange",value:function(e){this.pSpaceRange=e}},{key:"isCITargetDraggable",value:function(){return"delta"===this.getModelOutput()}},{key:"isCIBoundsDraggable",value:function(){return"n"===this.getModelOutput()}},{key:"getOutput",value:function(){if(this.models.length>0)return this.models[0].output}},{key:"getOutputString",value:function(){return this.models.length>0?this.models[0].output.toString():""}},{key:"getDetAltParam",value:function(){return this.models.length>0?this.models[0].getDetAltParam():""}},{key:"getMatched",value:function(){return this.models.length>0?this.models[0].matched.toString():""}},{key:"describeMatched",value:function(){if(this.models.length>0)switch(this.models[0].matched){case DI.Matched:return"Matched";case DI.Independent:return"Independent"}return""}},{key:"describeCase",value:function(){if(this.models.length>0)switch(this.models[0].case){case NI.CaseControl:return"Case control";case NI.Prospective:return"Prospective"}return""}},{key:"describeExpressed",value:function(){if(this.models.length>0)switch(this.models[0].expressed){case LI.FailureRates:return"Failure rates";case LI.RelativeRisk:return"Relative risk";case LI.TwoProportions:return"Two proportions";case LI.OddsRatio:return"Odds ratio"}return""}},{key:"describeMethod",value:function(){if(this.models.length>0)switch(this.models[0].method){case FI.ChiSquare:return"Uncorrected chi-square test";case FI.Fishers:return"Fisher's exact test"}return""}},{key:"getModel",value:function(e){return this.models[e]}},{key:"addModel",value:function(e){var t=this;return this.dichotService.calculate(e).pipe(W((function(e){var n=new VI(e);return n.name=t.getModelName(t.models.length),t.models.push(n),t.customRanges||t.calculateRanges(),t.changeHistory.push({type:"add",index:t.models.length-1,params:n.attribs()}),t.updatePlotData()})))}},{key:"updateModel",value:function(e,t,n){var r=this,i=this.models[e],o=_defineProperty({},t,n),a=[i];return"output"===t&&(a=this.models,this.customRanges=!1),"ci"===t?o.ciMode=!0:i.ciMode&&(o.ciMode=!1),a.forEach((function(e){Object.assign(e,o)})),IA.apply(void 0,_toConsumableArray(a.map((function(e,t){return r.dichotService.calculate(e).pipe(z((function(t){Object.assign(e,t)})))})))).pipe(W((function(){return r.customRanges||r.calculateRanges(),r.changeHistory.push({type:"change",index:e,key:t,params:i.attribs()}),r.updatePlotData()})))}},{key:"removeModel",value:function(e){return this.models.splice(e,1),this.changeHistory.push({type:"remove",index:e}),this.customRanges||this.calculateRanges(),this.updatePlotData()}},{key:"updatePlotData",value:function(){var e=this;return this.updatingPlotData.emit(),this.dichotService.plotData(this.models,{sampleSizeRange:this.sampleSizeRange,powerRange:this.powerRange,detAltRange:this.detAltRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(z((function(t){if(void 0===e.pointsPerPlot&&(e.pointsPerPlot=t.points),t.data.forEach((function(t,n){Object.assign(e.models[n],t)})),!e.customRanges){for(var n,r,i,o=e.getOutput(),a=0,s=e.models.length;a<s;a++){var u=e.models[a];switch(o){case II.SampleSize:(r=e.makeXRange(u.sampleSizeVsPower,e.sampleSizeRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(i=e.makeXRange(u.sampleSizeVsDetAlt,e.sampleSizeRange)).description="Detectable Alternative",0==a?e.detAltRange=i:e.detAltRange.combine(i);break;case II.Power:(n=e.makeXRange(u.powerVsSampleSize,e.powerRange)).description="Sample Size",0==a?e.sampleSizeRange=n:e.sampleSizeRange.combine(n),(i=e.makeXRange(u.powerVsDetAlt,e.sampleSizeRange)).description="Detectable Alternative",0==a?e.detAltRange=i:e.detAltRange.combine(i);break;case II.DetectableAlternative:(r=e.makeXRange(u.detAltVsPower,e.detAltRange)).description="Power",0==a?e.powerRange=r:e.powerRange.combine(r),(n=e.makeXRange(u.detAltVsSampleSize,e.detAltRange)).description="Sample Size",0==a?e.sampleSizeRange=n:e.sampleSizeRange.combine(n)}}e.previousRanges={sampleSizeRange:e.sampleSizeRange?e.sampleSizeRange.clone():void 0,powerRange:e.powerRange?e.powerRange.clone():void 0,detAltRange:e.detAltRange?e.detAltRange.clone():void 0,pSpaceRange:e.pSpaceRange?e.pSpaceRange.clone():void 0}}})))}},{key:"getModelName",value:function(e){switch(e){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return"Line ".concat(e+1)}},{key:"calculateRanges",value:function(){for(var e,t=[],n=[],r=[],i=[],o=this.getOutput(),a=0,s=this.models.length;a<s;a++){var u=this.models[a];switch(o){case II.SampleSize:e=sO([.5*u.n,1.5*u.n],Kw),(0==a||e[0]<t[0])&&(t[0]=e[0]),(0==a||e[1]>t[1])&&(t[1]=e[1]);break;case II.Power:0==a&&(n=[.01,1]);break;case II.DetectableAlternative:if(u.getDetAltParam(),u.case===NI.CaseControl)e=u.detAltMode===jI.Lower?[.1,.9]:[1.1,u.psi+(u.psi-1)];else if(u.expressed===LI.RelativeRisk)e=u.detAltMode===jI.Lower?[.1,.9]:[1.1,u.r+(u.r-1)];else if(u.expressed===LI.OddsRatio)e=u.detAltMode===jI.Lower?[.1,.9]:[1.1,u.psi+(u.psi-1)];else{var l=void 0;u.detAltMode===jI.Lower?(l=Math.pow(10,Math.floor(Math.log10(u.p0-u.p1Alt))),e=[u.p1Alt-l,u.p0-l]):(l=Math.pow(10,Math.floor(Math.log10(u.p1-u.p0))),e=[u.p0+l,u.p1+l])}(0==a||e[0]<r[0])&&(r[0]=e[0]),(0==a||e[1]>r[1])&&(r[1]=e[1])}var c=u.getCI();if(this.fixedPSpace!==$w.Fixed||u.matched!==DI.Matched&&u.expressed!==LI.RelativeRisk&&u.expressed!==LI.OddsRatio){var h=u.getCITarget(),f=3*Math.abs(c[1]-h);e=[c[0]-f,c[1]+f]}else{e=[0,7];var d=c[1]+1;d>e[1]&&(e[1]=d)}(0==a||e[0]<i[0])&&(i[0]=e[0]),(0==a||e[1]>i[1])&&(i[1]=e[1])}t.length>0?(this.sampleSizeRange=new OA(t[0],t[1]),this.sampleSizeRange.description="Sample Size"):this.sampleSizeRange=void 0,n.length>0?(this.powerRange=new OA(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.detAltRange=new OA(r[0],r[1]),this.detAltRange.description="Detectable Alternative"):this.detAltRange=void 0,i.length>0?(this.pSpaceRange=new OA(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}},{key:"makeXRange",value:function(e,t){for(var n=0,r=e.length-1,i=sO(e,(function(e,t){return e.x-t.x})),o=0;o<i.length;o++)if("number"==typeof i[o].x&&i[o].y>=t.min){n=o;break}for(var a=i.length-1;a>=0;a--)if("number"==typeof i[a].x&&i[a].y<=t.max){r=a;break}var s=sO([i[n].x,i[r].x],Kw);return new OA(s[0],s[1])}},{key:"paramsToString",value:function(e){var t=[];for(var n in e)"ciMode"!=n&&"deltaMode"!=n&&t.push("string"==typeof e[n]?'"'.concat(n,'": "').concat(e[n],'"'):'"'.concat(n,'": ').concat(e[n]));return"{ ".concat(t.join(", ")," }")}},{key:"describeChanges",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"add"==e.type?t="Added model #".concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"remove"==e.type?t="Removed model #".concat(e.index+1):"change"==e.type&&(t=n?'Changed <span class="code">'.concat(e.key,"</span> in model #").concat(e.index+1,': <span class="code">').concat(this.paramsToString(e.params),"</span>"):"Changed ".concat(e.key," in model #").concat(e.index+1,": ").concat(this.paramsToString(e.params))),t}},{key:"resetRanges",value:function(){this.previousRanges&&Object.assign(this,this.previousRanges)}}]),n}(Zw);function WI(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",25),za(2," Matched or independent? "),ra(3,"i",26),na(),ta(4,"select",27),la("ngModelChange",(function(e){return Jt(n),fa().model.matched=e})),ra(5,"option"),ta(6,"option",28),za(7,"Independent"),na(),na(),na()}if(2&e){var r=fa(),i=Qo(36);Vr(3),Jo("ngbPopover",i),Vr(1),Jo("ngModel",r.model.matched)}}function GI(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",29),za(2,"Case control?"),na(),ta(3,"select",30),la("ngModelChange",(function(e){return Jt(n),fa().model.case=e})),ra(4,"option"),ta(5,"option",31),za(6,"Case control"),na(),ta(7,"option",32),za(8,"Prospective"),na(),na(),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.model.case)}}function XI(e,t){1&e&&(ta(0,"option",38),za(1,"Odds ratio"),na())}function YI(e,t){1&e&&(ta(0,"option",39),za(1,"Relative risk"),na())}function QI(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",33),za(2,"How is the alternative hypothesis expressed?"),na(),ta(3,"select",34),la("ngModelChange",(function(e){return Jt(n),fa().model.expressed=e})),ra(4,"option"),ta(5,"option",35),za(6,"Two proportions"),na(),Yo(7,XI,2,0,"option",36),Yo(8,YI,2,0,"option",37),na(),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.model.expressed),Vr(4),Jo("ngIf","caseControl"==r.model.case),Vr(1),Jo("ngIf","prospective"==r.model.case)}}function $I(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",40),za(2,"Uncorrected chi-square or Fisher's exact test?"),na(),ta(3,"select",41),la("ngModelChange",(function(e){return Jt(n),fa().model.method=e})),ra(4,"option"),ta(5,"option",42),za(6,"Uncorrected chi-square test"),na(),ta(7,"option",43),za(8,"Fisher's exact test"),na(),na(),na()}if(2&e){var r=fa();Vr(3),Jo("ngModel",r.model.method)}}function ZI(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",50),za(2," Power "),na(),ta(3,"input",51),la("ngModelChange",(function(e){return Jt(n),fa(2).model.power=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.power)}}function KI(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",52),za(2," Sample size ("),ta(3,"i"),za(4,"n"),na(),za(5,") "),na(),ta(6,"input",53),la("ngModelChange",(function(e){return Jt(n),fa(2).model.n=e})),na(),na()}if(2&e){var r=fa(2);Vr(6),Jo("ngModel",r.model.n)}}function JI(e,t){1&e&&(ta(0,"label",54),za(1," Probability of exposure in controls ("),ta(2,"i"),za(3,"p"),ta(4,"sub"),za(5,"0"),na(),na(),za(6,") "),na())}function ej(e,t){1&e&&(ta(0,"label",54),za(1," Probability of the outcome for a control patient ("),ta(2,"i"),za(3,"p"),ta(4,"sub"),za(5,"0"),na(),na(),za(6,") "),na())}function tj(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",55),za(2," Probability of the outcome for an experimental patient ("),ta(3,"i"),za(4,"p"),ta(5,"sub"),za(6,"1"),na(),na(),za(7,") "),na(),ta(8,"input",56),la("ngModelChange",(function(e){return Jt(n),fa(2).model.p1=e})),na(),na()}if(2&e){var r=fa(2);Vr(8),Jo("ngModel",r.model.p1)}}function nj(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",57),za(2," Relative risk of failure for experimental subjects relative to controls ("),ta(3,"i"),za(4,"R"),na(),za(5,") "),na(),ta(6,"input",58),la("ngModelChange",(function(e){return Jt(n),fa(2).model.r=e})),na(),na()}if(2&e){var r=fa(2);Vr(6),Jo("ngModel",r.model.r)}}function rj(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",59),za(2," Correlation coefficient for exposure (\u03c6) "),na(),ta(3,"input",60),la("ngModelChange",(function(e){return Jt(n),fa(2).model.phi=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.phi)}}function ij(e,t){if(1&e){var n=aa();ta(0,"div",24),ta(1,"label",61),za(2," Odds ratio of exposure (\u03c8) "),na(),ta(3,"input",62),la("ngModelChange",(function(e){return Jt(n),fa(2).model.psi=e})),na(),na()}if(2&e){var r=fa(2);Vr(3),Jo("ngModel",r.model.psi)}}function oj(e,t){if(1&e){var n=aa();ta(0,"div"),ta(1,"div",24),ta(2,"label",44),za(3," Type I Error (\u03b1) "),na(),ta(4,"input",45),la("ngModelChange",(function(e){return Jt(n),fa().model.alpha=e})),na(),na(),Yo(5,ZI,4,1,"div",20),Yo(6,KI,7,1,"div",20),ta(7,"div",24),Yo(8,JI,7,0,"label",46),Yo(9,ej,7,0,"label",46),ta(10,"input",47),la("ngModelChange",(function(e){return Jt(n),fa().model.p0=e})),na(),na(),Yo(11,tj,9,1,"div",20),ta(12,"div",24),ta(13,"label",48),za(14," Ratio of control/experimental subjects ("),ta(15,"i"),za(16,"m"),na(),za(17,") "),na(),ta(18,"input",49),la("ngModelChange",(function(e){return Jt(n),fa().model.m=e})),na(),na(),Yo(19,nj,7,1,"div",20),Yo(20,rj,4,1,"div",20),Yo(21,ij,4,1,"div",20),na()}if(2&e){var r=fa();Vr(4),Jo("ngModel",r.model.alpha),Vr(1),Jo("ngIf","power"!=r.model.output),Vr(1),Jo("ngIf","sampleSize"!=r.model.output),Vr(2),Jo("ngIf","caseControl"==r.model.case),Vr(1),Jo("ngIf","prospective"==r.model.case),Vr(1),Jo("ngModel",r.model.p0),Vr(1),Jo("ngIf","detAlt"!=r.model.output&&"independent"==r.model.matched&&"twoProportions"==r.model.expressed),Vr(7),Jo("ngModel",r.model.m),Vr(1),Jo("ngIf","detAlt"!=r.model.output&&"independent"==r.model.matched&&"prospective"==r.model.case&&"relativeRisk"==r.model.expressed),Vr(1),Jo("ngIf","matched"==r.model.matched),Vr(1),Jo("ngIf","detAlt"!=r.model.output&&("matched"==r.model.matched||"caseControl"==r.model.case&&"oddsRatio"==r.model.expressed))}}function aj(e,t){if(1&e&&(ta(0,"div",63),ta(1,"button",64),za(2," Calculate "),na(),na()),2&e){fa();var n=Qo(2);Vr(1),Jo("disabled",!n.form.valid)}}function sj(e,t){1&e&&(za(0," Matched mode is temporarily disabled due to a calculation problem. Please use the "),ta(1,"a",65),za(2,"original PS program"),na(),za(3," for matched mode.\n"))}var uj=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).route=e,i.dichotService=r,i}return _createClass(n,[{key:"ngOnInit",value:function(){this.model=new VI}},{key:"onSubmit",value:function(){var e=this,t=new qI(this.dichotService);t.addModel(this.model).subscribe((function(){e.calculate.emit(t)}))}},{key:"onToggleHelp",value:function(){this.toggleHelp.emit()}},{key:"useExample",value:function(e){switch(e){case"ind-1":this.model.output=II.Power,this.model.matched=DI.Independent,this.model.case=NI.Prospective,this.model.expressed=LI.TwoProportions,this.model.method=FI.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.p1=.5,this.model.m=1;break;case"ind-2":this.model.output=II.Power,this.model.matched=DI.Independent,this.model.case=NI.Prospective,this.model.expressed=LI.RelativeRisk,this.model.method=FI.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.r=.5,this.model.m=1;break;case"ind-3":this.model.output=II.Power,this.model.matched=DI.Independent,this.model.case=NI.CaseControl,this.model.expressed=LI.OddsRatio,this.model.method=FI.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.psi=.5,this.model.m=1}}},{key:"showCalculateButton",value:function(){return void 0!==this.model.output&&(this.model.matched===DI.Matched&&void 0!==this.model.case||this.model.matched===DI.Independent&&void 0!==this.model.case&&void 0!==this.model.expressed&&void 0!==this.model.method)}}]),n}(Bw);return e.\u0275fac=function(t){return new(t||e)($o(ug),$o(zI))},e.\u0275cmp=gt({type:e,selectors:[["dichot-start"]],features:[Xa],decls:37,vars:7,consts:[[1,"d-flex","flex-column","h-100"],[1,"h-100",3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","dichot-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","dichot-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","ind-1"],["value","ind-2"],["value","ind-3"],["id","dichot-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["class","form-group",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],["matchedHelp",""],[1,"form-group"],["for","dichot-start-matched"],["aria-hidden","true","popoverTitle","Matched or Independent","placement","right","triggers","hover","container","body","closeDelay","3000",1,"fa","fa-info-circle",3,"ngbPopover"],["id","dichot-start-matched","required","","name","matched",1,"form-control",3,"ngModel","ngModelChange"],["value","independent"],["for","dichot-start-case"],["id","dichot-start-case","required","","name","case",1,"form-control",3,"ngModel","ngModelChange"],["value","caseControl"],["value","prospective"],["for","dichot-start-expressed"],["id","dichot-start-expressed","required","","name","expressed",1,"form-control",3,"ngModel","ngModelChange"],["value","twoProportions"],["value","oddsRatio",4,"ngIf"],["value","relativeRisk",4,"ngIf"],["value","oddsRatio"],["value","relativeRisk"],["for","dichot-start-method"],["id","dichot-start-method","required","","name","method",1,"form-control",3,"ngModel","ngModelChange"],["value","chiSquare"],["value","fishers"],["for","dichot-start-alpha"],["id","dichot-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0",4,"ngIf"],["id","dichot-start-p0","type","number","min","0.01","required","","name","p0",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-m"],["id","dichot-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-power"],["id","dichot-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-n"],["id","dichot-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0"],["for","dichot-start-p1"],["id","dichot-start-p1","type","number","min","0.01","required","","name","p1",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-r"],["id","dichot-start-r","type","number","min","0.01","required","","name","r",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-phi"],["id","dichot-start-phi","type","number","min","0","required","","name","phi",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-psi"],["id","dichot-start-psi","type","number","min","0","required","","name","psi",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"],["href","https://biostat.app.vumc.org/wiki/Main/PowerSampleSize"]],template:function(e,t){if(1&e){var n=aa();ta(0,"div",0),ta(1,"form",1,2),la("ngSubmit",(function(){return t.onSubmit()})),ta(3,"div",3),ta(4,"div",4),ta(5,"div",5),ta(6,"div",6),ta(7,"label",7),za(8," What do you want to know? "),ta(9,"button",8),la("click",(function(){return t.onToggleHelp()})),na(),na(),na(),ta(10,"div",9),ta(11,"select",10,11),la("change",(function(){Jt(n);var e=Qo(12);return t.useExample(e.value)})),ta(13,"option",12),za(14,"Use an example:"),na(),ta(15,"option",13),za(16,"Indep. / Prospective / Two Prop."),na(),ta(17,"option",14),za(18,"Indep. / Prospective / Rel. Risk"),na(),ta(19,"option",15),za(20,"Indep. / Case Control / Odds Ratio"),na(),na(),na(),na(),ta(21,"select",16),la("ngModelChange",(function(e){return t.model.output=e})),ra(22,"option"),ta(23,"option",17),za(24,"Power"),na(),ta(25,"option",18),za(26,"Sample size"),na(),ta(27,"option",19),za(28,"Detectable alternative"),na(),na(),na(),Yo(29,WI,8,2,"div",20),Yo(30,GI,9,1,"div",20),Yo(31,QI,9,3,"div",20),Yo(32,$I,9,1,"div",20),Yo(33,oj,22,11,"div",21),na(),Yo(34,aj,3,1,"div",22),na(),na(),Yo(35,sj,4,0,"ng-template",null,23,Au)}2&e&&(Vr(21),Jo("ngModel",t.model.output),Vr(8),Jo("ngIf",t.model.output),Vr(1),Jo("ngIf",t.model.output),Vr(1),Jo("ngIf",t.model.output&&"independent"==t.model.matched),Vr(1),Jo("ngIf",t.model.output&&"independent"==t.model.matched),Vr(1),Jo("ngIf",t.model.output&&t.model.matched&&t.model.case&&("matched"==t.model.matched||t.model.expressed&&t.model.method)),Vr(1),Jo("ngIf",t.showCalculateButton()))},directives:[yb,r_,lb,A_,L_,R_,bb,n_,mb,zc,ww,__,Xy],styles:["[_nghost-%COMP%]{height:100%}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),e}();function lj(e,t){if(1&e){var n=aa();ta(0,"div",10),ta(1,"div",11),ta(2,"label",12),za(3,"Name:"),na(),ta(4,"input",13),la("ngModelChange",(function(e){return Jt(n),fa().model.name=e})),na(),na(),ta(5,"button",14),la("click",(function(){return Jt(n),fa().onRemoveButtonClicked()})),ra(6,"i",15),za(7," Remove "),na(),na()}if(2&e){var r=fa();Vr(2),ma("for","dichot-project-model-",r.index,"-name"),Vr(2),ma("id","dichot-project-model-",r.index,"-name"),Jo("ngModel",r.model.name)}}function cj(e,t){1&e&&(ta(0,"div",17),za(1," Probability of exposure in controls ("),ta(2,"i"),za(3,"p"),ta(4,"sub"),za(5,"0"),na(),na(),za(6,") "),na())}function hj(e,t){1&e&&(ta(0,"div",17),za(1," Probability of the outcome for a control patient ("),ta(2,"i"),za(3,"p"),ta(4,"sub"),za(5,"0"),na(),na(),za(6,") "),na())}function fj(e,t){if(1&e&&(Yo(0,cj,7,0,"div",16),Yo(1,hj,7,0,"div",16)),2&e){var n=fa();Jo("ngIf","caseControl"==n.model.case),Vr(1),Jo("ngIf","prospective"==n.model.case)}}function dj(e,t){1&e&&(ta(0,"div",17),za(1," Probability of the outcome for an experimental patient ("),ta(2,"i"),za(3,"p"),ta(4,"sub"),za(5,"1"),na(),na(),za(6,") "),na())}function pj(e,t){if(1&e){var n=aa();ta(0,"div",2),ta(1,"app-range-slider",20),la("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("p1",e)})),ou(2,"round"),Yo(3,dj,7,0,"ng-template",7),na(),na()}if(2&e){var r=fa(2);Vr(1),Jo("min",r.min.p1)("max",r.max.p1)("hard-min",.01)("ngModel",au(2,4,r.model.p1))}}function vj(e,t){if(1&e){var n=aa();ta(0,"div",21),ta(1,"div",22),ta(2,"div",17),za(3," Probability of the outcome for an experimental patient ("),ta(4,"i"),za(5,"p"),ta(6,"sub"),za(7,"1"),na(),na(),za(8,") "),ta(9,"strong"),za(10,"(Computed value)"),na(),na(),ta(11,"div",23),ta(12,"div",24),ta(13,"input",25),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(14,"label",26),za(15),na(),na(),ta(16,"div"),ta(17,"input",27),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(18,"label",26),za(19),na(),na(),na(),na(),na()}if(2&e){var r=fa(2);Vr(13),ma("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Vr(1),Ua(" ",r.model.p1Alt," (lower) "),Vr(2),ma("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Vr(1),Ua(" ",r.model.p1," (upper) ")}}function gj(e,t){if(1&e&&(ta(0,"div",1),Yo(1,pj,4,6,"div",18),Yo(2,vj,20,8,"div",19),na()),2&e){var n=fa();Vr(1),Jo("ngIf",!n.isOutput("detAlt")),Vr(1),Jo("ngIf",n.isOutput("detAlt"))}}function mj(e,t){1&e&&(ta(0,"div",17),za(1," Ratio of control/experimental subjects ("),ta(2,"i"),za(3,"m"),na(),za(4,") "),na())}function yj(e,t){1&e&&(ta(0,"div",17),za(1," Relative risk of failure for experimental subjects relative to controls ("),ta(2,"i"),za(3,"R"),na(),za(4,") "),na())}function _j(e,t){if(1&e){var n=aa();ta(0,"div",2),ta(1,"app-range-slider",28),la("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("r",e)})),ou(2,"round"),Yo(3,yj,5,0,"ng-template",7),na(),na()}if(2&e){var r=fa(2);Vr(1),Jo("min",r.min.r)("max",r.max.r)("hard-min",.01)("ngModel",au(2,4,r.model.r))}}function bj(e,t){if(1&e){var n=aa();ta(0,"div",21),ta(1,"div",22),ta(2,"div",17),za(3," Relative risk of failure for experimental subjects relative to controls ("),ta(4,"i"),za(5,"R"),na(),za(6,") "),ta(7,"strong"),za(8,"(Computed value)"),na(),na(),ta(9,"div",23),ta(10,"div",24),ta(11,"input",25),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(12,"label",26),za(13),na(),na(),ta(14,"div"),ta(15,"input",27),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(16,"label",26),za(17),na(),na(),na(),na(),na()}if(2&e){var r=fa(2);Vr(11),ma("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Vr(1),Ua(" ",r.model.rAlt," (lower) "),Vr(2),ma("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Vr(1),Ua(" ",r.model.r," (upper) ")}}function kj(e,t){if(1&e&&(ta(0,"div",1),Yo(1,_j,4,6,"div",18),Yo(2,bj,18,8,"div",19),na()),2&e){var n=fa();Vr(1),Jo("ngIf",!n.isOutput("detAlt")),Vr(1),Jo("ngIf",n.isOutput("detAlt"))}}function wj(e,t){1&e&&(ta(0,"div",17),za(1," Correlation coefficient for exposure (\u03c6) "),na())}function Cj(e,t){if(1&e){var n=aa();ta(0,"div",1),ta(1,"div",2),ta(2,"app-range-slider",29),la("ngModelChange",(function(e){return Jt(n),fa().changeModel("phi",e)})),ou(3,"round"),Yo(4,wj,2,0,"ng-template",7),na(),na(),na()}if(2&e){var r=fa();Vr(2),Jo("min",r.min.phi)("max",r.max.phi)("hard-min",.01)("ngModel",au(3,4,r.model.phi))}}function xj(e,t){1&e&&(ta(0,"div",17),za(1," Odds ratio of exposure (\u03c8) "),na())}function Sj(e,t){if(1&e){var n=aa();ta(0,"div",2),ta(1,"app-range-slider",30),la("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("psi",e)})),ou(2,"round"),Yo(3,xj,2,0,"ng-template",7),na(),na()}if(2&e){var r=fa(2);Vr(1),Jo("min",r.min.psi)("max",r.max.psi)("hard-min",.01)("ngModel",au(2,4,r.model.psi))}}function Tj(e,t){if(1&e){var n=aa();ta(0,"div",21),ta(1,"div",22),ta(2,"div",17),za(3," Odds ratio of exposure (\u03c8) "),ta(4,"strong"),za(5,"(Computed value)"),na(),na(),ta(6,"div",23),ta(7,"div",24),ta(8,"input",25),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(9,"label",26),za(10),na(),na(),ta(11,"div"),ta(12,"input",27),la("ngModelChange",(function(e){return Jt(n),fa(2).model.detAltMode=e}))("ngModelChange",(function(e){return Jt(n),fa(2).changeModel("detAltMode",e)})),na(),ta(13,"label",26),za(14),na(),na(),na(),na(),na()}if(2&e){var r=fa(2);Vr(8),ma("id","dichot-project-model-",r.index,"-det-alt-which-lower"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-lower"),Vr(1),Ua(" ",r.model.psiAlt," (lower) "),Vr(2),ma("id","dichot-project-model-",r.index,"-det-alt-which-upper"),Jo("ngModel",r.model.detAltMode),Vr(1),ma("for","dichot-project-model-",r.index,"-det-alt-which-upper"),Vr(1),Ua(" ",r.model.psi," (upper) ")}}function Mj(e,t){if(1&e&&(ta(0,"div",1),Yo(1,Sj,4,6,"div",18),Yo(2,Tj,15,8,"div",19),na()),2&e){var n=fa();Vr(1),Jo("ngIf",!n.isOutput("detAlt")),Vr(1),Jo("ngIf",n.isOutput("detAlt"))}}var Pj=function(){var e=function(){function e(t){_classCallCheck(this,e),this.palette=t,this.modelChanged=new cu,this.remove=new cu}return _createClass(e,[{key:"ngOnInit",value:function(){this.model=this.project.getModel(this.index),this.color=this.palette.getColor(this.index),this.initializeSliderRanges()}},{key:"changeModel",value:function(e,t){var n=this;this.project.updateModel(this.index,e,t).subscribe((function(){"alpha"==e&&n.calculateAlphaRange(),n.updateSliderRanges(),n.modelChanged.emit()}))}},{key:"isOutput",value:function(e){return this.model.output===e}},{key:"onRemoveButtonClicked",value:function(){this.remove.emit()}},{key:"calculateAlphaRange",value:function(){var e=Math.floor(Math.log10(this.model.alpha));e>-2&&(e=-2),this.min.alpha=Math.pow(10,e),this.max.alpha=1-this.min.alpha}},{key:"initializeSliderRanges",value:function(){this.min=new VI(this.model),this.max=new VI(this.model),this.calculateAlphaRange(),this.min.power=.01,this.max.power=.99,this.initializeSliderRange("n"),this.initializeSliderRange("p0"),this.initializeSliderRange("m"),this.model.matched===DI.Matched?(this.initializeSliderRange("phi"),this.initializeSliderRange("psi")):this.model.matched===DI.Independent&&(this.model.expressed===LI.TwoProportions?this.initializeSliderRange("p1"):this.model.expressed===LI.RelativeRisk?this.initializeSliderRange("r"):this.model.expressed===LI.OddsRatio&&this.initializeSliderRange("psi"))}},{key:"initializeSliderRange",value:function(e){var t=this.model[e],n=sO([.5*t,1.5*t],Kw);this.min[e]=n[0],this.max[e]=n[1]}},{key:"updateSliderRanges",value:function(){this.updateSliderRange("n"),this.updateSliderRange("p0"),this.updateSliderRange("m"),this.model.matched===DI.Matched?(this.updateSliderRange("phi"),this.updateSliderRange("psi")):this.model.matched===DI.Independent&&(this.model.expressed===LI.TwoProportions?this.updateSliderRange("p1"):this.model.expressed===LI.RelativeRisk?this.updateSliderRange("r"):this.model.expressed===LI.OddsRatio&&this.updateSliderRange("psi"))}},{key:"updateSliderRange",value:function(e){var t=this.model[e];t<this.min[e]?this.min[e]=Math.floor(t):t>this.max[e]&&(this.max[e]=Math.ceil(t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)($o(lO))},e.\u0275cmp=gt({type:e,selectors:[["dichot-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:26,vars:44,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","step","hard-min","hard-min-inclusive","hard-max","hard-max-inclusive","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","ngModel","ngModelChange"],["name","p0",3,"min","max","hard-min","ngModel","ngModelChange"],["rsLabel",""],["class","grow-horiz",4,"ngIf"],["name","m",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["class","label",4,"ngIf"],[1,"label"],["class","grow-vert range-slider",4,"ngIf"],["class","grow-vert output",4,"ngIf"],["name","p1",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"grow-vert","output"],[1,"det-alt","p-1"],[1,"d-flex","flex-row","mt-2"],[1,"ml-2","mr-4"],["type","radio","value","lower",3,"id","ngModel","ngModelChange"],[1,"pl-1",3,"for"],["type","radio","value","upper",3,"id","ngModel","ngModelChange"],["name","r",3,"min","max","hard-min","ngModel","ngModelChange"],["name","phi",3,"min","max","hard-min","ngModel","ngModelChange"],["name","psi",3,"min","max","hard-min","ngModel","ngModelChange"]],template:function(e,t){1&e&&(Yo(0,lj,8,3,"div",0),ta(1,"div",1),ta(2,"div",2),ta(3,"app-range-slider",3),la("ngModelChange",(function(e){return t.changeModel("alpha",e)})),na(),na(),na(),ta(4,"div",1),ta(5,"div",2),ta(6,"app-range-slider",4),la("ngModelChange",(function(e){return t.changeModel("n",e)})),ou(7,"ceil"),na(),na(),na(),ta(8,"div",1),ta(9,"div",2),ta(10,"app-range-slider",5),la("ngModelChange",(function(e){return t.changeModel("power",e)})),ou(11,"round"),na(),na(),na(),ta(12,"div",1),ta(13,"div",2),ta(14,"app-range-slider",6),la("ngModelChange",(function(e){return t.changeModel("p0",e)})),ou(15,"round"),Yo(16,fj,2,2,"ng-template",7),na(),na(),na(),Yo(17,gj,3,2,"div",8),ta(18,"div",1),ta(19,"div",2),ta(20,"app-range-slider",9),la("ngModelChange",(function(e){return t.changeModel("m",e)})),ou(21,"round"),Yo(22,mj,5,0,"ng-template",7),na(),na(),na(),Yo(23,kj,3,2,"div",8),Yo(24,Cj,5,6,"div",8),Yo(25,Mj,3,2,"div",8)),2&e&&(Jo("ngIf",t.project.models.length>1),Vr(3),Jo("min",t.min.alpha)("max",t.max.alpha)("step",t.min.alpha)("hard-min",0)("hard-min-inclusive",!1)("hard-max",1)("hard-max-inclusive",!1)("ngModel",t.model.alpha),Vr(1),Ma("output",t.isOutput("sampleSize")),Vr(2),Jo("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output","sampleSize"==t.model.output)("ngModel",au(7,36,t.model.n)),Vr(2),Ma("output",t.isOutput("power")),Vr(2),Jo("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("ngModel",au(11,38,t.model.power)),Vr(4),Jo("min",t.min.p0)("max",t.max.p0)("hard-min",.01)("ngModel",au(15,40,t.model.p0)),Vr(3),Jo("ngIf","independent"==t.model.matched&&"twoProportions"==t.model.expressed),Vr(3),Jo("min",t.min.m)("max",t.max.m)("hard-min",.01)("ngModel",au(21,42,t.model.m)),Vr(3),Jo("ngIf","independent"==t.model.matched&&"relativeRisk"==t.model.expressed),Vr(1),Jo("ngIf","matched"==t.model.matched),Vr(1),Jo("ngIf","matched"==t.model.matched||"caseControl"==t.model.case&&"oddsRatio"==t.model.expressed))},directives:[zc,sA,n_,mb,oA,Xy,w_],pipes:[uI,uA],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .det-alt[_ngcontent-%COMP%], .output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),e}(),Ej=["tabset"];function Oj(e,t){if(1&e&&(ta(0,"p"),za(1),na()),2&e){var n=fa(2);Vr(1),Ua(" Matched / ",n.project.describeCase()," ")}}function Rj(e,t){if(1&e&&(ta(0,"p"),za(1),na()),2&e){var n=fa(2);Vr(1),qa(" Independent / ",n.project.describeCase()," / ",n.project.describeExpressed()," / ",n.project.describeMethod()," ")}}function Aj(e,t){if(1&e){var n=aa();ta(0,"li",16),ta(1,"a",17),la("click",(function(){Jt(n);var e=t.index;return fa(3).selectModel(e)})),ra(2,"i",18),na(),na()}if(2&e){var r=t.index,i=fa(3);Vr(1),Ma("active",r==i.project.selectedIndex),Vr(1),Ta("color",i.getColor(r))}}function Ij(e,t){if(1&e&&(ta(0,"ul",14),Yo(1,Aj,3,4,"li",15),na()),2&e){var n=fa(2);Vr(1),Jo("ngForOf",n.project.models)("ngForTrackBy",n.trackByIndex)}}function jj(e,t){if(1&e){var n=aa();ta(0,"div",19),ta(1,"dichot-project-model",20),la("modelChanged",(function(){return Jt(n),fa(2).onModelChanged()}))("remove",(function(){Jt(n);var e=t.index;return fa(2).onModelRemove(e)})),na(),na()}if(2&e){var r=t.index,i=fa(2);Ma("active",r==i.project.selectedIndex)("tab",i.project.models.length>1),Vr(1),Jo("project",i.project)("index",r)}}function Dj(e,t){if(1&e){var n=aa();ta(0,"div",1),Yo(1,Oj,2,1,"p",2),Yo(2,Rj,2,3,"p",2),ta(3,"div",3),ta(4,"div",4),ta(5,"label",5),za(6,"Output:"),na(),ta(7,"select",6),la("ngModelChange",(function(e){return Jt(n),fa().changeOutput(e)})),ta(8,"option",7),za(9,"Power"),na(),ta(10,"option",8),za(11,"Sample size"),na(),ta(12,"option",9),za(13,"Detectable alternative"),na(),na(),na(),ta(14,"button",10),la("click",(function(){return Jt(n),fa().addModel()})),ra(15,"i",11),za(16," Add line "),na(),na(),Yo(17,Ij,2,2,"ul",12),Yo(18,jj,2,6,"div",13),na()}if(2&e){var r=fa();Vr(1),Jo("ngIf","matched"==r.project.getMatched()),Vr(1),Jo("ngIf","independent"==r.project.getMatched()),Vr(3),ma("for","dichot-project-",r.name,"-output"),Vr(2),ma("id","dichot-project-",r.name,"-output"),Jo("ngModel",r.project.getOutput()),Vr(10),Jo("ngIf",r.project.models.length>1),Vr(1),Jo("ngForOf",r.project.models)}}var Nj,Fj,Lj=[{path:"dichot",component:PA,data:{type:Uw.Dichot},children:[{path:"",component:uj},{path:":id",component:function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,o,a){var s;return _classCallCheck(this,n),(s=t.call(this)).projectService=e,s.plotOptions=r,s.palette=i,s.router=o,s.route=a,s}return _createClass(n,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe((function(t){var n=t.get("id");if(n){var r=parseInt(n)-1;e.name="".concat(r),e.project=e.projectService.getProject(Uw.Dichot,r)}else e.project=void 0;e.project?e.selectedModel=e.project.getModel(e.project.selectedIndex):(e.selectedModel=void 0,e.router.navigate([".."],{relativeTo:e.route})),e.projectSwitched.emit(e.project)}))}},{key:"changeOutput",value:function(e){var t=this;this.project.updateModel(0,"output",e).subscribe((function(){t.projectChanged.emit()}))}},{key:"selectModel",value:function(e){this.project.selectedIndex=e,this.selectedModel=this.project.getModel(e),this.projectChanged.emit()}},{key:"addModel",value:function(){var e=this,t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe((function(){e.project.selectedIndex=e.project.models.length-1,e.projectChanged.emit()}))}},{key:"onModelRemove",value:function(e){this.removeModel(e)}},{key:"removeModel",value:function(e){var t=this;this.project.removeModel(e).subscribe((function(){t.project.selectedIndex>=t.project.models.length&&t.project.selectedIndex--,t.projectChanged.emit()}))}},{key:"onModelChanged",value:function(){this.projectChanged.emit()}},{key:"trackByIndex",value:function(e,t){return e}},{key:"getColor",value:function(e){return this.palette.getColor(e,this.plotOptions.paletteTheme)}}]),n}(qw);return e.\u0275fac=function(t){return new(t||e)($o(zw),$o(uO),$o(lO),$o(ym),$o(ug))},e.\u0275cmp=gt({type:e,selectors:[["dichot-project"]],viewQuery:function(e,t){var n;1&e&&Cu(Ej,!0),2&e&&ku(n=Pu())&&(t.tabset=n.first)},features:[Xa],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[4,"ngIf"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(e,t){1&e&&Yo(0,Dj,19,7,"div",0),2&e&&Jo("ngIf",t.project)},directives:[zc,R_,n_,mb,A_,L_,Lc,Pj],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),e}()}]}],Vj=((Fj=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Fj}),Fj.\u0275inj=ve({factory:function(e){return new(e||Fj)},providers:[zI],imports:[[th,wb,Ny,Lw,zm.forChild(Lj),Vw]]}),Fj),zj=((Nj=function(){function e(){_classCallCheck(this,e),this.konami=new cu,this.konamiKeys=[38,38,40,40,37,39,37,39,66,65],this.keyIndex=0}return _createClass(e,[{key:"onKeyDown",value:function(e){Rl.activateKonami&&(e.keyCode===this.konamiKeys[this.keyIndex]?(this.keyIndex++,this.keyIndex===this.konamiKeys.length&&this.konami.emit()):this.keyIndex=0)}}]),e}()).\u0275fac=function(e){return new(e||Nj)},Nj.\u0275dir=wt({type:Nj,selectors:[["","appKonami",""]],hostBindings:function(e,t){1&e&&la("keydown",(function(e){return t.onKeyDown(e)}),!1,Wn)},outputs:{konami:"konami"}}),Nj),Hj=["menu"],Uj=function(){return{exact:!0}};function Bj(e,t){if(1&e){var n=aa();ta(0,"div",9),la("@mainState.start",(function(){return Jt(n),fa().mainAnimationStart()}))("@mainState.done",(function(){return Jt(n),fa().animationDone()})),ta(1,"ul",10),ta(2,"li",11),ta(3,"a",12),la("click",(function(e){return Jt(n),fa().showTTest(),e.preventDefault()})),za(4,"t-test"),na(),na(),ta(5,"li",11),ta(6,"a",13),za(7,"z-test"),na(),na(),ta(8,"li",11),ta(9,"a",14),za(10,"Dichotomous"),na(),na(),ta(11,"li",11),ta(12,"a",15),za(13,"Survival"),na(),na(),ta(14,"li",11),ta(15,"a",16),za(16,"Regression"),na(),na(),ta(17,"li",11),ta(18,"a",17),za(19,"Mantel-Haenszel"),na(),na(),ta(20,"li",11),ta(21,"a",18),ra(22,"i",19),na(),na(),na(),na()}if(2&e){var r=fa(),i=Qo(10);Jo("@mainState",r.state),Vr(12),Jo("ngbPopover",i),Vr(3),Jo("ngbPopover",i),Vr(3),Jo("ngbPopover",i),Vr(3),Jo("routerLinkActiveOptions",tu(5,Uj))}}function qj(e,t){if(1&e){var n=aa();ta(0,"div",20),la("@ttestState.done",(function(){return Jt(n),fa().animationDone()})),ta(1,"div",21),za(2,"t-test Design:"),na(),ta(3,"ul",10),ta(4,"li",11),ta(5,"a",22),za(6,"Paired"),na(),na(),ta(7,"li",11),ta(8,"a",23),za(9,"Independent"),na(),na(),ta(10,"li",11),ta(11,"a",24),la("click",(function(e){return Jt(n),fa().showMain(),e.preventDefault()})),ra(12,"i",19),na(),na(),na(),na()}2&e&&(Jo("@ttestState",fa().state),Vr(11),Jo("routerLinkActiveOptions",tu(2,Uj)))}function Wj(e,t){1&e&&za(0," under development\n")}var Gj,Xj=function(e){return e.Main="main",e.MainTTest="mainttest",e.TTestInit="ttestinit",e.TTest="ttest",e.TTestMain="ttestmain",e}({}),Yj=((Gj=function(){function e(t){_classCallCheck(this,e),this.router=t,this.urlInitialized=!1,this.state=Xj.Main}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.router.events.pipe(gp((function(e){return e instanceof rv}))).subscribe((function(t){e.urlChanged(t.url)}))}},{key:"showTTest",value:function(){this.state===Xj.Main&&(this.state=Xj.MainTTest,this.popoverElement&&this.popoverElement.close())}},{key:"showMain",value:function(){this.state===Xj.TTest&&(this.state=Xj.TTestMain)}},{key:"mainAnimationStart",value:function(){if(this.state===Xj.MainTTest){var e=this.menuElement.nativeElement,t=e.getBoundingClientRect();e.style.width="".concat(t.width,"px")}}},{key:"animationDone",value:function(){this.state===Xj.MainTTest?this.state=Xj.TTestInit:this.state===Xj.TTestMain&&(this.state=Xj.Main)}},{key:"isMainVisible",value:function(){return this.state===Xj.Main||this.state==Xj.MainTTest}},{key:"isTTestVisible",value:function(){return this.state===Xj.TTest||this.state===Xj.TTestMain||this.state===Xj.TTestInit}},{key:"urlChanged",value:function(e){var t=this;/^\/t-test\//.test(e)?(this.state=Xj.TTest,setTimeout((function(){t.menuElement.nativeElement.style.width="auto"}),1e3)):/^\/(z-test|dichot)/.test(e)?(this.state=Xj.Main,this.popoverElement&&this.popoverElement.close()):(this.state=Xj.Main,!this.urlInitialized&&this.popoverElement&&setTimeout((function(){t.popoverElement&&t.popoverElement.open()}),200)),this.urlInitialized=!0}}]),e}()).\u0275fac=function(e){return new(e||Gj)($o(ym))},Gj.\u0275cmp=gt({type:Gj,selectors:[["app-menu"]],viewQuery:function(e,t){var n;1&e&&(wu(Hj,!0),Cu(ww,!0)),2&e&&(ku(n=Pu())&&(t.menuElement=n.first),ku(n=Pu())&&(t.popoverElement=n.first))},decls:11,vars:2,consts:[[1,"navbar","d-flex","flex-nowrap","flex-row","justify-content-between",2,"flex","0 0 auto"],[1,"navbar-brand"],["src","assets/ps.jpg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["routerLink",""],[1,"d-flex","flex-row","menu"],["menu",""],["class","d-flex flex-row","ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],["underdevelopmentHelp",""],["ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",1,"d-flex","flex-row"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],["routerLink","/z-test","routerLinkActive","active",1,"nav-link"],["routerLink","/dichot","routerLinkActive","active",1,"nav-link"],["href","#","popoverTitle","Survival","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Regression","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Mantel-Haenszel","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"d-flex","flex-row"],[1,"navbar-text","mr-2"],["routerLink","/t-test/paired","routerLinkActive","active",1,"nav-link"],["routerLink","/t-test/ind","routerLinkActive","active",1,"nav-link"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"]],template:function(e,t){1&e&&(ta(0,"nav",0),ta(1,"div",1),ra(2,"img",2),ta(3,"a",3),za(4,"Power and Sample Size"),na(),na(),ta(5,"div",4,5),Yo(7,Bj,23,6,"div",6),Yo(8,qj,13,3,"div",7),na(),na(),Yo(9,Wj,1,0,"ng-template",null,8,Au)),2&e&&(Vr(7),Jo("ngIf",t.isMainVisible()),Vr(1),Jo("ngIf",t.isTTestVisible()))},directives:[Jk,bm,zc,ww,Tm],styles:[".navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.nav-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.menu[_ngcontent-%COMP%]{justify-content:end;overflow:hidden}"],data:{animation:[Nh("mainState",[zh("main, maininit",Vh({opacity:1,transform:"translateX(0)"})),Hh("main => mainttest",[Fh("200ms",Vh({opacity:0,transform:"translateX(-100%)"}))]),Hh("void => main",[Vh({opacity:0,transform:"translateX(-100%)"}),Fh("200ms")])]),Nh("ttestState",[zh("ttest",Vh({opacity:1,transform:"translateX(0)",flexGrow:0})),zh("ttestinit",Vh({opacity:1,transform:"translateX(0)",flexGrow:1})),Hh("ttest => ttestmain",[Fh("200ms",Vh({opacity:0,transform:"translateX(-100%)"}))]),Hh("ttestinit => ttest",Fh("200ms")),Hh("void => ttest",[Vh({opacity:0,transform:"translateX(-100%)"}),Fh("200ms")])])]}}),Gj);function Qj(e,t){if(1&e){var n=aa();ta(0,"audio",2),la("ended",(function(){return Jt(n),fa().audioEnded()})),ra(1,"source",3),na()}}var $j,Zj,Kj,Jj=(($j=function(){function e(){_classCallCheck(this,e),this.konami=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"konamiCode",value:function(){this.konami=!0}},{key:"audioEnded",value:function(){this.konami=!1}}]),e}()).\u0275fac=function(e){return new(e||$j)},$j.\u0275cmp=gt({type:$j,selectors:[["app-root"]],decls:4,vars:1,consts:[["id","app","appKonami","",1,"container-fluid","d-flex","flex-column","h-100",3,"konami"],["autoplay","",3,"ended",4,"ngIf"],["autoplay","",3,"ended"],["src","assets/contra.mp3","type","audio/mpeg"]],template:function(e,t){1&e&&(ta(0,"div",0),la("konami",(function(){return t.konamiCode()})),ra(1,"app-menu"),Yo(2,Qj,2,0,"audio",1),ra(3,"router-outlet"),na()),2&e&&(Vr(2),Jo("ngIf",t.konami))},directives:[zj,Yj,zc,Em],styles:[""]}),$j),eD=[{path:"",component:(Zj=function(){function e(){_classCallCheck(this,e),this.commitHash=AR.substr(0,7),this.buildTimestamp="2020-10-28T12:00:31-05:00"}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),Zj.\u0275fac=function(e){return new(e||Zj)},Zj.\u0275cmp=gt({type:Zj,selectors:[["app-welcome"]],decls:24,vars:4,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-4","d-flex","flex-column","align-items-end"],[1,"mb-3"],["src","assets/ps-large.png"],["src","assets/biostat.jpg"],[2,"font-size","smaller","text-align","center"],[1,"col-8"],[1,"mb-4"],["href","https://vbiostatps.app.vumc.org/"],["href","https://biostat.app.vumc.org/wiki/Main/PowerSampleSize"]],template:function(e,t){1&e&&(ta(0,"div",0),ta(1,"div",1),ta(2,"div",2),ta(3,"div"),ta(4,"div",3),ra(5,"img",4),na(),ta(6,"div",3),ra(7,"img",5),na(),ta(8,"div",6),za(9),ou(10,"date"),na(),na(),na(),ta(11,"div",7),ta(12,"p",8),za(13," PS is an interactive program for performing power and sample size calculations. It may be run off the internet at "),ta(14,"a",9),za(15,"https://vbiostatps.app.vumc.org/"),na(),za(16," or downloaded for free. This version can be used for studies with dichotomous or continuous, response measures. A older version, which also handles other designs may be downloaded from "),ta(17,"a",10),za(18,"http://biostat.app.vumc.org/wiki/Main/PowerSampleSize"),na(),za(19,". Work on expanding the new version to handle all of the designs from the older version are in progress. "),na(),ta(20,"p"),za(21,"The alternative hypothesis of interest may be specified either in terms of differing means, or in terms of relative risks or odds ratios. Studies with dichotomous or continuous outcomes may involve either a matched or independent study design. The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. "),na(),ta(22,"p"),za(23," The PS program can produce graphs to explore the relationships between power, sample size and detectable alternative hypotheses. It is often helpful to hold one of these variables constant and plot the other two against each other. The program can generate graphs of sample size versus power for a specific alternative hypothesis, sample size versus detectable alternative hypotheses for a specified power, or power versus detectable alternative hypotheses for a specified sample size. Multiple curves can be plotted on a single graphic. "),na(),na(),na(),na()),2&e&&(Vr(9),Ba(" Build version: ",t.commitHash," (",au(10,2,t.buildTimestamp),") "))},pipes:[Jc],styles:[""]}),Zj)}],tD=((Kj=function e(){_classCallCheck(this,e)}).\u0275mod=bt({type:Kj,bootstrap:[Jj]}),Kj.\u0275inj=ve({factory:function(e){return new(e||Kj)},providers:[Hw,hR,UO,lO,uO,zw],imports:[[jh,op,zm.forRoot(eD),Ny,Lw,Vw,AI,Vj]]}),Kj);Rl.production&&function(){if(mr)throw new Error("Cannot enable prod mode after platform setup.");gr=!1}(),Ah().bootstrapModule(tD).catch((function(e){return console.log(e)}))}},[[0,0]]]);