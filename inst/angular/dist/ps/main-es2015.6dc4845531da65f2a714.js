(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},fgPD:function(t,e,n){t.exports=function(){"use strict";var t=function(t,n){return e(t.slice(),n)};function e(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var r=t.length;if(r<=1)return t;for(var i=new Array(r),s=1;s<r;s*=2){n(t,e,s,i);var o=t;t=i,i=o}return t}t.inplace=function(t,r){var i=e(t,r);return i!==t&&n(i,null,t.length,t),t};var n=function(t,e,n,r){var i,s,o,a,l,c=t.length,u=0,h=2*n;for(i=0;i<c;i+=h)for(o=(s=i+n)+n,s>c&&(s=c),o>c&&(o=c),a=i,l=s;;)if(a<s&&l<o)e(t[a],t[l])<=0?r[u++]=t[a++]:r[u++]=t[l++];else if(a<s)r[u++]=t[a++];else{if(!(l<o))break;r[u++]=t[l++]}};return t}()},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function v(...t){return b(t)}function b(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let M=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends M{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function E(t){return t&&"function"==typeof t.schedule}class k extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=R(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return P(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function j(t,e,n,r,i=new k(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):D(e)(i)}class N extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(t,e))}}class L{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new w(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(I(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return V(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(D(t))}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>z(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new k(this,e,n),i=this.destination;i.add(r);const s=j(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return U(y,t)}function W(t,e){return e?V(t,e):new w(P(t))}function G(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return E(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:q(e)(W(t,n))}function X(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Q(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Z extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return X()(this)}}const K=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new M}function et(){return t=>{return X()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const it=rt("Inject",t=>({token:t})),st=rt("Optional"),ot=rt("Self"),at=rt("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return ft(t,t[mt])||ft(t,t[bt])}function ft(t,e){return e&&e.token===t?e:null}function gt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(wt))?t[yt]:null}const mt=ct({"\u0275prov":ct}),yt=ct({"\u0275inj":ct}),vt=ct({"\u0275provFallback":ct}),bt=ct({ngInjectableDef:ct}),wt=ct({ngInjectorDef:ct});function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ct=ct({__forward_ref__:ct});function St(t){return t.__forward_ref__=St,t.toString=function(){return _t(this())},t}function Mt(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===St}const Et="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Pt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt="undefined"!=typeof global&&global,At=Et||Rt||kt||Pt,Ot=ct({"\u0275cmp":ct}),It=ct({"\u0275dir":ct}),Dt=ct({"\u0275pipe":ct}),jt=ct({"\u0275mod":ct}),Nt=ct({"\u0275loc":ct}),Ft=ct({"\u0275fac":ct}),Lt=ct({__NG_ELEMENT_ID__:ct});class $t{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vt=new $t("INJECTOR",-1),zt={},Ut=/\n/gm,Ht=ct({provide:String,useValue:ct});let Bt,qt=void 0;function Wt(t){const e=qt;return qt=t,e}function Gt(t){const e=Bt;return Bt=t,e}function Xt(t,e=lt.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?Qt(t,void 0,e):qt.get(t,e&lt.Optional?null:void 0,e)}function Yt(t,e=lt.Default){return(Bt||Xt)(Mt(t),e)}function Qt(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${_t(t)}]`)}function Zt(t){const e=[];for(let n=0;n<t.length;n++){const r=Mt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof st||"Optional"===i.ngMetadataName||i===st?n|=lt.Optional:i instanceof at||"SkipSelf"===i.ngMetadataName||i===at?n|=lt.SkipSelf:i instanceof ot||"Self"===i.ngMetadataName||i===ot?n|=lt.Self:t=i instanceof it||i===it?i.token:i}e.push(Yt(t,n))}else e.push(Yt(r))}return e}class Kt{get(t,e=zt){if(e===zt){const e=new Error(`NullInjectorError: No provider for ${_t(t)}!`);throw e.name="NullInjectorError",e}return e}}class Jt{}class te{}function ee(t,e){t.forEach(t=>Array.isArray(t)?ee(t,e):e(t))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function se(t,e,n){let r=ae(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oe(t,e){const n=ae(t,e);if(n>=0)return t[1|n]}function ae(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const le=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ce=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},he=[];let de=0;function pe(t){return nt(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ce.Emulated,id:"c",styles:t.styles||he,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=de++,i.inputs=ve(t.inputs,r),i.outputs=ve(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(fe):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ge):null,i})}function fe(t){return _e(t)||function(t){return t[It]||null}(t)}function ge(t){return function(t){return t[Dt]||null}(t)}const me={};function ye(t){const e={type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt(()=>{me[t.id]=t.type}),e}function ve(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const be=pe;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _e(t){return t[Ot]||null}function xe(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function Ce(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function Me(t){return Array.isArray(t)&&!0===t[1]}function Te(t){return 0!=(8&t.flags)}function Ee(t){return 2==(2&t.flags)}function ke(t){return 1==(1&t.flags)}function Pe(t){return null!==t.template}function Re(t){return 0!=(512&t[2])}let Ae=void 0;function Oe(t){return!!t.listen}const Ie={createRenderer:(t,e)=>void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0};function De(t){for(;Array.isArray(t);)t=t[0];return t}function je(t,e){return De(e[t+20])}function Ne(t,e){return De(e[t.index])}function Fe(t,e){return t.data[e+20]}function Le(t,e){return t[e+20]}function $e(t,e){const n=e[t];return Se(n)?n:n[0]}function Ve(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ze(t){return 4==(4&t[2])}function Ue(t){return 128==(128&t[2])}function He(t,e){return null===t||null==e?null:t[e]}function Be(t){t[18]=0}function qe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const We={lFrame:gn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ge(){return We.bindingsEnabled}function Xe(){return We.lFrame.lView}function Ye(){return We.lFrame.tView}function Qe(t){We.lFrame.contextLView=t}function Ze(){return We.lFrame.previousOrParentTNode}function Ke(t,e){We.lFrame.previousOrParentTNode=t,We.lFrame.isParent=e}function Je(){return We.lFrame.isParent}function tn(){We.lFrame.isParent=!1}function en(){return We.checkNoChangesMode}function nn(t){We.checkNoChangesMode=t}function rn(){const t=We.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function sn(){return We.lFrame.bindingIndex}function on(){return We.lFrame.bindingIndex++}function an(t){const e=We.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ln(t,e){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=t,cn(e)}function cn(t){We.lFrame.currentDirectiveIndex=t}function un(){return We.lFrame.currentQueryIndex}function hn(t){We.lFrame.currentQueryIndex=t}function dn(t,e){const n=fn();We.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function pn(t,e){const n=fn(),r=t[1];We.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function fn(){const t=We.lFrame,e=null===t?null:t.child;return null===e?gn(t):e}function gn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function mn(){const t=We.lFrame;return We.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const yn=mn;function vn(){const t=mn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bn(){return We.lFrame.selectedIndex}function wn(t){We.lFrame.selectedIndex=t}function _n(){const t=We.lFrame;return Fe(t.tView,t.selectedIndex)}function xn(){We.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Cn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Sn(t,e,n){En(t,e,3,n)}function Mn(t,e,n,r){(3&t[2])===n&&En(t,e,n,r)}function Tn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function En(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(kn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function kn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Pn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Rn(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];On(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function An(t){return 3===t||4===t||6===t}function On(t){return 64===t.charCodeAt(0)}function In(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Dn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Dn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function jn(t){return-1!==t}function Nn(t){return 32767&t}function Fn(t){return t>>16}function Ln(t,e){let n=Fn(t),r=e;for(;n>0;)r=r[15],n--;return r}function $n(t){return"string"==typeof t?t:null==t?"":""+t}function Vn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$n(t)}const zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Un(t){return{name:"document",target:t.ownerDocument}}function Hn(t){return t instanceof Function?t():t}let Bn=!0;function qn(t){const e=Bn;return Bn=t,e}let Wn=0;function Gn(t,e){const n=Yn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Xn(r.data,t),Xn(e,null),Xn(r.blueprint,null));const i=Qn(t,e),s=t.injectorIndex;if(jn(i)){const t=Nn(i),n=Ln(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Yn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Qn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Zn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Lt]:n.charCodeAt(0)||0;null==r&&(r=n[Lt]=Wn++);const i=255&r,s=1<<i,o=64&i,a=32&i,l=e.data;128&i?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function Kn(t,e,n,r=lt.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Lt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){dn(e,t);try{const t=i();if(null!=t||r&lt.Optional)return t;throw new Error(`No provider for ${Vn(n)}!`)}finally{yn()}}else if("number"==typeof i){if(-1===i)return new sr(t,e);let s=null,o=Yn(t,e),a=-1,l=r&lt.Host?e[16][6]:null;for((-1===o||r&lt.SkipSelf)&&(a=-1===o?Qn(t,e):e[o+8],ir(r,!1)?(s=e[1],o=Nn(a),e=Ln(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(rr(i,o,t.data)){const t=tr(o,e,n,s,r,l);if(t!==Jn)return t}ir(r,e[1].data[o+8]===l)&&rr(i,o,e)?(s=t,o=Nn(a),e=Ln(a,e)):o=-1}}}if(r&lt.Optional&&void 0===i&&(i=null),0==(r&(lt.Self|lt.Host))){const t=e[9],s=Gt(void 0);try{return t?t.get(n,i,r&lt.Optional):Qt(n,i,r&lt.Optional)}finally{Gt(s)}}if(r&lt.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Vn(n)}]`)}const Jn={};function tr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=er(a,o,n,null==r?Ee(a)&&Bn:r!=o&&3===a.type,i&lt.Host&&s===a);return null!==l?nr(e,o,l,a):Jn}function er(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&Pe(t)&&t.type===n)return l}return null}function nr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Pn){const o=i;if(o.resolving)throw new Error(`Circular dep for ${Vn(s[n])}`);const a=qn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Gt(o.injectImpl)),dn(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Gt(l),qn(a),o.resolving=!1,yn()}}return i}function rr(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function ir(t,e){return!(t&lt.Self||t&lt.Host&&e)}class sr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Kn(this._tNode,this._lView,t,void 0,e)}}function or(t){return nt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ft]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(Mt(n));return e?e():null};let r=xe(n);if(null===r){const t=gt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function ar(t){return t.ngDebugContext}function lr(t){return t.ngOriginalError}function cr(t,...e){t.error(...e)}class ur{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||cr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ar(t)?ar(t):this._findContext(lr(t)):null}_findOriginalError(t){let e=lr(t);for(;e&&lr(e);)e=lr(e);return e}}class hr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function dr(t){return t instanceof hr?t.changingThisBreaksApplicationSecurity:t}let pr=!0,fr=!1;function gr(){return fr=!0,pr}const mr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,yr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,vr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();function br(t){const e=function(){const t=Xe();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":function(t,e){const n=function(t){return t instanceof hr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?dr(t):(n=$n(t),(n=String(n)).match(mr)||n.match(yr)?n:(gr()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function wr(t,e){t.__ngContext__=e}function _r(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function xr(){throw new Error("Cannot mix multi providers and regular providers")}function Cr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Sr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Cr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Mr(t){return 0===t.type&&"ng-template"!==t.tagName}function Tr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Er(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(An(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Tr(t,l,n)||""===l&&1===e.length){if(kr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Sr(t.attrs,c,n)){if(kr(r))return!1;o=!0}continue}const u=Pr(8&r?"class":l,i,Mr(t),n);if(-1===u){if(kr(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Cr(e,c,0)||2&r&&c!==t){if(kr(r))return!1;o=!0}}}}else{if(!o&&!kr(r)&&!kr(l))return!1;if(o&&kr(l))continue;o=!1,r=l|1&r}}return kr(r)||o}function kr(t){return 0==(1&t)}function Pr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Rr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Er(t,e[r],n))return!0;return!1}function Ar(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Or(t,e){return t?":not("+e.trim()+")":e}function Ir(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||kr(o)||(e+=Or(s,i),i=""),r=o,s=s||!kr(r);n++}return""!==i&&(e+=Or(s,i)),e}const Dr={};function jr(t){const e=t[3];return Me(e)?e[3]:e}function Nr(t){Fr(Ye(),Xe(),bn()+t,en())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Sn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Mn(e,r,0,n)}wn(n)}function Lr(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function Vr(t){return 2|t}function zr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function Hr(t){return 1|t}function Br(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];hn(i),n.contentQueries(2,e[s],s)}}}function qr(t,e,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Wr(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Be(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Gr(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=Ze(),a=Je(),l=a?o:o&&o.parent,c=t.data[n]=ri(0,l&&l!==e?l:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return Ke(a,!0),a}function Xr(t,e,n){pn(e,e[6]);try{const r=t.viewQuery;null!==r&&Ei(1,r,n);const i=t.template;null!==i&&Zr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&Ei(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,vn()}}function Yr(t,e,n,r){const i=e[2];if(256==(256&i))return;pn(e,e[6]);const s=en();try{Be(e),We.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Zr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Mn(e,n,0,null),Tn(e,0)}if(function(t){for(let e=bi(t);null!==e;e=wi(e))if(0!=(1&e[2])){const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qe(r,1),n[2]|=1024}}}(e),function(t){for(let e=bi(t);null!==e;e=wi(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ue(n)&&Yr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Br(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Sn(e,n)}else{const n=t.contentHooks;null!==n&&Mn(e,n,1),Tn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,wn(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(ln(r,i),o(2,e[i])),i++)}}}finally{wn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)_i(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Ei(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Sn(e,n)}else{const n=t.viewHooks;null!==n&&Mn(e,n,2),Tn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{vn()}}function Qr(t,e,n,r){const i=e[10],s=!en(),o=ze(e);try{s&&!o&&i.begin&&i.begin(),o&&Xr(t,e,r),Yr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Zr(t,e,n,r,i){const s=bn();try{wn(-1),2&r&&e.length>20&&Fr(t,e,0,en()),n(r,i)}finally{wn(s)}}function Kr(t,e,n){if(Te(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Jr(t,e,n){Ge()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Gn(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Pe(r);s&&gi(e,n,r);const l=nr(e,t,a,n);wr(l,e),null!==o&&mi(0,a-i,l,r,0,o),s&&($e(n.index,e)[8]=l)}}(t,e,n,Ne(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,l=We.lFrame.currentDirectiveIndex;try{wn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];cn(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ci(r,i):o&&s.push(null)}}finally{wn(-1),cn(l)}}(t,e,n))}function ti(t,e,n=Ne){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ni(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ni(t,e,n,r,i,s,o,a,l,c){const u=20+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function ri(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function si(t,e,n,r,i,s,o,a){const l=Ne(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(Oi(t,n,c,r,i),Ee(e)&&function(t,e){const n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.tagName||"",r):i,Oe(s)?s.setProperty(l,r,i):On(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function oi(t,e,n,r){let i=!1;if(Ge()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Rr(n,o.selectors,!1)&&(i||(i=[]),Zn(Gn(n,e),t,o.type),Pe(o)?(2&n.flags&&_r(n),hi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,pi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ui(t,n,s.length);let a=!1,l=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=In(n.mergedAttrs,c.hostAttrs),fi(t,e,c),di(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),l=!0),ai(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,c=null===i||Mr(e)?null:yi(n,i);s.push(c),o=ii(n,l,o),a=ii(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),li(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=In(n.mergedAttrs,n.attrs),i}function ai(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function li(t,e,n){for(let r=0;r<n;r++)e.push(Dr),t.blueprint.push(Dr),t.data.push(null)}function ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ui(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pe(e)&&(n[""]=t)}}function pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=xe(n.type)),i=new Pn(r,Pe(n),null);t.blueprint.push(i),e.push(i)}function gi(t,e,n){const r=Ne(e,t),i=ei(n),s=t[10],o=Ci(t,Wr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function mi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function yi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,-2,e,null,0,r,n,null,null)}function bi(t){let e=t[13];for(;null!==e&&(!Me(e)||e[2]>>1!=-1);)e=e[4];return e}function wi(t){let e=t[4];for(;null!==e&&(!Me(e)||e[2]>>1!=-1);)e=e[4];return e}function _i(t,e){const n=$e(e,t);if(Ue(n)){const t=n[1];80&n[2]?Yr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=bi(e);null!==r;r=wi(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Yr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=$e(n[r],e);Ue(i)&&i[5]>0&&t(i)}}(n)}}function xi(t,e){const n=$e(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Xr(r,n,n[8])}function Ci(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Si(t){for(;t;){t[2]|=64;const e=jr(t);if(Re(t)&&!e)return t;t=e}return null}function Mi(t,e,n){const r=e[10];r.begin&&r.begin();try{Yr(t,e,t.template,n)}catch(i){throw Ai(e,i),i}finally{r.end&&r.end()}}function Ti(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ve(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function Ei(t,e,n){hn(0),e(t,n)}const ki=(()=>Promise.resolve(null))();function Pi(t){return t[7]||(t[7]=[])}function Ri(t){return t.cleanup||(t.cleanup=[])}function Ai(t,e){const n=t[9],r=n?n.get(ur,null):null;r&&r.handleError(e)}function Oi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Ii(t,e,n){const r=je(e,t),i=t[11];Oe(i)?i.setValue(r,n):r.textContent=n}function Di(t,e){const n=e[3];return-1===t.index?Me(n)?n:null:n}function ji(t,e){const n=Di(t,e);return n?Gi(e[11],n[7]):null}function Ni(t,e,n,r,i){if(null!=r){let s,o=!1;Me(r)?s=r:Se(r)&&(o=!0,r=r[0]);const a=De(r);0===t&&null!==n?null==i?qi(e,n,a):Bi(e,n,a,i||null):1===t&&null!==n?Bi(e,n,a,i||null):2===t?function(t,e,n){const r=Gi(t,e);r&&function(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==De(n)&&Ni(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Ki(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Fi(t,e,n,r){const i=ji(t.node,e);i&&Ki(t,e,e[11],n?1:2,i,r)}function Li(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&qe(e[3],-1),n.splice(r,1)}function $i(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Li(i,r),e>0&&(t[n-1][4]=r[4]);const s=re(t,10+e);Fi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Vi(t,e){if(!(256&e[2])){const n=e[11];Oe(n)&&n.destroyNode&&Ki(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ui(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&Ui(e[1],e),e=zi(e,t);null===e&&(e=t),Se(e)&&Ui(e[1],e),n=e&&e[4]}e=n}}(e)}}function zi(t,e){let n;return Se(t)&&(n=t[6])&&2===n.type?Di(n,t):t[3]===e?null:t[3]}function Ui(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Pn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):De(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Oe(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Me(e[3])){r!==e[3]&&Li(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Hi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?ji(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ne(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ce.ShadowDom&&n!==ce.Native)return null}return Ne(r,n)}function Bi(t,e,n,r){Oe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function qi(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?Bi(t,e,n,r):qi(t,e,n)}function Gi(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function Xi(t,e){if(2===t.type){const n=Di(t,e);return null===n?null:Qi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Ne(t,e):null}function Yi(t,e,n,r){const i=Hi(t,r,e);if(null!=i){const t=e[11],s=Xi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Wi(t,i,n[e],s);else Wi(t,i,n,s)}}function Qi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Ne(n,e);if(0===r)return Qi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Me(t)?Qi(-1,t):De(t)}}{const r=e[16],i=r[6],s=jr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Zi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;o&&0===e&&(a&&wr(De(a),r),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Zi(t,e,n.child,r,i,s,!1),Ni(e,t,i,a,s)):1===l?Ji(t,e,r,n,i,s):Ni(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Ki(t,e,n,r,i,s){Zi(n,r,t.node.child,e,i,s,!1)}function Ji(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ni(e,t,i,a[l],s);else Zi(t,e,a,o[3],i,s,!0)}function ts(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function es(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ns{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(De(o)),Me(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=jr(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vi(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Pi(n=this._lView).push(r),e.firstCreatePass&&Ri(e).push(n[7].length-1,null)}markForCheck(){Si(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){nn(!0);try{Mi(t,e,n)}finally{nn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ki(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class rs extends ns{constructor(t){super(t),this._view=t}detectChanges(){Ti(this._view)}checkNoChanges(){!function(t){nn(!0);try{Ti(t)}finally{nn(!1)}}(this._view)}get context(){return null}}let is,ss,os;function as(t,e,n){return is||(is=class extends t{}),new is(Ne(e,n))}function ls(t,e,n,r){return ss||(ss=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Wr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];null!==r&&(n[19]=r.createEmbeddedView(e)),Xr(e,n,t);const i=new ns(n);return i._tViewNode=n[6],i}}),0===n.type?new ss(r,n,as(e,n,r)):null}function cs(t,e,n,r){let i;os||(os=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return as(e,this._hostTNode,this._hostView)}get injector(){return new sr(this._hostTNode,this._hostView)}get parentInjector(){const t=Qn(this._hostTNode,this._hostView),e=Ln(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Fn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return jn(t)&&null!=n?new sr(n,e):new sr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Jt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Me(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new os(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],ne(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]|=1),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Fi(r,n,!0,Qi(i,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=$i(t,e);n&&Vi(n[1],n)}(this._lContainer,e),re(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=$i(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new ns(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Me(s))i=s,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=De(s);else if(t=r[11].createComment(""),Re(r)){const e=r[11],i=Ne(n,r);Bi(e,Gi(e,i),t,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Yi(r[1],r,t,n);r[n.index]=i=vi(s,r,t,n),Ci(r,i)}return new os(i,n,r)}let us=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>hs(),t})();const hs=function(t=!1){return function(t,e,n){if(!n&&Ee(t)){const n=$e(t.index,e);return new ns(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ns(e[16],e):null}(Ze(),Xe(),t)},ds=new $t("Set Injector scope."),ps={},fs={},gs=[];let ms=void 0;function ys(){return void 0===ms&&(ms=new Kt),ms}function vs(t,e=null,n=null,r){return new bs(t,n,e||ys(),r)}class bs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ee(e,n=>this.processProvider(n,t,e)),ee([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vt,xs(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:_t(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zt,n=lt.Default){this.assertNotDestroyed();const r=Wt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof $t)&&pt(t);e=n&&this.injectableDefInScope(n)?xs(ws(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?ys():this.parent).get(t,e=n&lt.Optional&&e===zt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(_t(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):_t(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Wt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(_t(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Mt(t)))return!1;let r=gt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=gt(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ee(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ee(r,t=>this.processProvider(t,n,r||gs))}}this.injectorDefTypes.add(s),this.records.set(s,xs(r.factory,ps));const a=r.providers;if(null!=a&&!o){const e=t;ee(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ss(t=Mt(t))?t:Mt(t&&t.provide);const i=function(t,e,n){return Cs(t)?xs(void 0,t.useValue):xs(_s(t,e,n),ps)}(t,e,n);if(Ss(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&xr()}else{let e=this.records.get(r);e?void 0===e.multi&&xr():(e=xs(void 0,ps,!0),e.factory=()=>Zt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fs?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(_t(t)):e.value===ps&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ws(t){const e=pt(t),n=null!==e?e.factory:xe(t);if(null!==n)return n;const r=gt(t);if(null!==r)return r.factory;if(t instanceof $t)throw new Error(`Token ${_t(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ie(e,"?");throw new Error(`Can't resolve all parameters for ${_t(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[bt]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _s(t,e,n){let r=void 0;if(Ss(t)){const e=Mt(t);return xe(e)||ws(e)}if(Cs(t))r=()=>Mt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Zt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Yt(Mt(t.useExisting));else{const i=Mt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${_t(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return xe(i)||ws(i);r=()=>new i(...Zt(t.deps))}var i;return r}function xs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&Ht in t}function Ss(t){return"function"==typeof t}const Ms=function(t,e,n){return function(t,e=null,n=null,r){const i=vs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ts=(()=>{class t{static create(t,e){return Array.isArray(t)?Ms(t,e,""):Ms(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=zt,t.NULL=new Kt,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>Yt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const Es=new $t("AnalyzeForEntryComponents");let ks=new Map;const Ps=new Set;function Rs(t){return"string"==typeof t?t:t.text()}function As(t,e){let n=t.styles,r=t.classes,i=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=xt(r,t):2==i&&(n=xt(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Os=null;function Is(){if(!Os){const t=At.Symbol;if(t&&t.iterator)Os=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Os=n)}}}return Os}function Ds(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class js{constructor(t){this.wrapped=t}static wrap(t){return new js(t)}static unwrap(t){return js.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof js}}function Ns(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Is()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ls(t,e,n){return t[e]=n}function $s(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Vs(t,e,n,r){const i=$s(t,e,n);return $s(t,e+1,r)||i}function zs(t,e,n,r){const i=Xe();return $s(i,on(),e)&&(Ye(),function(t,e,n,r,i,s){const o=Ne(t,e),a=e[11];if(null==r)Oe(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?$n(r):i(r,t.tagName||"",n);Oe(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(_n(),i,t,e,n,r)),zs}function Us(t,e,n,r){return $s(t,on(),n)?e+$n(n)+r:Dr}function Hs(t,e,n,r,i,s){const o=Vs(t,sn(),n,i);return an(2),o?e+$n(n)+r+$n(i)+s:Dr}function Bs(t,e,n,r,i,s,o,a){const l=Xe(),c=Ye(),u=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Gr(e,n[6],t,0,o||null,He(c,a));oi(e,n,u,He(c,l)),Cn(e,u);const h=u.tViews=ni(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=ri(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,r,i,s,o):c.data[u];Ke(h,!1);const d=l[11].createComment("");Yi(c,l,d,h),wr(d,l),Ci(l,l[u]=vi(d,l,d,h)),ke(h)&&Jr(c,l,h),null!=o&&ti(l,h,a)}function qs(t){return Le(We.lFrame.contextLView,t)}function Ws(t,e=lt.Default){const n=Xe();return null==n?Yt(t,e):Kn(Ze(),n,Mt(t),e)}function Gs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(An(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ze(),t)}function Xs(){throw new Error("invalid")}function Ys(t,e,n){const r=Xe();return $s(r,on(),e)&&si(Ye(),_n(),r,t,e,r[11],n,!1),Ys}function Qs(t,e,n,r,i){const s=i?"class":"style";Oi(t,n,e.inputs[s],s,r)}function Zs(t,e,n,r){const i=Xe(),s=Ye(),o=20+t,a=i[11],l=i[o]=qr(e,a,We.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=He(a,s),c=Gr(e,n[6],t,3,i,l);return oi(e,n,c,He(a,o)),null!==c.mergedAttrs&&As(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];Ke(c,!0);const u=c.mergedAttrs;null!==u&&Rn(a,l,u);const h=c.classes;null!==h&&es(a,l,h);const d=c.styles;null!==d&&ts(a,l,d),Yi(s,i,l,c),0===We.lFrame.elementDepthCount&&wr(l,i),We.lFrame.elementDepthCount++,ke(c)&&(Jr(s,i,c),Kr(s,c,i)),null!==r&&ti(i,c)}function Ks(){let t=Ze();Je()?tn():(t=t.parent,Ke(t,!1));const e=t;We.lFrame.elementDepthCount--;const n=Ye();n.firstCreatePass&&(Cn(n,t),Te(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Qs(n,e,Xe(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Qs(n,e,Xe(),e.styles,!1)}function Js(t,e,n,r){Zs(t,e,n,r),Ks()}function to(t,e,n){const r=Xe(),i=Ye(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=He(s,r),a=Gr(e,n[6],t,4,"ng-container",o);return null!==o&&As(a,o),oi(e,n,a,He(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];Ke(o,!0);const a=r[s]=r[11].createComment("");Yi(i,r,a,o),wr(a,r),ke(o)&&(Jr(i,r,o),Kr(i,o,r)),null!=n&&ti(r,o)}function eo(){let t=Ze();const e=Ye();Je()?tn():(t=t.parent,Ke(t,!1)),e.firstCreatePass&&(Cn(e,t),Te(t)&&e.queries.elementEnd(t))}function no(){return Xe()}function ro(t){return!!t&&"function"==typeof t.then}function io(t){return!!t&&"function"==typeof t.subscribe}function so(t,e,n=!1,r){const i=Xe(),s=Ye(),o=Ze();return function(t,e,n,r,i,s,o=!1,a){const l=ke(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Pi(e);let h=!0;if(3===r.type){const d=Ne(r,e),p=a?a(d):ue,f=p.target||d,g=u.length,m=a?t=>a(De(t[r.index])).target:r.index;if(Oe(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ao(r,e,s,!1);const t=n.listen(p.name||f,i,s);u.push(s,t),c&&c.push(i,m,g,g+1)}}else s=ao(r,e,s,!0),f.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),so}function oo(t,e,n){try{return!1!==e(n)}catch(r){return Ai(t,r),!1}}function ao(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&Si(o);let a=oo(e,n,s),l=i.__ngNextListenerFn__;for(;l;)a=oo(e,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function lo(t=1){return function(t){return(We.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,We.lFrame.contextLView))[8]}(t)}function co(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Rr(t,s,!0):Ar(r,s))return i}else n=i}return n}function uo(t){const e=Xe()[16][6];if(!e.projection){const n=e.projection=ie(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?co(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ho(t,e=0,n){const r=Xe(),i=Ye(),s=Gr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),tn(),function(t,e,n){Ji(e[11],0,e,n,Hi(t,n,e),Xi(n.parent||e[6],e))}(i,r,s)}function po(t,e,n){return fo(t,"",e,"",n),po}function fo(t,e,n,r,i){const s=Xe(),o=Us(s,e,n,r);return o!==Dr&&si(Ye(),_n(),s,t,o,s[11],i,!1),fo}function go(t,e,n,r,i,s,o){const a=Xe(),l=Hs(a,e,n,r,i,s);return l!==Dr&&si(Ye(),_n(),a,t,l,a[11],o,!1),go}const mo=[];function yo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?$r(s):zr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];vo(t[a],e)&&(l=!0,t[a+1]=r?Hr(n):Vr(n)),a=r?$r(n):zr(n)}l&&(t[n+1]=r?Vr(s):Hr(s))}function vo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ae(t,e)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wo(t){return t.substring(bo.key,bo.keyEnd)}function _o(t,e){const n=bo.textEnd;return n===e?-1:(e=bo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,bo.key=e,n),xo(t,e,n))}function xo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Co(t,e,n){return Eo(t,e,n,!1),Co}function So(t,e){return Eo(t,e,null,!0),So}function Mo(t){ko(se,To,t,!0)}function To(t,e){for(let n=function(t){return function(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}(t),_o(t,xo(t,0,bo.textEnd))}(e);n>=0;n=_o(e,n))se(t,wo(e),!0)}function Eo(t,e,n,r){const i=Xe(),s=Ye(),o=an(2);if(s.firstUpdatePass&&Ro(s,t,o,r),e!==Dr&&$s(i,o,e)){let a;null==n&&(a=function(){const t=We.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Io(s,s.data[bn()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=_t(dr(t)))),t}(e,n),r,o)}}function ko(t,e,n,r){const i=Ye(),s=an(2);i.firstUpdatePass&&Ro(i,null,s,r);const o=Xe();if(n!==Dr&&$s(o,s,n)){const a=i.data[bn()+20];if(No(a,r)&&!Po(i,s)){let t=r?a.classes:a.styles;null!==t&&(n=xt(t,n||"")),Qs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Dr&&(i=mo);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f=null,g=void 0;u===h?(l+=2,c+=2,d!==p&&(f=h,g=p)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,g=p),null!==f&&Io(t,e,n,r,f,g,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return mo;const r=[],i=dr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Po(t,e){return e>=t.expandoStartIndex}function Ro(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[bn()+20],o=Po(t,n);No(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=We.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Oo(n=Ao(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Ao(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==zr(r))return t[$r(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ao(null,t,e,n[1],r),n=Oo(n,e.attrs,r),function(t,e,n,r){t[$r(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Oo(r,t[s].hostAttrs,n);return Oo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),l=zr(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ae(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=$r(t[a+1]);t[r+1]=Lr(e,a),0!==e&&(t[e+1]=Ur(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Lr(a,0),0!==a&&(t[a+1]=Ur(t[a+1],r)),a=r;else t[r+1]=Lr(l,0),0===a?a=r:t[l+1]=Ur(t[l+1],r),l=r;u&&(t[r+1]=Vr(t[r+1])),yo(t,c,r,!0),yo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ae(s,e)>=0&&(n[r+1]=Hr(n[r+1]))}(e,c,t,r,s),o=Lr(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Ao(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Oo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Oo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),se(t,o,!!n||e[++s]))}return void 0===t?null:t}function Io(t,e,n,r,i,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];jo(1==(1&c)?Do(l,e,n,i,zr(c),o):void 0)||(jo(s)||function(t){return 2==(2&t)}(c)&&(s=Do(l,null,n,i,a,o)),function(t,e,n,r,i){const s=Oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,je(bn(),n),i,s))}function Do(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===Dr&&(u=c?mo:void 0);let h=c?oe(u,r):l===r?u:void 0;if(s&&!jo(h)&&(h=oe(e,r)),jo(h)&&(a=h,o))return a;const d=t[i+1];i=o?$r(d):zr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=oe(t,r))}return a}function jo(t){return void 0!==t}function No(t,e){return 0!=(t.flags&(e?16:32))}function Fo(t,e=""){const n=Xe(),r=Ye(),i=t+20,s=r.firstCreatePass?Gr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Oe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Yi(r,n,o,s),Ke(s,!1)}function Lo(t){return $o("",t,""),Lo}function $o(t,e,n){const r=Xe(),i=Us(r,t,e,n);return i!==Dr&&Ii(r,bn(),i),$o}function Vo(t,e,n,r,i){const s=Xe(),o=Hs(s,t,e,n,r,i);return o!==Dr&&Ii(s,bn(),o),Vo}function zo(t,e,n,r,i,s,o){const a=Xe(),l=function(t,e,n,r,i,s,o,a){const l=function(t,e,n,r,i){const s=Vs(t,e,n,r);return $s(t,e+2,i)||s}(t,sn(),n,i,o);return an(3),l?e+$n(n)+r+$n(i)+s+$n(o)+a:Dr}(a,t,e,n,r,i,s,o);return l!==Dr&&Ii(a,bn(),l),zo}function Uo(t,e,n){const r=Xe();return $s(r,on(),e)&&si(Ye(),_n(),r,t,e,r[11],n,!0),Uo}function Ho(t,e){const n=Ve(t)[1],r=n.data.length-1;Cn(n,{directiveStart:r,directiveEnd:r+1})}function Bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Pe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=qo(t.inputs),e.declaredInputs=qo(t.declaredInputs),e.outputs=qo(t.outputs);const n=i.hostBindings;n&&Xo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Wo(t,s),o&&Go(t,o),ut(t.inputs,i.inputs),ut(t.declaredInputs,i.declaredInputs),ut(t.outputs,i.outputs),Pe(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=In(i.hostAttrs,n=In(n,i.hostAttrs))}}(r)}function qo(t){return t===ue?{}:t===he?[]:t}function Wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Go(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Xo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Yo{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Qo(t){t.type.prototype.ngOnChanges&&(t.setInput=Zo,t.onChanges=function(){const t=Ko(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Zo(t,e,n,r){const i=Ko(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new Yo(l&&l.currentValue,e,o===ue),t[r]=e}function Ko(t){return t.__ngSimpleChanges__||null}function Jo(t,e,n,r,i){if(t=Mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jo(t[s],e,n,r,i);else{const s=Ye(),o=Xe();let a=Ss(t)?t:Mt(t.provide),l=_s(t);const c=Ze(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(Ss(t)||!t.multi){const r=new Pn(l,i,Ws),p=na(a,e,i?u:u+d,h);-1===p?(Zn(Gn(c,o),s,a),ta(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=na(a,e,u+d,h),f=na(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){Zn(Gn(c,o),s,a);const u=function(t,e,n,r,i){const s=new Pn(t,n,Ws);return s.multi=[],s.index=e,s.componentProviders=0,ea(s,i,r&&!n),s}(i?ia:ra,n.length,i,r,l);!i&&m&&(n[f].providerFactory=u),ta(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(u),o.push(u)}else ta(s,t,p>-1?p:f,ea(n[i?f:p],l,!i&&r));!i&&r&&m&&n[f].componentProviders++}}}function ta(t,e,n,r){const i=Ss(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ea(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function na(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ra(t,e,n,r){return sa(this.multi,[])}function ia(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=nr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),sa(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],sa(i,s);return s}function sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ye();if(r.firstCreatePass){const i=Pe(t);Jo(n,r.data,r.blueprint,i,!0),Jo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Qo.ngInherit=!0;class aa{}class la{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${_t(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new la,t})(),ua=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ha(t),t})();const ha=function(t){return as(t,Ze(),Xe())};class da{}const pa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ga(),t})();const ga=function(){const t=Xe(),e=$e(Ze().index,t);return function(t){const e=t[11];if(Oe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let ma=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class ya{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const va=new ya("9.1.7");class ba{constructor(){}supports(t){return Ns(t)}create(t){return new _a(t)}}const wa=(t,e)=>e;class _a{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Ma(n,r,i)?e:n,o=Ma(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ns(t))throw new Error(`Error trying to diff '${_t(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ds(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ds(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Is()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ds(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ds(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ds(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ds(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new xa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Sa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class xa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ca{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ds(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Sa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ca,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ma(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ta{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new Ea}}class Ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${_t(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ka(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ds(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ka{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Pa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new ba])}),t})(),Ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new Ta])}),t})();const Aa=[new Ta],Oa=new Pa([new ba]),Ia=new Ra(Aa);let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ja(t,ua),t})();const ja=function(t,e){return ls(t,e,Ze(),Xe())};let Na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fa(t,ua),t})();const Fa=function(t,e){return cs(t,e,Ze(),Xe())},La={};class $a extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=_e(t);return new Ua(e,this.ngModule)}}function Va(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const za=new $t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zn});class Ua extends aa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ir).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Va(this.componentDef.inputs)}get outputs(){return Va(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,La,i);return s!==La||r===La?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(da,Ie),o=i.get(ma,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===ce.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):qr(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:zn,clean:ki,playerHandler:null,flags:0},p=ni(0,-1,null,1,0,null,null,null,null,null),f=Wr(null,p,d,u,null,null,s,a,o,i);let g,m;pn(f,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Gr(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(As(a,l),null!==t&&(Rn(i,t,l),null!==a.classes&&es(i,t,a.classes),null!==a.styles&&ts(i,t,a.styles)));const c=r.createRenderer(t,e),u=Wr(n,ei(e),null,e.onPush?64:16,n[20],a,r,c,void 0);return o.firstCreatePass&&(Zn(Gn(a,n),o,e.type),hi(o,a),pi(a,n.length,1)),Ci(n,u),n[20]=u}(c,this.componentDef,f,s,a);if(c)if(n)Rn(a,c,["ng-version",va.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!kr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Rn(a,c,t),e&&e.length>0&&es(a,c,e.join(" "))}if(m=Fe(p,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Ze();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ui(t,r,1),fi(t,e,n));const i=nr(e,t,e.length-1,r);wr(i,e);const s=Ne(r,e);return s&&wr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Ze();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){wn(a.index-20);const t=n[1];ai(t,e),li(t,n,e.hostVars),ci(e,o)}return o}(t,this.componentDef,f,d,[Ho]),Xr(p,f,null)}finally{vn()}const y=new Ha(this.componentType,g,as(ua,m,f),f,m);return n&&!h||(y.hostView._tViewNode.child=m),y}}class Ha extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new rs(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=ri(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var Ba=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let qa={};function Wa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ga(e);if(n)return n;const r=e.split("-")[0];if(n=Ga(r),n)return n;if("en"===r)return Ba;throw new Error(`Missing locale data for the locale "${t}".`)}function Ga(t){return t in qa||(qa[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),qa[t]}const Xa=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ya="en-US";function Qa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ya=t.toLowerCase().replace(/_/g,"-"))}const Za=new Map;class Ka extends Jt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $a(this);const n=Ce(t),r=t[Nt]||null;r&&Qa(r),this._bootstrapComponents=Hn(n.bootstrap),this._r3Injector=vs(t,e,[{provide:Jt,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],_t(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ts.THROW_IF_NOT_FOUND,n=lt.Default){return t===Ts||t===Jt||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ja extends te{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${_t(e)} vs ${_t(e.name)}`)})(t,Za.get(t),e),Za.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ka(this.moduleType,t)}}function tl(t,e,n){const r=rn()+t,i=Xe();return i[r]===Dr?Ls(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function el(t,e,n,r){return rl(Xe(),rn(),t,e,n,r)}function nl(t,e){const n=t[e];return n===Dr?void 0:n}function rl(t,e,n,r,i,s){const o=e+n;return $s(t,o,i)?Ls(t,o+1,s?r.call(s,i):r(i)):nl(t,o+1)}function il(t,e){const n=Ye();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xe(r.type)),o=Gt(Ws),a=qn(!1),l=s();return qn(a),Gt(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Xe(),t,l),l}function sl(t,e,n){const r=Xe(),i=Le(r,t);return ll(r,al(r,t)?rl(r,rn(),e,i.transform,n,i):i.transform(n))}function ol(t,e,n,r){const i=Xe(),s=Le(i,t);return ll(i,al(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return Vs(t,a,i,s)?Ls(t,a+2,o?r.call(o,i,s):r(i,s)):nl(t,a+2)}(i,rn(),e,s.transform,n,r,s):s.transform(n,r))}function al(t,e){return t[1].data[e+20].pure}function ll(t,e){return js.isWrapped(e)&&(e=js.unwrap(e),t[sn()]=Dr),e}class cl extends M{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}}function ul(){return this._results[Is()]()}class hl{constructor(){this.dirty=!0,this._results=[],this.changes=new cl,this.length=0;const t=Is(),e=hl.prototype;e[t]||(e[t]=ul)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class dl{constructor(t){this.queryList=t,this.matches=null}clone(){return new dl(this.queryList)}setDirty(){this.queryList.setDirty()}}class pl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new pl(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Rl(t,e).matches&&this.queries[e].setDirty()}}class fl{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class gl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new gl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ml{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ml(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,yl(e,n[r]))}else{const n=this.metadata.predicate;n===Da?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,er(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ua||r===Na||r===Da&&0===e.type)this.addMatch(e.index,-2);else{const n=er(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function yl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function vl(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?as(ua,t,e):0===t.type?ls(Da,ua,t,e):null}(e,t):-2===n?function(t,e,n){return n===ua?as(ua,e,t):n===Da?ls(Da,ua,e,t):n===Na?cs(Na,ua,e,t):void 0}(t,e,r):nr(t,t[1],n,e)}function bl(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:vl(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function wl(t){const e=Xe(),n=Ye(),r=un();hn(r+1);const i=Rl(n,r);if(t.dirty&&ze(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=bl(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):bl(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function _l(t,e,n){Cl(Ye(),Xe(),t,e,n,!0)}function xl(t,e,n){Cl(Ye(),Xe(),t,e,n,!1)}function Cl(t,e,n,r,i,s){t.firstCreatePass&&(Pl(t,new fl(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),kl(t,e)}function Sl(t,e,n,r){Tl(Ye(),Xe(),e,n,r,!1,Ze(),t)}function Ml(t,e,n,r){Tl(Ye(),Xe(),e,n,r,!0,Ze(),t)}function Tl(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Pl(t,new fl(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),kl(t,e)}function El(){return t=Xe(),e=un(),t[19].queries[e].queryList;var t,e}function kl(t,e){const n=new hl;!function(t,e,n,r){const i=Pi(e);i.push(n),t.firstCreatePass&&Ri(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new pl),e[19].queries.push(new dl(n))}function Pl(t,e,n){null===t.queries&&(t.queries=new gl),t.queries.track(new ml(e,n))}function Rl(t,e){return t.queries.getByIndex(e)}function Al(t,e){return ls(Da,ua,t,e)}const Ol=new $t("Application Initializer");let Il=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ro(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ol,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Dl=new $t("AppId"),jl={provide:Dl,useFactory:function(){return`${Nl()}${Nl()}${Nl()}`},deps:[]};function Nl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fl=new $t("Platform Initializer"),Ll=new $t("Platform ID"),$l=new $t("appBootstrapListener");let Vl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const zl=new $t("LocaleId"),Ul=new $t("DefaultCurrencyCode");class Hl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bl=function(t){return new Ja(t)},ql=Bl,Wl=function(t){return Promise.resolve(Bl(t))},Gl=function(t){const e=Bl(t),n=Hn(Ce(t).declarations).reduce((t,e)=>{const n=_e(e);return n&&t.push(new Ua(n)),t},[]);return new Hl(e,n)},Xl=Gl,Yl=function(t){return Promise.resolve(Gl(t))};let Ql=(()=>{class t{constructor(){this.compileModuleSync=ql,this.compileModuleAsync=Wl,this.compileModuleAndAllComponentsSync=Xl,this.compileModuleAndAllComponentsAsync=Yl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Zl=new $t("compilerOptions"),Kl=(()=>Promise.resolve(0))();function Jl(t){"undefined"==typeof Zone?Kl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cl(!1),this.onMicrotaskEmpty=new cl(!1),this.onStable=new cl(!1),this.onError=new cl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.lastRequestAnimationFrameId=-1,ic(t),rc(t)}),ic(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return sc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),oc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return sc(t),e.invoke(r,i,s,o,a)}finally{oc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ic(t),rc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,nc,ec,ec);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ec(){}const nc={};function rc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ic(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function sc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oc(t){t._nesting--,rc(t)}class ac{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cl,this.onMicrotaskEmpty=new cl,this.onStable=new cl,this.onError=new cl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let lc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tc.assertNotInAngularZone(),Jl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yt(tc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),cc=(()=>{class t{constructor(){this._applications=new Map,dc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return dc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class uc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let hc,dc=new uc,pc=function(t,e,n){const r=t.get(Zl,[]).concat(e),i=new Ja(n);if(0===ks.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=At.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=Ts.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(Rs))}return e}return ks.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>function(t){Ps.delete(t)}(n));e.push(l)}),ks=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const fc=new $t("AllowMultipleToken");class gc{constructor(t,e){this.name=t,this.token=e}}function mc(t,e,n=[]){const r=`Platform: ${e}`,i=new $t(r);return(e=[])=>{let s=yc();if(!s||s.injector.get(fc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(hc&&!hc.destroyed&&!hc.injector.get(fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hc=t.get(vc);const e=t.get(Fl,null);e&&e.forEach(t=>t())}(Ts.create({providers:t,name:r}))}return function(t){const e=yc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function yc(){return hc&&!hc.destroyed?hc:null}let vc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ac:("zone.js"===t?void 0:t)||new tc({enableLongStackTrace:gr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:tc,useValue:n}];return n.run(()=>{const e=Ts.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(ur,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>_c(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Il);return t.runInitializers(),t.donePromise.then(()=>(Qa(i.injector.get(zl,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=bc({},e);return pc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(wc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${_t(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ts))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function bc(t,e){return Array.isArray(e)?e.reduce(bc,t):Object.assign(Object.assign({},t),e)}let wc=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=gr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{tc.assertNotInAngularZone(),Jl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{tc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,a.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Jt),i=n.create(Ts.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(lc,null);return s&&i.injector.get(cc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),gr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;_c(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($l,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),_c(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yt(tc),Yt(Vl),Yt(Ts),Yt(ur),Yt(ca),Yt(Il))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function _c(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class xc{}class Cc{}const Sc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Mc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Sc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>Tc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Tc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ql),Yt(Cc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Tc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ec=mc(null,"core",[{provide:Ll,useValue:"unknown"},{provide:vc,deps:[Ts]},{provide:cc,deps:[]},{provide:Vl,deps:[]}]),kc=[{provide:wc,useClass:wc,deps:[tc,Vl,Ts,ur,ca,Il]},{provide:za,deps:[tc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Il,useClass:Il,deps:[[new st,Ol]]},{provide:Ql,useClass:Ql,deps:[]},jl,{provide:Pa,useFactory:function(){return Oa},deps:[]},{provide:Ra,useFactory:function(){return Ia},deps:[]},{provide:zl,useFactory:function(t){return Qa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(zl),new st,new at]]},{provide:Ul,useValue:"USD"}];let Pc=(()=>{class t{constructor(t){}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(wc))},providers:kc}),t})();const Rc={production:!0,apiUrl:"/ps-backend"};let Ac=null;function Oc(){return Ac}const Ic=new $t("DocumentToken");let Dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:jc,token:t,providedIn:"platform"}),t})();function jc(){return Yt(Fc)}const Nc=new $t("Location Initialized");let Fc=(()=>{class t extends Dc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Oc().getLocation(),this._history=Oc().getHistory()}getBaseHrefFromDOM(){return Oc().getBaseHref(this._doc)}onPopState(t){Oc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Oc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Lc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Lc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=ht({factory:$c,token:t,providedIn:"platform"}),t})();function Lc(){return!!window.history.pushState}function $c(){return new Fc(Yt(Ic))}function Vc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function zc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Uc(t){return t&&"?"!==t[0]?"?"+t:t}let Hc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Bc,token:t,providedIn:"root"}),t})();function Bc(t){const e=Yt(Ic).location;return new Wc(Yt(Dc),e&&e.origin||"")}const qc=new $t("appBaseHref");let Wc=(()=>{class t extends Hc{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Uc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Uc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Uc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Dc),Yt(qc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Gc=(()=>{class t extends Hc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Vc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Uc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Uc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Dc),Yt(qc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Xc=(()=>{class t{constructor(t,e){this._subject=new cl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=zc(Qc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Uc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Qc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Uc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Yt(Hc),Yt(Dc))},t.normalizeQueryParams=Uc,t.joinWithSlash=Vc,t.stripTrailingSlash=zc,t.\u0275prov=ht({factory:Yc,token:t,providedIn:"root"}),t})();function Yc(){return new Xc(Yt(Hc),Yt(Dc))}function Qc(t){return t.replace(/\/index.html$/,"")}const Zc=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Kc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Jc=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),tu=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),eu=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),nu=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function ru(t,e){return lu(Wa(t)[Xa.DateFormat],e)}function iu(t,e){return lu(Wa(t)[Xa.TimeFormat],e)}function su(t,e){return lu(Wa(t)[Xa.DateTimeFormat],e)}function ou(t,e){const n=Wa(t),r=n[Xa.NumberSymbols][e];if(void 0===r){if(e===nu.CurrencyDecimal)return n[Xa.NumberSymbols][nu.Decimal];if(e===nu.CurrencyGroup)return n[Xa.NumberSymbols][nu.Group]}return r}function au(t){if(!t[Xa.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Xa.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function lu(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function cu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const uu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hu={},du=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,pu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),fu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),gu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function mu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function yu(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function vu(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case fu.FullYear:return e.getFullYear();case fu.Month:return e.getMonth();case fu.Date:return e.getDate();case fu.Hours:return e.getHours();case fu.Minutes:return e.getMinutes();case fu.Seconds:return e.getSeconds();case fu.FractionalSeconds:return e.getMilliseconds();case fu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===fu.Hours)0===a&&-12===n&&(a=12);else if(t===fu.FractionalSeconds)return l=e,yu(a,3).substr(0,l);var l;const c=ou(o,nu.MinusSign);return yu(a,e,c,r,i)}}function bu(t,e,n=Jc.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case gu.Months:return function(t,e,n){const r=Wa(t),i=lu([r[Xa.MonthsFormat],r[Xa.MonthsStandalone]],e);return lu(i,n)}(e,i,r)[t.getMonth()];case gu.Days:return function(t,e,n){const r=Wa(t),i=lu([r[Xa.DaysFormat],r[Xa.DaysStandalone]],e);return lu(i,n)}(e,i,r)[t.getDay()];case gu.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=Wa(t);return au(e),(e[Xa.ExtraData][2]||[]).map(t=>"string"==typeof t?cu(t):[cu(t[0]),cu(t[1])])}(e),n=function(t,e,n){const r=Wa(t);au(r);const i=lu([r[Xa.ExtraData][0],r[Xa.ExtraData][1]],e)||[];return lu(i,n)||[]}(e,i,r);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:c}=t[1];o>=r&&a>=i&&(o<l||o===l&&a<c)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===o&&i===a&&(s=n[e])}}),s)return s}return function(t,e,n){const r=Wa(t),i=lu([r[Xa.DayPeriodsFormat],r[Xa.DayPeriodsStandalone]],e);return lu(i,n)}(e,i,r)[o<12?0:1];case gu.Eras:return function(t,e){return lu(Wa(t)[Xa.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function wu(t){return function(e,n,r){const i=-1*r,s=ou(n,nu.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case pu.Short:return(i>=0?"+":"")+yu(o,2,s)+yu(Math.abs(i%60),2,s);case pu.ShortGMT:return"GMT"+(i>=0?"+":"")+yu(o,1,s);case pu.Long:return"GMT"+(i>=0?"+":"")+yu(o,2,s)+":"+yu(Math.abs(i%60),2,s);case pu.Extended:return 0===r?"Z":(i>=0?"+":"")+yu(o,2,s)+":"+yu(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function _u(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return yu(i,t,ou(r,nu.MinusSign))}}const xu={};function Cu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Su(t){return t instanceof Date&&!isNaN(t.valueOf())}const Mu=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Tu(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Eu{}let ku=(()=>{class t extends Eu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Wa(t)[Xa.PluralCase]}(e||this.locale)(t)){case Kc.Zero:return"zero";case Kc.One:return"one";case Kc.Two:return"two";case Kc.Few:return"few";case Kc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Yt(zl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function Pu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Ru{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Au=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){gr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ru(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Ou(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Ou(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ws(Na),Ws(Da),Ws(Pa))},t.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Ou{constructor(t,e){this.record=t,this.view=e}}let Iu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Du,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ju("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ju("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ws(Na),Ws(Da))},t.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Du{constructor(){this.$implicit=null,this.ngIf=null}}function ju(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}let Nu=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Ws(Na))},t.\u0275dir=be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Qo]}),t})();function Fu(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${_t(t)}'`)}let Lu=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(Su(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(uu))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,c),e}(n)}const e=new Date(t);if(!Su(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Wa(t)[Xa.LocaleId]}(e);if(hu[r]=hu[r]||{},hu[r][n])return hu[r][n];let i="";switch(n){case"shortDate":i=ru(e,eu.Short);break;case"mediumDate":i=ru(e,eu.Medium);break;case"longDate":i=ru(e,eu.Long);break;case"fullDate":i=ru(e,eu.Full);break;case"shortTime":i=iu(e,eu.Short);break;case"mediumTime":i=iu(e,eu.Medium);break;case"longTime":i=iu(e,eu.Long);break;case"fullTime":i=iu(e,eu.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=mu(su(e,eu.Short),[n,r]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");i=mu(su(e,eu.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");i=mu(su(e,eu.Long),[a,l]);break;case"full":const c=t(e,"fullTime"),u=t(e,"fullDate");i=mu(su(e,eu.Full),[c,u])}return i&&(hu[r][n]=i),i}(n,e)||e;let s,o=[];for(;e;){if(s=du.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Cu(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Cu(e,r)-r))}(i,r));let l="";return o.forEach(t=>{const e=function(t){if(xu[t])return xu[t];let e;switch(t){case"G":case"GG":case"GGG":e=bu(gu.Eras,tu.Abbreviated);break;case"GGGG":e=bu(gu.Eras,tu.Wide);break;case"GGGGG":e=bu(gu.Eras,tu.Narrow);break;case"y":e=vu(fu.FullYear,1,0,!1,!0);break;case"yy":e=vu(fu.FullYear,2,0,!0,!0);break;case"yyy":e=vu(fu.FullYear,3,0,!1,!0);break;case"yyyy":e=vu(fu.FullYear,4,0,!1,!0);break;case"M":case"L":e=vu(fu.Month,1,1);break;case"MM":case"LL":e=vu(fu.Month,2,1);break;case"MMM":e=bu(gu.Months,tu.Abbreviated);break;case"MMMM":e=bu(gu.Months,tu.Wide);break;case"MMMMM":e=bu(gu.Months,tu.Narrow);break;case"LLL":e=bu(gu.Months,tu.Abbreviated,Jc.Standalone);break;case"LLLL":e=bu(gu.Months,tu.Wide,Jc.Standalone);break;case"LLLLL":e=bu(gu.Months,tu.Narrow,Jc.Standalone);break;case"w":e=_u(1);break;case"ww":e=_u(2);break;case"W":e=_u(1,!0);break;case"d":e=vu(fu.Date,1);break;case"dd":e=vu(fu.Date,2);break;case"E":case"EE":case"EEE":e=bu(gu.Days,tu.Abbreviated);break;case"EEEE":e=bu(gu.Days,tu.Wide);break;case"EEEEE":e=bu(gu.Days,tu.Narrow);break;case"EEEEEE":e=bu(gu.Days,tu.Short);break;case"a":case"aa":case"aaa":e=bu(gu.DayPeriods,tu.Abbreviated);break;case"aaaa":e=bu(gu.DayPeriods,tu.Wide);break;case"aaaaa":e=bu(gu.DayPeriods,tu.Narrow);break;case"b":case"bb":case"bbb":e=bu(gu.DayPeriods,tu.Abbreviated,Jc.Standalone,!0);break;case"bbbb":e=bu(gu.DayPeriods,tu.Wide,Jc.Standalone,!0);break;case"bbbbb":e=bu(gu.DayPeriods,tu.Narrow,Jc.Standalone,!0);break;case"B":case"BB":case"BBB":e=bu(gu.DayPeriods,tu.Abbreviated,Jc.Format,!0);break;case"BBBB":e=bu(gu.DayPeriods,tu.Wide,Jc.Format,!0);break;case"BBBBB":e=bu(gu.DayPeriods,tu.Narrow,Jc.Format,!0);break;case"h":e=vu(fu.Hours,1,-12);break;case"hh":e=vu(fu.Hours,2,-12);break;case"H":e=vu(fu.Hours,1);break;case"HH":e=vu(fu.Hours,2);break;case"m":e=vu(fu.Minutes,1);break;case"mm":e=vu(fu.Minutes,2);break;case"s":e=vu(fu.Seconds,1);break;case"ss":e=vu(fu.Seconds,2);break;case"S":e=vu(fu.FractionalSeconds,1);break;case"SS":e=vu(fu.FractionalSeconds,2);break;case"SSS":e=vu(fu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wu(pu.Short);break;case"ZZZZZ":e=wu(pu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wu(pu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wu(pu.Long);break;default:return null}return xu[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,i||this.locale,r)}catch(s){throw Fu(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ws(zl))},t.\u0275pipe=we({name:"date",type:t,pure:!0}),t})(),$u=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"json",type:t,pure:!1}),t})(),Vu=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(function(t){return null==t||""===t||t!=t}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",l=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let u=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(Mu);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(u=Tu(e)),null!=n&&(h=Tu(n)),null!=r?d=Tu(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=e+t.integerLen,u=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,l&&(0===r[n]&&n>=c?r.pop():l=!1),e>=10?1:0}),0);u&&(r.unshift(u),t.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const g=c.exponent;let m=[];for(l=p.every(t=>!t);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const y=[];for(p.length>=e.lgSize&&y.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)y.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(ou(n,r)),m.length&&(a+=ou(n,i)+m.join("")),g&&(a+=ou(n,nu.Exponential)+"+"+g)}else a=ou(n,nu.Infinity);return a=t<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const t=l.charAt(u);"0"===t?n.minFrac=n.maxFrac=u+1:"#"===t?n.maxFrac=u+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Wa(t)[Xa.NumberFormats][e]}(e,Zc.Decimal),ou(e,nu.MinusSign)),e,nu.Group,nu.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(i){throw Fu(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ws(zl))},t.\u0275pipe=we({name:"number",type:t,pure:!0}),t})(),zu=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:Eu,useClass:ku}]}),t})(),Uu=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new Hu(Yt(Ic),window,Yt(ur))}),t})();class Hu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Bu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Bu,Ac||(Ac=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Wu||(Wu=document.querySelector("base"),Wu)?Wu.getAttribute("href"):null;return null==e?null:(n=e,qu||(qu=document.createElement("a")),qu.setAttribute("href",n),"/"===qu.pathname.charAt(0)?qu.pathname:"/"+qu.pathname);var n}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Pu(document.cookie,t)}}let qu,Wu=null;const Gu=new $t("TRANSITION_ID"),Xu=[{provide:Ol,useFactory:function(t,e,n){return()=>{n.get(Il).donePromise.then(()=>{const n=Oc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Gu,Ic,Ts],multi:!0}];class Yu{static init(){var t;t=new Yu,dc=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Oc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Qu=new $t("EventManagerPlugins");let Zu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Qu),Yt(tc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ku{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Oc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Ju=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),th=(()=>{class t extends Ju{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Oc().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const eh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nh=/%COMP%/g;function rh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rh(t,i,n):(i=i.replace(nh,t),n.push(i))}return n}function ih(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let sh=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new oh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ce.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ah(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ce.Native:case ce.ShadowDom:return new lh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Yt(Zu),Yt(th),Yt(Dl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class oh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(eh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=eh[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=eh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&pa.DashCase?t.style.setProperty(e,n,r&pa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&pa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ih(n)):this.eventManager.addEventListener(t,e,ih(n))}}class ah extends oh{constructor(t,e,n,r){super(t),this.component=n;const i=rh(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nh,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(nh,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class lh extends oh{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ce.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=rh(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ch=(()=>{class t extends Ku{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const uh=["alt","control","meta","shift"],hh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ph={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let fh=(()=>{class t extends Ku{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oc().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(uh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dh.hasOwnProperty(e)&&(e=dh[e]))}return hh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),uh.forEach(r=>{r!=n&&(0,ph[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const gh=mc(Ec,"browser",[{provide:Ll,useValue:"browser"},{provide:Fl,useValue:function(){Bu.makeCurrent(),Yu.init()},multi:!0},{provide:Ic,useFactory:function(){return function(t){Ae=t}(document),document},deps:[]}]),mh=[[],{provide:ds,useValue:"root"},{provide:ur,useFactory:function(){return new ur},deps:[]},{provide:Qu,useClass:ch,multi:!0,deps:[Ic,tc,Ll]},{provide:Qu,useClass:fh,multi:!0,deps:[Ic]},[],{provide:sh,useClass:sh,deps:[Zu,th,Dl]},{provide:da,useExisting:sh},{provide:Ju,useExisting:th},{provide:th,useClass:th,deps:[Ic]},{provide:lc,useClass:lc,deps:[tc]},{provide:Zu,useClass:Zu,deps:[Qu,tc]},[]];let yh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Dl,useValue:e.appId},{provide:Gu,useExisting:Dl},Xu]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(t,12))},providers:mh,imports:[zu,Pc]}),t})();"undefined"!=typeof window&&window;class vh{}function bh(t,e){return{type:7,name:t,definitions:e,options:{}}}function wh(t,e=null){return{type:4,styles:e,timings:t}}function _h(t,e=null){return{type:2,steps:t,options:e}}function xh(t){return{type:6,styles:t,offset:null}}function Ch(t,e,n){return{type:0,name:t,styles:e,options:n}}function Sh(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Mh(t){Promise.resolve(null).then(t)}class Th{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Mh(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Eh{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Mh(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function kh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ph(t){switch(t.length){case 0:return new Th;case 1:return t[0];default:return new Eh(t)}}function Rh(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ah(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Oh(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Oh(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Oh(n,"destroy",t)))}}function Oh(t,e,n){const r=n.totalTime,i=Ih(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Ih(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Dh(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function jh(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Nh=(t,e)=>!1,Fh=(t,e)=>!1,Lh=(t,e,n)=>[];const $h=kh();($h||"undefined"!=typeof Element)&&(Nh=(t,e)=>t.contains(e),Fh=(()=>{if($h||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Fh}})(),Lh=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Vh=null,zh=!1;function Uh(t){Vh||(Vh=("undefined"!=typeof document?document.body:null)||{},zh=!!Vh.style&&"WebkitAppearance"in Vh.style);let e=!0;return Vh.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Vh.style,!e&&zh)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Vh.style),e}const Hh=Fh,Bh=Nh,qh=Lh;function Wh(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Gh=(()=>{class t{validateStyleProperty(t){return Uh(t)}matchesElement(t,e){return Hh(t,e)}containsElement(t,e){return Bh(t,e)}query(t,e,n){return qh(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Th(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Xh=(()=>{class t{}return t.NOOP=new Gh,t})();function Yh(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qh(parseFloat(e[1]),e[2])}function Qh(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Zh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Qh(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Qh(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Kh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Jh(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Kh(t,n);return n}function td(t,e,n){return n?e+":"+n+";":""}function ed(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=td(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=td(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function nd(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ud(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),kh()&&ed(t))}function rd(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ud(e);t.style[n]=""}),kh()&&ed(t))}function id(t){return Array.isArray(t)?1==t.length?t[0]:_h(t):t}const sd=new RegExp("{{\\s*(.+?)\\s*}}","g");function od(t){let e=[];if("string"==typeof t){let n;for(;n=sd.exec(t);)e.push(n[1]);sd.lastIndex=0}return e}function ad(t,e,n){const r=t.toString(),i=r.replace(sd,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function ld(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const cd=/-+([a-z0-9])/g;function ud(t){return t.replace(cd,(...t)=>t[1].toUpperCase())}function hd(t,e){return 0===t||0===e}function dd(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=fd(t,e)}))}}return e}function pd(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function fd(t,e){return window.getComputedStyle(t)[e]}function gd(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(vd(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(vd(o,i))}(t,n,e)):n.push(t),n}const md=new Set(["true","1"]),yd=new Set(["false","0"]);function vd(t,e){const n=md.has(t)||yd.has(t),r=md.has(e)||yd.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?md.has(t):yd.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?md.has(e):yd.has(e)),o&&a}}const bd=new RegExp("s*:selfs*,?","g");function wd(t,e,n){return new _d(t).build(e,n)}class _d{constructor(t){this._driver=t}build(t,e){const n=new xd(e);return this._resetContextStyleTimingState(n),pd(this,id(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Cd(t)){const e=t;Object.keys(e).forEach(t=>{od(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ld(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=pd(this,id(t.animation),e);return{type:1,matchers:gd(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Sd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>pd(this,t,e)),options:Sd(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=pd(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Sd(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Md(Zh(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Md(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Zh(r,e),Md(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:xh({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=xh(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Cd(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=od(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Cd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Cd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:pd(this,id(t.animation),e),options:Sd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Sd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Sd(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(bd,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Dh(e.collectedStyles,e.currentQuerySelector,{});const o=pd(this,id(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Sd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zh(t.timings,e.errors,!0);return{type:12,animation:pd(this,id(t.animation),e),timings:n,options:null}}}class xd{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cd(t){return!Array.isArray(t)&&"object"==typeof t}function Sd(t){var e;return t?(t=Kh(t)).params&&(t.params=(e=t.params)?Kh(e):null):t={},t}function Md(t,e,n){return{duration:t,delay:e,easing:n}}function Td(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ed{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const kd=new RegExp(":enter","g"),Pd=new RegExp(":leave","g");function Rd(t,e,n,r,i,s={},o={},a,l,c=[]){return(new Ad).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class Ad{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new Ed;const u=new Id(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),pd(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Td(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Yh(n.duration):null,s=null!=n.delay?Yh(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),pd(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Od);const t=Yh(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>pd(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Yh(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),pd(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Zh(e.params?ad(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Yh(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Od);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),pd(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;pd(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Od={};class Id{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Od,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Dd(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Yh(n.duration)),null!=n.delay&&(r.delay=Yh(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ad(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Id(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Od,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new jd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(kd,"."+this._enterClassName)).replace(Pd,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Dd{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Dd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Jh(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ad(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Jh(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ld(t.values()):[],s=e.size?ld(e.values()):[];if(n){const t=r[0],e=Kh(t);t.offset=0,e.offset=1,r=[t,e]}return Td(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class jd extends Dd{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Jh(t[0],!1);a.offset=0,i.push(a);const l=Jh(t[0],!1);l.offset=Nd(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=Jh(t[r],!1);o.offset=Nd((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Td(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Nd(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Fd{}class Ld extends Fd{normalizePropertyName(t,e){return ud(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if($d[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const $d=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Vd(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const zd={};class Ud{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||zd,d=this.buildStyles(n,o&&o.params||zd,u),p=a&&a.params||zd,f=this.buildStyles(r,p,u),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),p)},w=c?[]:Rd(t,e,this.ast.animation,i,s,d,f,b,l,u);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),u.length)return Vd(e,this._triggerName,n,r,v,d,f,[],[],m,y,_,u);w.forEach(t=>{const n=t.element,r=Dh(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Dh(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const x=ld(g.values());return Vd(e,this._triggerName,n,r,v,d,f,w,x,m,y,_)}}class Hd{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Kh(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ad(s,r,e)),n[t]=s})}}),n}}class Bd{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Hd(t.style,t.options&&t.options.params||{})}),qd(this.states,"true","1"),qd(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Ud(t,e,this.states))}),this.fallbackTransition=new Ud(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function qd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Wd=new Ed;class Gd{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=wd(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Rh(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Rd(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Wd,r),s.forEach(t=>{const e=Dh(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Ph(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Ih(e,"","","");return Ah(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Xd=[],Yd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Zd{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Kh(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Kd=new Zd("void");class Jd{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,op(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Dh(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Dh(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(op(t,"ng-trigger"),op(t,"ng-trigger-"+e),a[e]=Kd),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new ep(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(op(t,"ng-trigger"),op(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Zd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Kd),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{rd(t,n),nd(t,r)})}return}const c=Dh(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(op(t,"ng-animate-queued"),s.onStart(()=>{ap(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ph(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Kd,o=new Zd("void"),a=new ep(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Yd||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){op(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Ih(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ah(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class tp{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Jd(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(np(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!np(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),op(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ap(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(np(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return np(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ph(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Yd,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)op(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ph(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ed,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=sp(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>op(t,n))});const g=[],m=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=sp(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>op(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>ap(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>ap(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>rd(i,f.fromStyles)),e.onDestroy(()=>nd(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Dh(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));_.push(f)});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Dh(x,e,[]).push(t),t.destroy()})});const S=g.filter(t=>cp(t,a,l)),M=new Map;ip(M,this.driver,y,l,"*").forEach(t=>{cp(t,a,l)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{ip(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=M.get(t),n=T.get(t);M.set(t,Object.assign(Object.assign({},e),n))});const E=[],k=[],P={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>nd(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=P;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,i,T,M);if(s.setRealPlayer(n),t===P)E.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Ph(e)),r.push(s)}}else rd(e,o.fromStyles),s.onDestroy(()=>nd(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ph(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<g.length;R++){const t=g[R],e=t.__ng_removed;if(ap(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?lp(this,t,r):this.processLeaveNode(t)}return g.length=0,E.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),E}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Dh(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}rd(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Th(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof Eh?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||Xd).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Rh(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&u.add(h),p){const e=new ep(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{Dh(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>op(t,"ng-animating"));const d=Ph(h);return d.onDestroy(()=>{c.forEach(t=>ap(t,"ng-animating")),nd(a,e.toStyles)}),u.forEach(t=>{Dh(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Th(t.duration,t.delay)}}class ep{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Th,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ah(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dh(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function np(t){return t&&1===t.nodeType}function rp(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ip(t,e,n,r,i){const s=[];n.forEach(t=>s.push(rp(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Qd,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>rp(t,s[a++])),o}function sp(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function op(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ap(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function lp(t,e,n){Ph(n).onDone(()=>t.processLeaveNode(e))}function cp(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class up{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new tp(t,e,n),this._timelineEngine=new Gd(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=wd(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Bd(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=jh(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=jh(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function hp(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=pp(e[0]),e.length>1&&(r=pp(e[e.length-1]))):e&&(n=pp(e)),n||r?new dp(t,n,r):null}let dp=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&nd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nd(this._element,this._initialStyles),this._endStyles&&(nd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(rd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),nd(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function pp(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];fp(i)&&(e=e||{},e[i]=t[i])}return e}function fp(t){return"display"===t||"position"===t}class gp{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=_p(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),wp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),bp(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){mp(this._element,this._name,"paused")}resume(){mp(this._element,this._name,"running")}setPosition(t){const e=yp(this._element,this._name);this._position=t*this._duration,wp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),bp(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=_p(t,"").split(","),r=vp(n,e);r>=0&&(n.splice(r,1),wp(t,"",n.join(",")))}(this._element,this._name))}}function mp(t,e,n){wp(t,"PlayState",n,yp(t,e))}function yp(t,e){const n=_p(t,"");return n.indexOf(",")>0?vp(n.split(","),e):vp([n],e)}function vp(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function bp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function wp(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function _p(t,e){return t.style["animation"+e]}class xp{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:fd(this.element,n))})}this.currentSnapshot=t}}class Cp extends Th{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Wh(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Sp{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Uh(t)}matchesElement(t,e){return Hh(t,e)}containsElement(t,e){return Bh(t,e)}query(t,e,n){return qh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Wh(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof xp),l={};hd(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=dd(t,e,l));if(0==n)return new Cp(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=hp(t,e),p=new xp(t,e,u,n,r,i,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Mp{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:fd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Tp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ep().toString()),this._cssKeyframesDriver=new Sp}validateStyleProperty(t){return Uh(t)}matchesElement(t,e){return Hh(t,e)}containsElement(t,e){return Bh(t,e)}query(t,e,n){return qh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof Mp);hd(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=hp(t,e=dd(t,e=e.map(t=>Jh(t,!1)),l));return new Mp(t,e,a,u)}}function Ep(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let kp=(()=>{class t extends vh{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ce.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?_h(t):t;return Ap(this._renderer,null,e,"register",[n]),new Pp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Yt(da),Yt(Ic))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Pp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Rp(this._id,t,e||{},this._renderer)}}class Rp{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ap(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Ap(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Op=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ip("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Dp(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Yt(da),Yt(up),Yt(tc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ip{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Dp extends Ip{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let jp=(()=>{class t extends up{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic),Yt(Xh),Yt(Fd))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Np=[{provide:Xh,useFactory:function(){return"function"==typeof Ep()?new Tp:new Sp}},{provide:new $t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:vh,useClass:kp},{provide:Fd,useFactory:function(){return new Ld}},{provide:up,useClass:jp},{provide:da,useFactory:function(t,e,n){return new Op(t,e,n)},deps:[sh,up,tc]}];let Fp=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:Np,imports:[yh]}),t})();function Lp(...t){let e=t[t.length-1];return E(e)?(t.pop(),V(t,e)):W(t)}class $p extends M{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const Vp=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),zp={};class Up{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Hp(t,this.resultSelector))}}class Hp extends N{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(zp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===zp?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Bp=new w(t=>t.complete());function qp(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):Bp}function Wp(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?z(n):qp()).subscribe(e)})}function Gp(){return q(1)}function Xp(t,e){return function(n){return n.lift(new Yp(t,e))}}class Yp{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qp(t,this.predicate,this.thisArg))}}class Qp extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Zp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Kp(t){return function(e){return 0===t?qp():e.lift(new Jp(t))}}class Jp{constructor(t){if(this.total=t,this.total<0)throw new Zp}call(t,e){return e.subscribe(new tf(t,this.total))}}class tf extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ef(t=sf){return e=>e.lift(new nf(t))}class nf{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new rf(t,this.errorFactory))}}class rf extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function sf(){return new Vp}function of(t=null){return e=>e.lift(new af(t))}class af{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new lf(t,this.defaultValue))}}class lf extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function cf(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xp((e,n)=>t(e,n,r)):y,Kp(1),n?of(e):ef(()=>new Vp))}function uf(t){return function(e){const n=new hf(t),r=e.lift(n);return n.caught=r}}class hf{constructor(t){this.selector=t}call(t,e){return e.subscribe(new df(t,this.selector,this.caught))}}class df extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new k(this,void 0,void 0);this.add(r);const i=j(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function pf(t){return e=>0===t?qp():e.lift(new ff(t))}class ff{constructor(t){if(this.total=t,this.total<0)throw new Zp}call(t,e){return e.subscribe(new gf(t,this.total))}}class gf extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function mf(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xp((e,n)=>t(e,n,r)):y,pf(1),n?of(e):ef(()=>new Vp))}class yf{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new vf(t,this.predicate,this.thisArg,this.source))}}class vf extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function bf(t,e){return"function"==typeof e?n=>n.pipe(bf((n,r)=>z(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new wf(t))}class wf{constructor(t){this.project=t}call(t,e){return e.subscribe(new _f(t,this.project))}}class _f extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new k(this,e,n),s=this.destination;s.add(i),this.innerSubscription=j(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function xf(...t){return Gp()(Lp(...t))}function Cf(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Sf(t,e,n))}}class Sf{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Mf(t,this.accumulator,this.seed,this.hasSeed))}}class Mf extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Tf(t,e){return U(t,e,1)}function Ef(){}function kf(t,e,n){return function(r){return r.lift(new Pf(t,e,n))}}class Pf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Rf(t,this.nextOrObserver,this.error,this.complete))}}class Rf extends f{constructor(t,e,n,i){super(t),this._tapNext=Ef,this._tapError=Ef,this._tapComplete=Ef,this._tapError=n||Ef,this._tapComplete=i||Ef,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ef,this._tapError=e.error||Ef,this._tapComplete=e.complete||Ef)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Af{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Of(t,this.callback))}}class Of extends f{constructor(t,e){super(t),this.add(new h(e))}}class If{constructor(t,e){this.id=t,this.url=e}}class Df extends If{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jf extends If{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nf extends If{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends If{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lf extends If{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $f extends If{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vf extends If{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zf extends If{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uf extends If{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hf{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wf{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xf{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Qf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Js(0,"router-outlet")},directives:function(){return[ey]},encapsulation:2}),t})();class Zf{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Kf(t){return new Zf(t)}function Jf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function tg(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class eg{constructor(t,e){this.routes=t,this.module=e}}function ng(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rg(r,ig(e,r))}}function rg(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ng(t.children,e)}function ig(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sg(t){const e=t.children&&t.children.map(sg),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Qf),n}function og(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ag(t[i],e[i]))return!1;return!0}function ag(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function lg(t){return Array.prototype.concat.apply([],t)}function cg(t){return t.length>0?t[t.length-1]:null}function ug(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function hg(t){return io(t)?t:ro(t)?z(Promise.resolve(t)):Lp(t)}function dg(t,e,n){return n?function(t,e){return og(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!mg(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ag(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!mg(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!mg(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!mg(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class pg{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return wg.serialize(this)}}class fg{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ug(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return _g(this)}}class gg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Kf(this.parameters)),this._parameterMap}toString(){return Eg(this)}}function mg(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function yg(t,e){let n=[];return ug(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),ug(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class vg{}class bg{parse(t){const e=new Og(t);return new pg(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return _g(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return ug(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=yg(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${_g(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Cg(e)}=${Cg(t)}`).join("&"):`${Cg(e)}=${Cg(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const wg=new bg;function _g(t){return t.segments.map(t=>Eg(t)).join("/")}function xg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cg(t){return xg(t).replace(/%3B/gi,";")}function Sg(t){return xg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mg(t){return decodeURIComponent(t)}function Tg(t){return Mg(t.replace(/\+/g,"%20"))}function Eg(t){return`${Sg(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Sg(t)}=${Sg(e[t])}`).join("")}`;var e}const kg=/^[^\/()?;=#]+/;function Pg(t){const e=t.match(kg);return e?e[0]:""}const Rg=/^[^=?&#]+/,Ag=/^[^?&#]+/;class Og{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fg([],{}):new fg([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new fg(t,e)),n}parseSegment(){const t=Pg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new gg(Mg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pg(this.remaining);t&&(n=t,this.capture(n))}t[Mg(e)]=Mg(n)}parseQueryParam(t){const e=function(t){const e=t.match(Rg);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ag);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Tg(e),i=Tg(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new fg([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ig{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Dg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Dg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return jg(t,this._root).map(t=>t.value)}}function Dg(t,e){if(t===e.value)return e;for(const n of e.children){const e=Dg(t,n);if(e)return e}return null}function jg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jg(t,n);if(r.length)return r.unshift(e),r}return[]}class Ng{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Lg extends Ig{constructor(t,e){super(t),this.snapshot=e,Bg(this,t)}toString(){return this.snapshot.toString()}}function $g(t,e){const n=function(t,e){const n=new Ug([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Hg("",new Ng(n,[]))}(t,e),r=new $p([new gg("",{})]),i=new $p({}),s=new $p({}),o=new $p({}),a=new $p(""),l=new Vg(r,i,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new Lg(new Ng(l,[]),n)}class Vg{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>Kf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>Kf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ug{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hg extends Ig{constructor(t,e){super(e),this.url=t,Bg(this,e)}toString(){return qg(this._root)}}function Bg(t,e){e.value._routerState=t,e.children.forEach(e=>Bg(t,e))}function qg(t){const e=t.children.length>0?` { ${t.children.map(qg).join(", ")} } `:"";return`${t.value}${e}`}function Wg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,og(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),og(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!og(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),og(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Gg(t,e){var n,r;return og(t.params,e.params)&&mg(n=t.url,r=e.url)&&n.every((t,e)=>og(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Gg(t.parent,e.parent))}function Xg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yg(t,e,n,r,i){let s={};return r&&ug(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new pg(n.root===t?e:function t(e,n,r){const i={};return ug(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new fg(e.segments,i)}(n.root,t,e),s,i)}class Qg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Xg(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==cg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zg{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Kg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Jg(t,e,n){if(t||(t=new fg([],{})),0===t.segments.length&&t.hasChildren())return tm(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Kg(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!im(o,a,e))return s;r+=2}else{if(!im(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new fg(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new fg(t.segments.slice(r.pathIndex),t.children),tm(e,0,i)}return r.match&&0===i.length?new fg(t.segments,{}):r.match&&!t.hasChildren()?em(t,e,n):r.match?tm(t,0,i):em(t,e,n)}function tm(t,e,n){if(0===n.length)return new fg(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return ug(r,(n,r)=>{null!==n&&(i[r]=Jg(t.children[r],e,n))}),ug(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new fg(t.segments,i)}}function em(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=nm(n[i].outlets);return new fg(r,t)}if(0===i&&Xg(n[0])){r.push(new gg(t.segments[e].path,n[0])),i++;continue}const s=Kg(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&Xg(o)?(r.push(new gg(s,rm(o))),i+=2):(r.push(new gg(s,{})),i++)}return new fg(r,{})}function nm(t){const e={};return ug(t,(t,n)=>{null!==t&&(e[n]=em(new fg([],{}),0,t))}),e}function rm(t){const e={};return ug(t,(t,n)=>e[n]=`${t}`),e}function im(t,e,n){return t==n.path&&og(e,n.parameters)}class sm{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Wg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Fg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ug(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Fg(t),i=t.value.component?n.children:e;ug(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Fg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Xf(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Wf(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Wg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),om(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function om(t){Wg(t.value),t.children.forEach(om)}function am(t){return"function"==typeof t}function lm(t){return t instanceof pg}class cm{constructor(t){this.segmentGroup=t||null}}class um{constructor(t){this.urlTree=t}}function hm(t){return new w(e=>e.error(new cm(t)))}function dm(t){return new w(e=>e.error(new um(t)))}function pm(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class fm{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Jt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(uf(t=>{if(t instanceof um)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof cm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(uf(t=>{if(t instanceof cm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new fg([],{primary:t}):t;return new pg(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new fg([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Lp({});const n=[],r=[],i={};return ug(t,(t,s)=>{const o=e(s,t).pipe(F(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Lp.apply(null,n.concat(r)).pipe(Gp(),cf(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Lp(...n).pipe(F(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(uf(t=>{if(t instanceof cm)return Lp(null);throw t}))),Gp(),mf(t=>!!t),uf((t,n)=>{if(t instanceof Vp||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Lp(new fg([],{}));throw new cm(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return vm(r)!==s?hm(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):hm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?dm(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new fg(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=gm(e,r,i);if(!o)return hm(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?dm(u):this.lineralizeSegments(r,u).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new fg(r,{})))):Lp(new fg(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=gm(e,n,r);if(!i)return hm(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ym(t,e,n)&&"primary"!==vm(n))}(t,n,r)?{segmentGroup:mm(new fg(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==vm(r)&&(n[vm(r)]=new fg([],{}));return n}(r,new fg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ym(t,e,n))}(t,n,r)?{segmentGroup:mm(new fg(t.segments,function(t,e,n,r){const i={};for(const s of n)ym(t,e,s)&&!r[vm(s)]&&(i[vm(s)]=new fg([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new fg(s,t))):0===r.length&&0===o.length?Lp(new fg(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(F(t=>new fg(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Lp(new eg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Lp(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?z(r).pipe(F(r=>{const i=t.get(r);let s;if(function(t){return t&&am(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!am(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return hg(s)})).pipe(Gp(),(i=t=>!0===t,t=>t.lift(new yf(i,void 0,t)))):Lp(!0);var i}(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Jf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Lp(new eg([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Lp(n);if(r.numberOfChildren>1||!r.children.primary)return pm(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new pg(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ug(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return ug(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new fg(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function gm(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||tg)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function mm(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new fg(t.segments.concat(e.segments),e.children)}return t}function ym(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function vm(t){return t.outlet||"primary"}class bm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wm{constructor(t,e){this.component=t,this.route=e}}function _m(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Fg(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!mg(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mg(t.url,e.url)||!og(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gg(t,e)||!og(t.queryParams,e.queryParams);case"paramsChange":default:return!Gg(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new bm(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),c&&s.canDeactivateChecks.push(new wm(l&&l.outlet&&l.outlet.component||null,a))}else a&&Cm(n,l,s),s.canActivateChecks.push(new bm(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),ug(o,(t,e)=>Cm(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function xm(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cm(t,e,n){const r=Fg(t),i=t.value;ug(r,(t,r)=>{Cm(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new wm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Sm=Symbol("INITIAL_VALUE");function Mm(){return bf(t=>function(...t){let e=null,n=null;return E(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),W(t,n).lift(new Up(e))}(...t.map(t=>t.pipe(pf(1),function(...t){const e=t[t.length-1];return E(e)?(t.pop(),n=>xf(t,n,e)):e=>xf(t,e)}(Sm)))).pipe(Cf((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Sm)return t;if(r===Sm&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||lm(r))return r}return t},t)},Sm),Xp(t=>t!==Sm),F(t=>lm(t)?t:!0===t),pf(1)))}function Tm(t,e){return null!==t&&e&&e(new Gf(t)),Lp(!0)}function Em(t,e){return null!==t&&e&&e(new qf(t)),Lp(!0)}function km(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Lp(r.map(r=>Wp(()=>{const i=xm(r,e,n);let s;if(function(t){return t&&am(t.canActivate)}(i))s=hg(i.canActivate(e,t));else{if(!am(i))throw new Error("Invalid CanActivate guard");s=hg(i(e,t))}return s.pipe(mf())}))).pipe(Mm()):Lp(!0)}function Pm(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Wp(()=>Lp(e.guards.map(i=>{const s=xm(i,e.node,n);let o;if(function(t){return t&&am(t.canActivateChild)}(s))o=hg(s.canActivateChild(r,t));else{if(!am(s))throw new Error("Invalid CanActivateChild guard");o=hg(s(r,t))}return o.pipe(mf())})).pipe(Mm())));return Lp(i).pipe(Mm())}class Rm{}class Am{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Dm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ug([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ng(n,e),i=new Hg(this.url,r);return this.inheritParamsAndData(i._root),Lp(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=zg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=yg(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Rm))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rm}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Rm;if((t.outlet||"primary")!==r)throw new Rm;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?cg(n).parameters:{};i=new Ug(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(t),r,t.component,t,Om(e),Im(e)+n.length,Lm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rm;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||tg)(n,t,e);if(!r)throw new Rm;const i={};ug(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ug(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fm(t),r,t.component,t,Om(e),Im(e)+s.length,Lm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Dm(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Ng(i,t)]}if(0===a.length&&0===c.length)return[new Ng(i,[])];const u=this.processSegment(a,l,c,"primary");return[new Ng(i,u)]}}function Om(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Im(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dm(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>jm(t,e,n)&&"primary"!==Nm(n))}(t,n,r)){const i=new fg(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Nm(s)){const n=new fg([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Nm(s)]=n}return i}(t,e,r,new fg(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>jm(t,e,n))}(t,n,r)){const s=new fg(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(jm(t,n,a)&&!i[Nm(a)]){const n=new fg([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Nm(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new fg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Nm(t){return t.outlet||"primary"}function Fm(t){return t.data||{}}function Lm(t){return t.resolve||{}}function $m(t,e,n,r){const i=xm(t,e,r);return hg(i.resolve?i.resolve(e,n):i(e,n))}function Vm(t){return function(e){return e.pipe(bf(e=>{const n=t(e);return n?z(n).pipe(F(()=>e)):z([e])}))}}class zm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Um=new $t("ROUTES");class Hm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new eg(lg(r.injector.get(Um)).map(sg),r)}))}loadModuleFactory(t){return"string"==typeof t?z(this.loader.load(t)):hg(t()).pipe(U(t=>t instanceof te?Lp(t):z(this.compiler.compileModuleAsync(t))))}}class Bm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function qm(t){throw t}function Wm(t,e,n){return e.parse("/")}function Gm(t,e){return Lp(null)}let Xm=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=qm,this.malformedUriErrorHandler=Wm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gm,afterPreactivation:Gm},this.urlHandlingStrategy=new Bm,this.routeReuseStrategy=new zm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Jt),this.console=i.get(Vl);const l=i.get(tc);this.isNgZoneEnabled=l instanceof tc,this.resetConfig(a),this.currentUrlTree=new pg(new fg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hm(s,o,t=>this.triggerEvent(new Hf(t)),t=>this.triggerEvent(new Bf(t))),this.routerState=$g(this.currentUrlTree,this.rootComponentType),this.transitions=new $p({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Xp(t=>0!==t.id),F(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),bf(t=>{let n=!1,r=!1;return Lp(t).pipe(kf(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bf(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Lp(t).pipe(bf(t=>{const n=this.transitions.getValue();return e.next(new Df(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Bp:[t]}),bf(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(bf(t=>function(t,e,n,r,i){return new fm(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(F(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),kf(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(U(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Am(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(F(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),kf(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),kf(t=>{const n=new Lf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Df(n,this.serializeUrl(r),i,s);e.next(a);const l=$g(r,this.rootComponentType).snapshot;return Lp(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bp}),Vm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),kf(t=>{const e=new $f(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign(Object.assign({},t),{guards:_m(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Lp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return z(t).pipe(U(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Lp(s.map(s=>{const o=xm(s,e,i);let a;if(function(t){return t&&am(t.canDeactivate)}(o))a=hg(o.canDeactivate(t,e,n,r));else{if(!am(o))throw new Error("Invalid CanDeactivate guard");a=hg(o(t,e,n,r))}return a.pipe(mf())})).pipe(Mm()):Lp(!0)}(t.component,t.route,n,e,r)),mf(t=>!0!==t,!0))}(o,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return z(e).pipe(Tf(e=>z([Em(e.route.parent,r),Tm(e.route,r),Pm(t,e.path,n),km(t,e.route,n)]).pipe(Gp(),mf(t=>!0!==t,!0))),mf(t=>!0!==t,!0))}(r,s,t,e):Lp(n)),F(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),kf(t=>{if(lm(t.guardsResult)){const e=Jf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),kf(t=>{const e=new Vf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Xp(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Nf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Vm(t=>{if(t.guards.canActivateChecks.length)return Lp(t).pipe(kf(t=>{const e=new zf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?z(i).pipe(Tf(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Lp({});if(1===i.length){const s=i[0];return $m(t[s],e,n,r).pipe(F(t=>({[s]:t})))}const s={};return z(i).pipe(U(i=>$m(t[i],e,n,r).pipe(F(t=>(s[i]=t,t))))).pipe(cf(),F(()=>s))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),zg(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return v(Cf(t,e),Kp(1),of(e))(n)}:function(e){return v(Cf((e,n,r)=>t(e,n,r+1)),Kp(1))(e)}}((t,e)=>t),F(e=>t)):Lp(t)}))}),kf(t=>{const e=new Uf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Vm(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ng(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Vg(new $p((i=n.value).url),new $p(i.params),new $p(i.queryParams),new $p(i.fragment),new $p(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Ng(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Lg(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),kf(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),F(t=>(new sm(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),kf({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Nf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Af(i))),uf(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=lm(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Nf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ff(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return Bp}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ng(t),this.config=t.map(sg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;gr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=s?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Yg(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Qg(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ug(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Qg(n,e,r)}(n);if(s.toRoot())return Yg(e.root,new fg([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Zg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Zg(n.snapshot._urlSegment,!0,0);const r=Xg(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zg(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?tm(o.segmentGroup,o.index,s.commands):Jg(o.segmentGroup,o.index,s.commands);return Yg(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){gr()&&this.isNgZoneEnabled&&!tc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=lm(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(lm(t))return dg(this.currentUrlTree,t,e);const n=this.parseUrl(t);return dg(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new jf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;i?(o=i.resolve,a=i.reject,l=i.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){Xs()},t.\u0275dir=be({type:t}),t})(),Ym=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Zm(this.skipLocationChange),replaceUrl:Zm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ws(Xm),Ws(Vg),Gs("tabindex"),Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&so("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),Qm=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof jf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){gr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Zm(this.skipLocationChange),replaceUrl:Zm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Zm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Zm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ws(Xm),Ws(Vg),Ws(Hc))},t.\u0275dir=be({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&so("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(Uo("href",e.href,br),zs("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Qo]}),t})();function Zm(t){return""===t||!!t}let Km=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof jf&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(Xm),Ws(ua),Ws(fa),Ws(Ym,8),Ws(Qm,8))},t.\u0275dir=be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(Sl(n,Ym,!0),Sl(n,Qm,!0)),2&t&&(wl(r=El())&&(e.links=r),wl(r=El())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Qo]}),t})();class Jm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ty,this.attachRef=null}}class ty{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Jm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ey=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new cl,this.deactivateEvents=new cl,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ny(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ws(ty),Ws(Na),Ws(ca),Gs("name"),Ws(us))},t.\u0275dir=be({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ny{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Vg?this.route:t===ty?this.childContexts:this.parent.get(t,e)}}class ry{}class iy{preload(t,e){return Lp(null)}}let sy=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Hm(e,n,e=>t.triggerEvent(new Hf(e)),e=>t.triggerEvent(new Bf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xp(t=>t instanceof jf),Tf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Jt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return z(n).pipe(q(),F(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Xm),Yt(xc),Yt(Ql),Yt(Ts),Yt(ry))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),oy=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Df?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Yf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){Xs()},t.\u0275dir=be({type:t}),t})();const ay=new $t("ROUTER_CONFIGURATION"),ly=new $t("ROUTER_FORROOT_GUARD"),cy=[Xc,{provide:vg,useClass:bg},{provide:Xm,useFactory:function(t,e,n,r,i,s,o,a={},l,c){const u=new Xm(null,t,e,n,r,i,s,lg(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Oc();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[vg,ty,Xc,Ts,xc,Ql,Um,ay,[class{},new st],[class{},new st]]},ty,{provide:Vg,useFactory:function(t){return t.routerState.root},deps:[Xm]},{provide:xc,useClass:Mc},sy,iy,class{preload(t,e){return e().pipe(uf(()=>Lp(null)))}},{provide:ay,useValue:{enableTracing:!1}}];function uy(){return new gc("Router",Xm)}let hy=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[cy,gy(e),{provide:ly,useFactory:fy,deps:[[Xm,new st,new at]]},{provide:ay,useValue:n||{}},{provide:Hc,useFactory:py,deps:[Dc,[new it(qc),new st],ay]},{provide:oy,useFactory:dy,deps:[Xm,Uu,ay]},{provide:ry,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:iy},{provide:gc,multi:!0,useFactory:uy},[my,{provide:Ol,multi:!0,useFactory:yy,deps:[my]},{provide:by,useFactory:vy,deps:[my]},{provide:$l,multi:!0,useExisting:by}]]}}static forChild(e){return{ngModule:t,providers:[gy(e)]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(ly,8),Yt(Xm,8))}}),t})();function dy(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oy(t,e,n)}function py(t,e,n={}){return n.useHash?new Gc(t,e):new Wc(t,e)}function fy(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gy(t){return[{provide:Es,multi:!0,useValue:t},{provide:Um,multi:!0,useValue:t}]}let my=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new M}appInitializer(){return this.injector.get(Nc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Xm),r=this.injector.get(ay);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Lp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(ay),n=this.injector.get(sy),r=this.injector.get(oy),i=this.injector.get(Xm),s=this.injector.get(wc);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ts))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function yy(t){return t.appInitializer.bind(t)}function vy(t){return t.bootstrapListener.bind(t)}const by=new $t("Router Initializer");class wy{}class _y{}class xy{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xy?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xy;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xy?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Cy{encodeKey(t){return Sy(t)}encodeValue(t){return Sy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Sy(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class My{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Cy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new My({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Ty(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ey(t){return"undefined"!=typeof Blob&&t instanceof Blob}function ky(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Py{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new xy),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new My,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ty(this.body)||Ey(this.body)||ky(this.body)||"string"==typeof this.body?this.body:this.body instanceof My?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ky(this.body)?null:Ey(this.body)?this.body.type||null:Ty(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof My?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new Py(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const Ry=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class Ay{constructor(t,e=200,n="OK"){this.headers=t.headers||new xy,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Oy extends Ay{constructor(t={}){super(t),this.type=Ry.ResponseHeader}clone(t={}){return new Oy({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Iy extends Ay{constructor(t={}){super(t),this.type=Ry.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Iy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Dy extends Ay{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function jy(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ny=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Py)r=t;else{let i=void 0;i=n.headers instanceof xy?n.headers:new xy(n.headers);let s=void 0;n.params&&(s=n.params instanceof My?n.params:new My({fromObject:n.params})),r=new Py(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Lp(r).pipe(Tf(t=>this.handler.handle(t)));if(t instanceof Py||"events"===n.observe)return i;const s=i.pipe(Xp(t=>t instanceof Iy));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(F(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new My).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,jy(n,e))}post(t,e,n={}){return this.request("POST",t,jy(n,e))}put(t,e,n={}){return this.request("PUT",t,jy(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Yt(wy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Fy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ly=new $t("HTTP_INTERCEPTORS");let $y=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Vy=/^\)\]\}',?\n/;class zy{}let Uy=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Hy=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new xy(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Oy({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Vy,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new Iy({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Dy({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Dy({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(s()),l=!0);let i={type:Ry.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:Ry.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:Ry.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Yt(zy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const By=new $t("XSRF_COOKIE_NAME"),qy=new $t("XSRF_HEADER_NAME");class Wy{}let Gy=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ic),Yt(Ll),Yt(By))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Xy=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Wy),Yt(qy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Yy=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Ly,[]);this.chain=t.reduceRight((t,e)=>new Fy(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(_y),Yt(Ts))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Qy=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Xy,useClass:$y}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:By,useValue:e.cookieName}:[],e.headerName?{provide:qy,useValue:e.headerName}:[]]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Xy,{provide:Ly,useExisting:Xy,multi:!0},{provide:Wy,useClass:Gy},{provide:By,useValue:"XSRF-TOKEN"},{provide:qy,useValue:"X-XSRF-TOKEN"}]}),t})(),Zy=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Ny,{provide:wy,useClass:Yy},Hy,{provide:_y,useExisting:Hy},Uy,{provide:zy,useExisting:Uy}],imports:[[Qy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Ky(t,e){return new w(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=z(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Jy=new $t("NgValueAccessor"),tv={provide:Jy,useExisting:St(()=>ev),multi:!0};let ev=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&so("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[oa([tv])]}),t})();const nv={provide:Jy,useExisting:St(()=>iv),multi:!0},rv=new $t("CompositionEventMode");let iv=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Oc()?Oc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua),Ws(rv,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&so("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[oa([nv])]}),t})(),sv=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})(),ov=(()=>{class t extends sv{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return av(e||t)},t.\u0275dir=be({type:t,features:[Bo]}),t})();const av=or(ov);function lv(){throw new Error("unimplemented")}class cv extends sv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return lv()}get asyncValidator(){return lv()}}class uv{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let hv=(()=>{class t extends uv{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(cv,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&So("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Bo]}),t})(),dv=(()=>{class t extends uv{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(ov,2))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&So("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Bo]}),t})();function pv(t){return null==t||0===t.length}const fv=new $t("NgValidators"),gv=new $t("NgAsyncValidators"),mv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yv{static min(t){return e=>{if(pv(e.value)||pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(pv(e.value)||pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return pv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return pv(t.value)||mv.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(pv(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return yv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(pv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(vv);return 0==e.length?null:function(t){return wv(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(vv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Ky(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ky(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ky(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return Ky(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(bv)).pipe(F(wv))}}}function vv(t){return null!=t}function bv(t){const e=ro(t)?z(t):t;if(!io(e))throw new Error("Expected validator to return Promise or Observable.");return e}function wv(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _v(t){return t.validate?e=>t.validate(e):t}function xv(t){return t.validate?e=>t.validate(e):t}const Cv={provide:Jy,useExisting:St(()=>Sv),multi:!0};let Sv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&so("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[oa([Cv])]}),t})();const Mv={provide:Jy,useExisting:St(()=>Ev),multi:!0};let Tv=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Ev=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(cv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua),Ws(Tv),Ws(Ts))},t.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&so("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[oa([Mv])]}),t})();const kv={provide:Jy,useExisting:St(()=>Pv),multi:!0};let Pv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&so("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[oa([kv])]}),t})();const Rv='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Av='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ov={provide:Jy,useExisting:St(()=>Dv),multi:!0};function Iv(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Dv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ds}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Iv(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&so("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[oa([Ov])]}),t})(),jv=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Iv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ws(ua),Ws(fa),Ws(Dv,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Nv={provide:Jy,useExisting:St(()=>Lv),multi:!0};function Fv(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Lv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ds}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Ws(fa),Ws(ua))},t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&so("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[oa([Nv])]}),t})(),$v=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Fv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Fv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ws(ua),Ws(fa),Ws(Lv,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Vv(t,e){return[...e.path,t]}function zv(t,e){t||Hv(e,"Cannot find control with"),e.valueAccessor||Hv(e,"No value accessor for form control with"),t.validator=yv.compose([t.validator,e.validator]),t.asyncValidator=yv.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Uv(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Uv(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Uv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hv(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Bv(t){return null!=t?yv.compose(t.map(_v)):null}function qv(t){return null!=t?yv.composeAsync(t.map(xv)):null}const Wv=[ev,Pv,Sv,Dv,Lv,Ev];function Gv(t){const e=Yv(t)?t.validators:t;return Array.isArray(e)?Bv(e):e||null}function Xv(t,e){const n=Yv(e)?e.asyncValidators:t;return Array.isArray(n)?qv(n):n||null}function Yv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Qv{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Gv(t)}setAsyncValidators(t){this.asyncValidator=Xv(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=bv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Kv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Jv&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new cl,this.statusChanges=new cl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Zv extends Qv{constructor(t=null,e,n){super(Gv(e),Xv(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Kv extends Qv{constructor(t,e,n){super(Gv(e),Xv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Zv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Jv extends Qv{constructor(t,e,n){super(Gv(e),Xv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Zv?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const tb={provide:ov,useExisting:St(()=>nb)},eb=(()=>Promise.resolve(null))();let nb=(()=>{class t extends ov{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new cl,this.form=new Kv({},Bv(t),qv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){eb.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),zv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){eb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){eb.then(()=>{const e=this._findContainer(t.path),n=new Kv({});(function(t,e){null==t&&Hv(e,"Cannot find control with"),t.validator=yv.compose([t.validator,e.validator]),t.asyncValidator=yv.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){eb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){eb.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Ws(fv,10),Ws(gv,10))},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&so("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[oa([tb]),Bo]}),t})(),rb=(()=>{class t extends ov{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Vv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Bv(this._validators)}get asyncValidator(){return qv(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return ib(e||t)},t.\u0275dir=be({type:t,features:[Bo]}),t})();const ib=or(rb);class sb{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Rv}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Av}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Rv}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Av}`)}}const ob={provide:ov,useExisting:St(()=>ab)};let ab=(()=>{class t extends rb{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof nb||sb.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ws(ov,5),Ws(fv,10),Ws(gv,10))},t.\u0275dir=be({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[oa([ob]),Bo]}),t})();const lb={provide:cv,useExisting:St(()=>ub)},cb=(()=>Promise.resolve(null))();let ub=(()=>{class t extends cv{constructor(t,e,n,r){super(),this.control=new Zv,this._registered=!1,this.update=new cl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Hv(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===iv?n=e:(s=e,Wv.some(t=>s.constructor===t)?(r&&Hv(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Hv(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Hv(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ds(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Vv(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Bv(this._rawValidators)}get asyncValidator(){return qv(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ab)&&this._parent instanceof rb?sb.formGroupNameException():this._parent instanceof ab||this._parent instanceof nb||sb.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||sb.missingNameException()}_updateValue(t){cb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;cb.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ws(ov,9),Ws(fv,10),Ws(gv,10),Ws(Jy,10))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[oa([lb]),Bo,Qo]}),t})(),hb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const db={provide:fv,useExisting:St(()=>pb),multi:!0};let pb=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?yv.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&zs("required",e.required?"":null)},inputs:{required:"required"},features:[oa([db])]}),t})(),fb=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),gb=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Tv],imports:[fb]}),t})();class mb extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class yb extends mb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let vb=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class bb extends vb{constructor(t,e=vb.now){super(t,()=>bb.delegate&&bb.delegate!==this?bb.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return bb.delegate&&bb.delegate!==this?bb.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const wb=new bb(yb);function _b(t,e,n,i){return r(n)&&(i=n,n=void 0),i?_b(t,e,n).pipe(F(t=>l(t)?i(...t):i(t))):new w(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class xb{call(t,e){return e.subscribe(new Cb(t))}}class Cb extends N{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=j(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function Sb(t){return e=>e.lift(new Mb(t))}class Mb{constructor(t){this.notifier=t}call(t,e){const n=new Tb(t),r=j(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Tb extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function Eb(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new kb(t,n))}}class kb{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Pb(t,this.observables,this.project))}}class Pb extends N{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(j(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Rb(t,e){return new w(e?n=>e.schedule(Ab,0,{error:t,subscriber:n}):e=>e.error(t))}function Ab({error:t,subscriber:e}){e.error(t)}let Ob=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Lp(this.value);case"E":return Rb(this.error);case"C":return qp()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Ib(t,e=wb){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Db(r,e))}class Db{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new jb(t,this.delay,this.scheduler))}}class jb extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(jb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Nb(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Ob.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Ob.createComplete()),this.unsubscribe()}}class Nb{constructor(t,e){this.time=t,this.notification=e}}$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const Fb=["*"];$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const Lb=["dialog"];function $b(t,e){1&t&&Fo(0),2&t&&Lo(lo(2).title)}function Vb(t,e){}function zb(t,e){if(1&t&&(Zs(0,"h3",3),Bs(1,$b,1,1,"ng-template",null,4,Al),Bs(3,Vb,0,0,"ng-template",5),Ks()),2&t){const t=qs(2),e=lo();Nr(3),Ys("ngTemplateOutlet",e.isTitleTemplate()?e.title:t)("ngTemplateOutletContext",e.context)}}function Ub(t,e){}function Hb(t,e){if(1&t){const t=no();Zs(0,"li",4),Zs(1,"a",5),so("click",(function(n){Qe(t);const r=e.$implicit;return lo().select(r.id),n.preventDefault()})),Fo(2),Bs(3,Ub,0,0,"ng-template",6),Ks(),Ks()}if(2&t){const t=e.$implicit,n=lo();Nr(1),So("active",t.id===n.activeId)("disabled",t.disabled),Ys("id",t.id),zs("tabindex",t.disabled?"-1":void 0)("aria-controls",n.destroyOnHide&&t.id!==n.activeId?null:t.id+"-panel")("aria-selected",t.id===n.activeId)("aria-disabled",t.disabled),Nr(1),$o(" ",t.title,""),Nr(1),Ys("ngTemplateOutlet",(null==t.titleTpl?null:t.titleTpl.templateRef)||null)}}function Bb(t,e){}function qb(t,e){if(1&t&&(Zs(0,"div",8),Bs(1,Bb,0,0,"ng-template",6),Ks()),2&t){const t=lo().$implicit,e=lo();"tab-pane ",n=t.id===e.activeId?"active":null,"",ko(se,To,Us(Xe(),"tab-pane ",n,""),!0),fo("id","",t.id,"-panel"),zs("aria-labelledby",t.id),Nr(1),Ys("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}var n}function Wb(t,e){if(1&t&&Bs(0,qb,2,6,"div",7),2&t){const t=e.$implicit,n=lo();Ys("ngIf",!n.destroyOnHide||t.id===n.activeId)}}function Gb(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.value04d611d19c117c60c9e14d0a04399a027184bc775214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let Xb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Yb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Qb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Zb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Kb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();var Jb=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const tw=(t,e)=>!!e&&e.some(e=>e.contains(t)),ew=(t,e)=>!e||null!=function(t,e){return e?t.closest(e):null}(t,e),nw=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();const rw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function iw(t){const e=Array.from(t.querySelectorAll(rw)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}class sw{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=o.top-(e.offsetHeight+l+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+u+h);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}}const ow=/\s+/,aw=new sw;let lw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu,gb]]}),t})(),cw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["",8,"navbar"]]}),t})(),uw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),hw=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();class dw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class pw{constructor(t,e,n,r,i,s){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._componentFactoryResolver=i,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}close(){var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(t,e){if(t){if(t instanceof Da){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new dw([n.rootNodes],n)}return new dw([[this._renderer.createText(`${t}`)]])}return new dw([])}}const fw=()=>{};let gw=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):fw}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(Yt(Ic))},t.\u0275prov=ht({factory:function(){return new t(Yt(Ic))},token:t,providedIn:"root"}),t})(),mw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&Mo("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class yw{close(t){}dismiss(t){}}class vw{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var bw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let ww=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new M,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new cl}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{_b(t,"keydown").pipe(Sb(this._closed$),Xp(t=>t.which===Jb.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(bw.ESC))}));let e=!1;_b(this._dialogEl.nativeElement,"mousedown").pipe(Sb(this._closed$),kf(()=>e=!1),bf(()=>_b(t,"mouseup").pipe(Sb(this._closed$),pf(1))),Xp(({target:e})=>t===e)).subscribe(()=>{e=!0}),_b(t,"click").pipe(Sb(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(bw.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=iw(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(Ws(Ic),Ws(ua),Ws(tc))},t.\u0275cmp=pe({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&_l(Lb,!0),2&t&&wl(n=El())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(t,e){2&t&&(zs("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy),Mo("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Fb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(uo(),Zs(0,"div",0,1),Zs(2,"div",2),ho(3),Ks(),Ks()),2&t&&Mo("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),_w=(()=>{let t=class{constructor(t,e,n,r,i,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=s,this._activeWindowCmptHasChanged=new M,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=_b(e,"focusin").pipe(Sb(n),F(t=>t.target));_b(e,"keydown").pipe(Sb(n),Xp(t=>t.which===Jb.Tab),Eb(t)).subscribe(([t,n])=>{const[r,i]=iw(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&_b(e,"click").pipe(Sb(n),Eb(t),F(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Gb(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const l=new yw,c=this._getContentRef(t,r.injector||e,n,l,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new vw(h,c,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(mw).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(ww).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Gb(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Gb(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof Da?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new dw([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new dw([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new dw([[e]])}_createFromComponent(t,e,n,r,i){const s=t.resolveComponentFactory(n),o=Ts.create({providers:[{provide:yw,useValue:r}],parent:e}),a=s.create(o),l=a.location.nativeElement;return i.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new dw([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(Yt(wc),Yt(Ts),Yt(Ic),Yt(gw),Yt(da),Yt(tc))},t.\u0275prov=ht({factory:function(){return new t(Yt(wc),Yt(Vt),Yt(Ic),Yt(gw),Yt(da),Yt(tc))},token:t,providedIn:"root"}),t})(),xw=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(Yt(ca),Yt(Ts),Yt(_w),Yt(hw))},t.\u0275prov=ht({factory:function(){return new t(Yt(ca),Yt(Vt),Yt(_w),Yt(hw))},token:t,providedIn:"root"}),t})(),Cw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[xw]}),t})(),Sw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Mw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})();class Tw{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const Ew={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},kw=t=>t>0?Ib(t):t=>t;let Pw=(()=>{let t=class{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Rw=0,Aw=(()=>{let t=class{isTitleTemplate(){return this.title instanceof Da}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(Uo("id",e.id),Mo("popover"+(e.popoverClass?" "+e.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Fb,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(uo(),Js(0,"div",0),Bs(1,zb,4,2,"h3",1),Zs(2,"div",2),ho(3),Ks()),2&t&&(Nr(1),Ys("ngIf",null!=e.title))},directives:[Iu,Nu],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),t})(),Ow=(()=>{let t=class{constructor(t,e,n,r,i,s,o,a,l,c){this._elementRef=t,this._renderer=e,this._ngZone=o,this._document=a,this._changeDetector=l,this.shown=new cl,this.hidden=new cl,this._ngbPopoverWindowId=`ngb-popover-${Rw++}`,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new pw(Aw,n,i,e,r,c),this._zoneSubscription=o.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,r,i){let s=Array.isArray(n)?n:n.split(ow);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,l=t=>{const[e,n]=t.split("-"),r=[];return r.push(`bs-popover-${e}`),n&&r.push(`bs-popover-${e}-${n}`),r.forEach(t=>{a.add(t)}),r};o.forEach(t=>{a.remove(`bs-popover-${t}`)});let c=s.findIndex(t=>"auto"===t);c>=0&&o.forEach((function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(c++,1,t)}));const u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let h=null,d=!1;for(h of s){let n=l(h);if(aw.positionElements(t,e,h,r)){d=!0;break}n.forEach(t=>{a.remove(t)})}d||(h=s[0],l(h),aw.positionElements(t,e,h,r))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}open(t){this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,t),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=t,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,r,i,s,o,a){var c;n&&t.runOutsideAngular((c=()=>{const c=_b(e,"keydown").pipe(Sb(i),Xp(t=>t.which===Jb.Escape),kf(t=>t.preventDefault())),u=_b(e,"mousedown").pipe(F(t=>{const e=t.target;return 2!==t.button&&!tw(e,o)&&("inside"===n?tw(e,s)&&ew(e,a):"outside"===n?!tw(e,s):ew(e,a)||!tw(e,s))}),Sb(i));(function(...t){if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return W(t,void 0).lift(new xb)})([c,_b(e,"mouseup").pipe(Eb(u),Xp(([t,e])=>e),Ib(0),Sb(i))]).subscribe(()=>t.run(r))},nw?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,r,i,s,o=0,a=0){const l=function(t,e=Ew){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new Tw(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===l.length&&l[0].isManual())return()=>{};const c=function(t,e,n,r){return new w(i=>{const s=[],o=()=>i.next(!0),a=()=>i.next(!1),l=()=>i.next(!r());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,l)):s.push(t.listen(e,n.open,o),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,l,r).pipe(function(t,e,n){return r=>{let i=null;const s=r.pipe(F(t=>({open:t})),Xp(t=>{const e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)}),et());return G(s.pipe(Xp(t=>t.open),kw(t)),s.pipe(Xp(t=>!t.open),kw(e))).pipe(Xp(t=>t===i&&(i=null,t.open!==n())),F(t=>t.open))}}(o,a,r)).subscribe(t=>t?i():s());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:e,disablePopover:n,popoverClass:r}){r&&this.isOpen()&&(this._windowRef.instance.popoverClass=r.currentValue),(t||e||n)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(Ws(ua),Ws(fa),Ws(Ts),Ws(ca),Ws(Na),Ws(Pw),Ws(tc),Ws(Ic),Ws(us),Ws(wc))},t.\u0275dir=be({type:t,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Qo]}),t})(),Iw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Dw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),jw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Nw=(()=>{let t=class{constructor(){this.justify="start",this.orientation="horizontal",this.type="tabs"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Fw=0,Lw=(()=>{let t=class{constructor(t){this.templateRef=t}};return t.\u0275fac=function(e){return new(e||t)(Ws(Da))},t.\u0275dir=be({type:t,selectors:[["ng-template","ngbTabTitle",""]]}),t})(),$w=(()=>{let t=class{constructor(t){this.templateRef=t}};return t.\u0275fac=function(e){return new(e||t)(Ws(Da))},t.\u0275dir=be({type:t,selectors:[["ng-template","ngbTabContent",""]]}),t})(),Vw=(()=>{let t=class{constructor(){this.id=`ngb-tab-${Fw++}`,this.disabled=!1}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["ngb-tab"]],contentQueries:function(t,e,n){var r;1&t&&(Sl(n,Lw,!1),Sl(n,$w,!1)),2&t&&(wl(r=El())&&(e.titleTpls=r),wl(r=El())&&(e.contentTpls=r))},inputs:{id:"id",disabled:"disabled",title:"title"}}),t})(),zw=(()=>{let t=class{constructor(t){this.destroyOnHide=!0,this.tabChange=new cl,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}set justify(t){this.justifyClass="fill"===t||"justified"===t?`nav-${t}`:`justify-content-${t}`}select(t){let e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){let t=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:()=>{t=!0}}),t||(this.activeId=e.id)}}ngAfterContentChecked(){let t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null}_getTabById(t){let e=this.tabs.filter(e=>e.id===t);return e.length?e[0]:null}};return t.\u0275fac=function(e){return new(e||t)(Ws(Nw))},t.\u0275cmp=pe({type:t,selectors:[["ngb-tabset"]],contentQueries:function(t,e,n){var r;1&t&&Sl(n,Vw,!1),2&t&&wl(r=El())&&(e.tabs=r)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(t,e){1&t&&(Zs(0,"ul",0),Bs(1,Hb,4,11,"li",1),Ks(),Zs(2,"div",2),Bs(3,Wb,1,1,"ng-template",3),Ks()),2&t&&(Mo("nav nav-"+e.type+("horizontal"==e.orientation?" "+e.justifyClass:" flex-column")),Nr(1),Ys("ngForOf",e.tabs),Nr(2),Ys("ngForOf",e.tabs))},directives:[Au,Nu,Iu],encapsulation:2}),t})(),Uw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Hw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),Bw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})(),qw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Ww=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu]]}),t})();const Gw=[Xb,Yb,Qb,Zb,Kb,lw,uw,Cw,Sw,Mw,Iw,Dw,jw,Hw,Bw,qw,Ww,Uw];let Xw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[Gw,Xb,Yb,Qb,Zb,Kb,lw,uw,Cw,Sw,Mw,Iw,Dw,jw,Hw,Bw,qw,Ww,Uw]}),t})(),Yw=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[zu,gb,Xw]]}),t})(),Qw=(()=>{class t{constructor(){this.projects=[]}addProject(t,e){void 0===this.projects[t]&&(this.projects[t]=[]),this.projects[t].push(e)}getProjects(t){return void 0===this.projects[t]&&(this.projects[t]=[]),this.projects[t]}numProjects(t){return this.getProjects(t).length}getProject(t,e){return this.getProjects(t)[e]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Zw=(()=>{class t{constructor(){this.onResize=new cl,window.addEventListener("resize",t=>{this.onResize.emit()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Kw=function(t){return t[t.TTestPaired=0]="TTestPaired",t[t.TTestIndependent=1]="TTestIndependent",t[t.ZTest=2]="ZTest",t[t.Dichot=3]="Dichot",t}({});let Jw=(()=>{class t{constructor(){this.calculate=new cl,this.toggleHelp=new cl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],outputs:{calculate:"calculate",toggleHelp:"toggleHelp"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),t_=(()=>{class t{constructor(){this.projectChanged=new cl,this.projectSwitched=new cl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],outputs:{projectChanged:"projectChanged",projectSwitched:"projectSwitched"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();const e_=["main"];function n_(t,e){if(1&t){const t=no();Zs(0,"div",1,2),Zs(2,"div",3),so("mousedown",(function(e){return Qe(t),lo().mousedown(e)}))("mouseup",(function(e){return Qe(t),lo().mouseup(e)}))("mousemove",(function(e){return Qe(t),lo().mousemove(e)})),Fo(3),Zs(4,"button",4),so("click",(function(){return Qe(t),lo().close()})),Ks(),Ks(),Zs(5,"div",5),ho(6),Ks(),Ks()}if(2&t){const t=lo();Co("top",t.yOffset?t.yOffset+"px":t.startYOffset)("left",t.xOffset?t.xOffset+"px":t.startXOffset),Nr(3),$o(" ",t.title," ")}}const r_=["*"];let i_=(()=>{class t{constructor(){this.startEnabled=!1,this.startXOffset="20px",this.startYOffset="20px",this.onDragStart=new cl,this.onDragEnd=new cl,this.enabled=!1,this.dragging=!1}ngOnInit(){this.enabled=this.startEnabled}open(){this.enabled=!0}toggle(){this.enabled=!this.enabled}close(){this.enabled=!1}isOpen(){return this.enabled}mousedown(t){this.startDragging();let e=this.mainElement.nativeElement.getBoundingClientRect();this.xOffset=e.left+window.pageXOffset,this.yOffset=e.top+window.pageYOffset,this.lastX=t.pageX,this.lastY=t.pageY}mouseup(t){this.stopDragging()}mousemove(t){if(this.dragging){if(0==(1&t.buttons))return void this.stopDragging();this.xOffset+=t.pageX-this.lastX,this.yOffset+=t.pageY-this.lastY,this.lastX=t.pageX,this.lastY=t.pageY}}startDragging(){this.dragging=!0,this.onDragStart.emit()}stopDragging(){this.dragging=!1,this.onDragEnd.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-draggable-dialog"]],viewQuery:function(t,e){var n;1&t&&xl(e_,!0),2&t&&wl(n=El())&&(e.mainElement=n.first)},inputs:{title:"title",content:"content",startEnabled:["start-enabled","startEnabled"],startXOffset:["start-x-offset","startXOffset"],startYOffset:["start-y-offset","startYOffset"]},outputs:{onDragStart:"drag-start",onDragEnd:"drag-end"},ngContentSelectors:r_,decls:1,vars:1,consts:[["class","dialog",3,"top","left",4,"ngIf"],[1,"dialog"],["main",""],[1,"header",3,"mousedown","mouseup","mousemove"],["type","button",1,"close","fa","fa-times-circle",3,"click"],[1,"content"]],template:function(t,e){1&t&&(uo(),Bs(0,n_,7,5,"div",0)),2&t&&Ys("ngIf",e.enabled)},directives:[Iu],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;z-index:100;background-color:#fff;border:1px solid #888;border-radius:10px;box-shadow:5px 5px 25px #888;top:20px;left:20px;width:25vw;min-width:300px}.dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:larger;font-weight:700;background-color:#e5e5e5;border-bottom:1px solid #ccc;padding:10px;border-radius:10px 10px 0 0;cursor:move}.dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{float:right;margin:5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;height:50vh;padding:5px;margin:0 5px}"]}),t})();var s_=function(t){return t[t.Fixed=0]="Fixed",t[t.NotFixed=1]="NotFixed",t[t.NA=2]="NA",t}({});class o_{constructor(){this.updatingPlotData=new cl,this.customRanges=!1,this.fixedPSpace=s_.NA}getPointsPerPlot(){return this.pointsPerPlot}setPointsPerPlot(t){this.pointsPerPlot=t}getCustomRanges(){return this.customRanges}setCustomRanges(t){this.customRanges=t,t||this.resetRanges()}getFixedPSpace(){return this.fixedPSpace}setFixedPSpace(t){this.fixedPSpace=t,this.calculateRanges()}}var a_=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},l_=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return a_(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)<0?r=s+1:i=s}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)>0?i=s:r=s+1}return r}}},c_=l_(a_).right,u_=function(t,e){var n,r,i,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<s;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<s;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<s;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},h_=Math.sqrt(50),d_=Math.sqrt(10),p_=Math.sqrt(2);function f_(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=h_?10:s>=d_?5:s>=p_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=h_?10:s>=d_?5:s>=p_?2:1)}var g_=Array.prototype.slice,m_=function(t){return t};function y_(t){return"translate("+(t+.5)+",0)"}function v_(t){return"translate(0,"+(t+.5)+")"}function b_(t){return function(e){return+t(e)}}function w_(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function __(){return!this.__axis}function x_(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?y_:v_;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):m_:i,f=Math.max(s,0)+a,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?w_:b_)(e.copy()),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(d,e).order(),x=_.exit(),C=_.enter().append("g").attr("class","tick"),S=_.select("line"),M=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(C),S=S.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),M=M.merge(C.append("text").attr("fill","currentColor").attr(c,l*f).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),_=_.transition(h),S=S.transition(h),M=M.transition(h),x=x.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),x.remove(),w.attr("d",4===t||2==t?o?"M"+l*o+","+m+"H0.5V"+y+"H"+l*o:"M0.5,"+m+"V"+y:o?"M"+m+","+l*o+"V0.5H"+y+"V"+l*o:"M"+m+",0.5H"+y),_.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),S.attr(c+"2",l*s),M.attr(c,l*f).text(p),b.filter(__).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=g_.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:g_.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:g_.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(s=o=+t,h):s},h.tickSizeInner=function(t){return arguments.length?(s=+t,h):s},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function C_(t){return x_(3,t)}var S_={value:function(){}};function M_(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new T_(r)}function T_(t){this._=t}function E_(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function k_(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function P_(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=S_,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}T_.prototype=M_.prototype={constructor:T_,on:function(t,e){var n,r=this._,i=E_(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=P_(r[n],t.name,e);else if(null==e)for(n in r)r[n]=P_(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=k_(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new T_(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var R_=M_;function A_(){}var O_=function(t){return null==t?A_:function(){return this.querySelector(t)}};function I_(){return[]}var D_=function(t){return null==t?I_:function(){return this.querySelectorAll(t)}},j_=function(t){return function(){return this.matches(t)}},N_=function(t){return new Array(t.length)};function F_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function L_(t,e,n,r,i,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new F_(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function $_(t,e,n,r,i,s,o){var a,l,c,u={},h=e.length,d=s.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=c="$"+o.call(l,l.__data__,a,e),c in u?i[a]=l:u[c]=l);for(a=0;a<d;++a)(l=u[c="$"+o.call(t,s[a],a,s)])?(r[a]=l,l.__data__=s[a],u[c]=null):n[a]=new F_(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u[p[a]]===l&&(i[a]=l)}function V_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}F_.prototype={constructor:F_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var z_="http://www.w3.org/1999/xhtml",U_={svg:"http://www.w3.org/2000/svg",xhtml:z_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},H_=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),U_.hasOwnProperty(e)?{space:U_[e],local:t}:t};function B_(t){return function(){this.removeAttribute(t)}}function q_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function W_(t,e){return function(){this.setAttribute(t,e)}}function G_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Y_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Q_=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Z_(t){return function(){this.style.removeProperty(t)}}function K_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function J_(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function tx(t,e){return t.style.getPropertyValue(e)||Q_(t).getComputedStyle(t,null).getPropertyValue(e)}function ex(t){return function(){delete this[t]}}function nx(t,e){return function(){this[t]=e}}function rx(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ix(t){return t.trim().split(/^|\s+/)}function sx(t){return t.classList||new ox(t)}function ox(t){this._node=t,this._names=ix(t.getAttribute("class")||"")}function ax(t,e){for(var n=sx(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function lx(t,e){for(var n=sx(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function cx(t){return function(){ax(this,t)}}function ux(t){return function(){lx(this,t)}}function hx(t,e){return function(){(e.apply(this,arguments)?ax:lx)(this,t)}}function dx(){this.textContent=""}function px(t){return function(){this.textContent=t}}function fx(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function gx(){this.innerHTML=""}function mx(t){return function(){this.innerHTML=t}}function yx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function vx(){this.nextSibling&&this.parentNode.appendChild(this)}function bx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===z_&&e.documentElement.namespaceURI===z_?e.createElement(t):e.createElementNS(n,t)}}function _x(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}ox.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var xx=function(t){var e=H_(t);return(e.local?_x:wx)(e)};function Cx(){return null}function Sx(){var t=this.parentNode;t&&t.removeChild(this)}function Mx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Tx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Ex={},kx=null;function Px(t,e,n){return t=Rx(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Rx(t,e,n){return function(r){var i=kx;kx=r;try{t.call(this,this.__data__,e,n)}finally{kx=i}}}function Ax(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ox(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Ix(t,e,n){var r=Ex.hasOwnProperty(t.type)?Px:Rx;return function(i,s,o){var a,l=this.__on,c=r(e,s,o);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function Dx(t,e,n,r){var i=kx;t.sourceEvent=kx,kx=t;try{return e.apply(n,r)}finally{kx=i}}function jx(t,e,n){var r=Q_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Nx(t,e){return function(){return jx(this,t,e)}}function Fx(t,e){return function(){return jx(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ex={mouseenter:"mouseover",mouseleave:"mouseout"}));var Lx=[null];function $x(t,e){this._groups=t,this._parents=e}function Vx(){return new $x([[document.documentElement]],Lx)}$x.prototype=Vx.prototype={constructor:$x,select:function(t){"function"!=typeof t&&(t=O_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new $x(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=D_(t));for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new $x(r,i)},filter:function(t){"function"!=typeof t&&(t=j_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new $x(r,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),u=-1,this.each((function(t){f[++u]=t})),f;var n,r=e?$_:L_,i=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],d=s[u],p=d.length,f=t.call(h,h&&h.__data__,u,i),g=f.length,m=l[u]=new Array(g),y=a[u]=new Array(g);r(h,d,m,y,c[u]=new Array(p),f,e);for(var v,b,w=0,_=0;w<g;++w)if(v=m[w]){for(w>=_&&(_=w+1);!(b=y[_])&&++_<g;);v._next=b||null}}return(a=new $x(a,i))._enter=l,a._exit=c,a},enter:function(){return new $x(this._enter||this._groups.map(N_),this._parents)},exit:function(){return new $x(this._exit||this._groups.map(N_),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new $x(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=V_);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(e)}return new $x(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=H_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?q_:B_:"function"==typeof e?n.local?Y_:X_:n.local?G_:W_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Z_:"function"==typeof e?J_:K_)(t,e,null==n?"":n)):tx(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ex:"function"==typeof e?rx:nx)(t,e)):this.node()[t]},classed:function(t,e){var n=ix(t+"");if(arguments.length<2){for(var r=sx(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?hx:e?cx:ux)(n,e))},text:function(t){return arguments.length?this.each(null==t?dx:("function"==typeof t?fx:px)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gx:("function"==typeof t?yx:mx)(t)):this.node().innerHTML},raise:function(){return this.each(vx)},lower:function(){return this.each(bx)},append:function(t){var e="function"==typeof t?t:xx(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:xx(t),r=null==e?Cx:"function"==typeof e?e:O_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Sx)},clone:function(t){return this.select(t?Tx:Mx)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=Ax(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Ix:Ox,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Fx:Nx)(t,e))}};var zx=Vx,Ux=function(t){return"string"==typeof t?new $x([[document.querySelector(t)]],[document.documentElement]):new $x([[t]],Lx)};function Hx(){kx.stopImmediatePropagation()}var Bx=function(){kx.preventDefault(),kx.stopImmediatePropagation()},qx=function(t){var e=t.document.documentElement,n=Ux(t).on("dragstart.drag",Bx,!0);"onselectstart"in e?n.on("selectstart.drag",Bx,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Wx=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Gx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xx(){}var Yx="\\s*([+-]?\\d+)\\s*",Qx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kx=/^#([0-9a-f]{3,8})$/,Jx=new RegExp("^rgb\\("+[Yx,Yx,Yx]+"\\)$"),tC=new RegExp("^rgb\\("+[Zx,Zx,Zx]+"\\)$"),eC=new RegExp("^rgba\\("+[Yx,Yx,Yx,Qx]+"\\)$"),nC=new RegExp("^rgba\\("+[Zx,Zx,Zx,Qx]+"\\)$"),rC=new RegExp("^hsl\\("+[Qx,Zx,Zx]+"\\)$"),iC=new RegExp("^hsla\\("+[Qx,Zx,Zx,Qx]+"\\)$"),sC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function oC(){return this.rgb().formatHex()}function aC(){return this.rgb().formatRgb()}function lC(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?cC(e):3===n?new pC(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new pC(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new pC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Jx.exec(t))?new pC(e[1],e[2],e[3],1):(e=tC.exec(t))?new pC(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=eC.exec(t))?uC(e[1],e[2],e[3],e[4]):(e=nC.exec(t))?uC(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=rC.exec(t))?yC(e[1],e[2]/100,e[3]/100,1):(e=iC.exec(t))?yC(e[1],e[2]/100,e[3]/100,e[4]):sC.hasOwnProperty(t)?cC(sC[t]):"transparent"===t?new pC(NaN,NaN,NaN,0):null}function cC(t){return new pC(t>>16&255,t>>8&255,255&t,1)}function uC(t,e,n,r){return r<=0&&(t=e=n=NaN),new pC(t,e,n,r)}function hC(t){return t instanceof Xx||(t=lC(t)),t?new pC((t=t.rgb()).r,t.g,t.b,t.opacity):new pC}function dC(t,e,n,r){return 1===arguments.length?hC(t):new pC(t,e,n,null==r?1:r)}function pC(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fC(){return"#"+mC(this.r)+mC(this.g)+mC(this.b)}function gC(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function mC(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function yC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new bC(t,e,n,r)}function vC(t){if(t instanceof bC)return new bC(t.h,t.s,t.l,t.opacity);if(t instanceof Xx||(t=lC(t)),!t)return new bC;if(t instanceof bC)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new bC(o,a,l,t.opacity)}function bC(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function wC(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function _C(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}Wx(Xx,lC,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:oC,formatHex:oC,formatHsl:function(){return vC(this).formatHsl()},formatRgb:aC,toString:aC}),Wx(pC,dC,Gx(Xx,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new pC(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new pC(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fC,formatHex:fC,formatRgb:gC,toString:gC})),Wx(bC,(function(t,e,n,r){return 1===arguments.length?vC(t):new bC(t,e,n,null==r?1:r)}),Gx(Xx,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new bC(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new bC(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pC(wC(t>=240?t-240:t+120,i,r),wC(t,i,r),wC(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var xC=function(t){return function(){return t}};function CC(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):xC(isNaN(t)?e:t)}var SC=function t(e){var n=function(t){return 1==(t=+t)?CC:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):xC(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=dC(t)).r,(e=dC(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=CC(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function MC(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=dC(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}MC((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1];return _C((n-r/e)*e,r>0?t[r-1]:2*i-s,i,s,r<e-1?t[r+2]:2*s-i)}})),MC((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return _C((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}}));var TC=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}};function EC(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=NC(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}var kC,PC,RC=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},AC=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},OC=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=NC(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},IC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DC=new RegExp(IC.source,"g"),jC=function(t,e){var n,r,i,s=IC.lastIndex=DC.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=IC.exec(t))&&(r=DC.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:AC(n,r)})),s=DC.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})},NC=function(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?xC(e):("number"===i?AC:"string"===i?(n=lC(e))?(e=n,SC):jC:e instanceof lC?SC:e instanceof Date?RC:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?EC:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?OC:AC:TC))(t,e)},FC=function(){for(var t,e=kx;t=e.sourceEvent;)e=t;return e},LC=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},$C=function(t,e,n){arguments.length<3&&(n=e,e=FC().changedTouches);for(var r,i=0,s=e?e.length:0;i<s;++i)if((r=e[i]).identifier===n)return LC(t,r);return null},VC=function(t){var e=FC();return e.changedTouches&&(e=e.changedTouches[0]),LC(t,e)},zC=0,UC=0,HC=0,BC=0,qC=0,WC=0,GC="object"==typeof performance&&performance.now?performance:Date,XC="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function YC(){return qC||(XC(QC),qC=GC.now()+WC)}function QC(){qC=0}function ZC(){this._call=this._time=this._next=null}function KC(t,e,n){var r=new ZC;return r.restart(t,e,n),r}function JC(){qC=(BC=GC.now())+WC,zC=UC=0;try{!function(){YC(),++zC;for(var t,e=kC;e;)(t=qC-e._time)>=0&&e._call.call(null,t),e=e._next;--zC}()}finally{zC=0,function(){for(var t,e,n=kC,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:kC=e);PC=t,eS(r)}(),qC=0}}function tS(){var t=GC.now(),e=t-BC;e>1e3&&(WC-=e,BC=t)}function eS(t){zC||(UC&&(UC=clearTimeout(UC)),t-qC>24?(t<1/0&&(UC=setTimeout(JC,t-GC.now()-WC)),HC&&(HC=clearInterval(HC))):(HC||(BC=GC.now(),HC=setInterval(tS,1e3)),zC=1,XC(JC)))}ZC.prototype=KC.prototype={constructor:ZC,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?YC():+n)+(null==e?0:+e),this._next||PC===this||(PC?PC._next=this:kC=this,PC=this),this._call=t,this._time=n,eS()},stop:function(){this._call&&(this._call=null,this._time=1/0,eS())}};var nS=function(t,e,n){var r=new ZC;return r.restart((function(n){r.stop(),t(n+e)}),e=null==e?0:+e,n),r},rS=R_("start","end","cancel","interrupt"),iS=[],sS=function(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(l){var c,u,h,d;if(1!==n.state)return a();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return nS(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(nS((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=KC((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:rS,tween:iS,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function oS(t,e){var n=lS(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function aS(t,e){var n=lS(t,e);if(n.state>3)throw new Error("too late; already running");return n}function lS(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var cS,uS,hS,dS,pS=180/Math.PI,fS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},gS=function(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*pS,skewX:Math.atan(l)*pS,scaleX:o,scaleY:a}};function mS(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:AC(t,i)},{i:l-2,x:AC(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:AC(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:AC(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,l),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:AC(t,n)},{i:a-2,x:AC(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var yS=mS((function(t){return"none"===t?fS:(cS||(cS=document.createElement("DIV"),uS=document.documentElement,hS=document.defaultView),cS.style.transform=t,t=hS.getComputedStyle(uS.appendChild(cS),null).getPropertyValue("transform"),uS.removeChild(cS),t=t.slice(7,-1).split(","),gS(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),vS=mS((function(t){return null==t?fS:(dS||(dS=document.createElementNS("http://www.w3.org/2000/svg","g")),dS.setAttribute("transform",t),(t=dS.transform.baseVal.consolidate())?gS((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fS)}),", ",")",")");function bS(t,e){var n,r;return function(){var i=aS(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function wS(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=aS(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function _S(t,e,n){var r=t._id;return t.each((function(){var t=aS(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return lS(t,r).value[e]}}var xS=function(t,e){var n;return("number"==typeof e?AC:e instanceof lC?SC:(n=lC(e))?(e=n,SC):jC)(t,e)};function CS(t){return function(){this.removeAttribute(t)}}function SS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function MS(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function TS(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function ES(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttribute(t)}}function kS(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function PS(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function RS(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function AS(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&RS(t,i)),n}return i._value=e,i}function OS(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&PS(t,i)),n}return i._value=e,i}function IS(t,e){return function(){oS(this,t).delay=+e.apply(this,arguments)}}function DS(t,e){return e=+e,function(){oS(this,t).delay=e}}function jS(t,e){return function(){aS(this,t).duration=+e.apply(this,arguments)}}function NS(t,e){return e=+e,function(){aS(this,t).duration=e}}function FS(t,e){if("function"!=typeof e)throw new Error;return function(){aS(this,t).ease=e}}function LS(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?oS:aS;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}var $S=zx.prototype.constructor;function VS(t){return function(){this.style.removeProperty(t)}}function zS(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function US(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&zS(t,s,n)),r}return s._value=e,s}function HS(t){return function(e){this.textContent=t.call(this,e)}}function BS(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&HS(r)),e}return r._value=t,r}var qS=0;function WS(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function GS(t){return zx().transition(t)}function XS(){return++qS}var YS=zx.prototype;WS.prototype=GS.prototype={constructor:WS,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=O_(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=r[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,sS(h[d],e,n,d,h,lS(a,n)));return new WS(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=D_(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),f=lS(l,n),g=0,m=p.length;g<m;++g)(d=p[g])&&sS(d,e,n,g,p,f);s.push(p),o.push(l)}return new WS(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=j_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new WS(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new WS(s,this._parents,this._name,this._id)},selection:function(){return new $S(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=XS(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=lS(o,e);sS(o,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new WS(r,this._parents,t,n)},call:YS.call,nodes:YS.nodes,node:YS.node,size:YS.size,empty:YS.empty,each:YS.each,on:function(t,e){var n=this._id;return arguments.length<2?lS(this.node(),n).on.on(t):this.each(LS(n,t,e))},attr:function(t,e){var n=H_(t),r="transform"===n?vS:xS;return this.attrTween(t,"function"==typeof e?(n.local?kS:ES)(n,r,_S(this,"attr."+t,e)):null==e?(n.local?SS:CS)(n):(n.local?TS:MS)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=H_(t);return this.tween(n,(r.local?AS:OS)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?yS:xS;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=tx(this,t),o=(this.style.removeProperty(t),tx(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,VS(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=tx(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=tx(this,t)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(t,r,_S(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var l=aS(this,t),c=l.on,u=null==l.value[o]?s||(s=VS(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=tx(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,US(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(_S(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,BS(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=lS(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?bS:wS)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?IS:DS)(e,t)):lS(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?jS:NS)(e,t)):lS(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(FS(e,t)):lS(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each((function(){var n=aS(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var QS={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ZS(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return QS.time=YC(),QS;return n}function KS(t){return{type:t}}zx.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}}(this,t)}))},zx.prototype.transition=function(t){var e,n;t instanceof WS?(e=t._id,t=t._name):(e=XS(),(n=QS).time=YC(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)(o=a[c])&&sS(o,t,e,c,a,n||ZS(o,e));return new WS(r,this._parents,t,e)},["w","e"].map(KS),["n","s"].map(KS),["n","w","e","s","nw","ne","sw","se"].map(KS),Math,Math,Math,Math;var JS=Math.PI,tM=2*JS,eM=tM-1e-6;function nM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rM(){return new nM}nM.prototype=rM.prototype={constructor:nM,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(r=+r)-(e=+e),c=s-t,u=o-e,h=c*c+u*u;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*a-l*c)>1e-6&&i){var d=n-s,p=r-o,f=a*a+l*l,g=d*d+p*p,m=Math.sqrt(f),y=Math.sqrt(h),v=i*Math.tan((JS-Math.acos((f+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*p)+","+(this._x1=t+w*a)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+o,c=e+a,u=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%tM+tM),h>eM?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=JS)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var iM=rM;function sM(){}function oM(t,e){var n=new sM;if(t instanceof sM)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,s=t.length;if(null==e)for(;++i<s;)n.set(i,t[i]);else for(;++i<s;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function aM(){}sM.prototype=oM.prototype={constructor:sM,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var lM=oM.prototype;aM.prototype=(function(t,e){var n=new aM;if(t instanceof aM)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}).prototype={constructor:aM,has:lM.has,add:function(t){return this["$"+(t+="")]=t,this},remove:lM.remove,clear:lM.clear,values:lM.keys,size:lM.size,empty:lM.empty,each:lM.each};var cM=function(t){return function(){return t}};function uM(t,e,n,r,i,s,o,a,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=s,this.y=o,this.dx=a,this.dy=l,this._=c}function hM(){return!kx.ctrlKey&&!kx.button}function dM(){return this.parentNode}function pM(t){return null==t?{x:kx.x,y:kx.y}:t}function fM(){return navigator.maxTouchPoints||"ontouchstart"in this}uM.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var gM=function(){var t,e,n,r,i=hM,s=dM,o=pM,a=fM,l={},c=R_("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var o=b("mouse",s.apply(this,arguments),VC,this,arguments);o&&(Ux(kx.view).on("mousemove.drag",f,!0).on("mouseup.drag",g,!0),qx(kx.view),Hx(),n=!1,t=kx.clientX,e=kx.clientY,o("start"))}}function f(){if(Bx(),!n){var r=kx.clientX-t,i=kx.clientY-e;n=r*r+i*i>h}l.mouse("drag")}function g(){var t,e,r,i;Ux(kx.view).on("mousemove.drag mouseup.drag",null),e=n,r=(t=kx.view).document.documentElement,i=Ux(t).on("dragstart.drag",null),e&&(i.on("click.drag",Bx,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),Bx(),l.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=kx.changedTouches,r=s.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=b(n[t].identifier,r,$C,this,arguments))&&(Hx(),e("start"))}}function y(){var t,e,n=kx.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Bx(),e("drag"))}function v(){var t,e,n=kx.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Hx(),e("end"))}function b(t,e,n,r,i){var s,a,h,p=n(e,t),f=c.copy();if(Dx(new uM(d,"beforestart",s,t,u,p[0],p[1],0,0,f),(function(){return null!=(kx.subject=s=o.apply(r,i))&&(a=s.x-p[0]||0,h=s.y-p[1]||0,!0)})))return function o(c){var g,m=p;switch(c){case"start":l[t]=o,g=u++;break;case"end":delete l[t],--u;case"drag":p=n(e,t),g=u}Dx(new uM(d,c,s,t,g,p[0]+a,p[1]+h,p[0]-m[0],p[1]-m[1],f),f.apply,f,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:cM(!!t),d):i},d.container=function(t){return arguments.length?(s="function"==typeof t?t:cM(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:cM(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:cM(!!t),d):a},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},mM={},yM={};function vM(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function bM(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function wM(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var _M=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],s=t.length,o=0,a=0,l=s<=0,c=!1;function u(){if(l)return yM;if(c)return c=!1,mM;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<s&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=s?l=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<s;){if(10===(r=t.charCodeAt(e=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(r=u())!==yM;){for(var h=[];r!==mM&&r!==yM;)h.push(r),r=u();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),s=n.getUTCMinutes(),o=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+wM(-r,6):r>9999?"+"+wM(r,6):wM(r,4))+"-"+wM(n.getUTCMonth()+1,2)+"-"+wM(n.getUTCDate(),2)+(a?"T"+wM(i,2)+":"+wM(s,2)+":"+wM(o,2)+"."+wM(a,3)+"Z":o?"T"+wM(i,2)+":"+wM(s,2)+":"+wM(o,2)+"Z":s||i?"T"+wM(i,2)+":"+wM(s,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,r,i,s,o,a}return{parse:function(t,e){var n,i,s=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=vM(t);return function(r,i){return e(n(r),i,t)}}(t,e):vM(t)}));return s.columns=i||[],s},parseRows:r,format:function(e,n){return null==n&&(n=bM(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=bM(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},xM=_M(",").parse,CM=_M("\t").parse;function SM(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var MM=function(t,e){return fetch(t,e).then(SM)};function TM(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),MM(e,n).then((function(e){return t(e,r)}))}}function EM(t){return function(e,n){return MM(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}function kM(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s,o,a,l,c,u,h,d,p=t._root,f={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((c=e>=(s=(g+y)/2))?g=s:y=s,(u=n>=(o=(m+v)/2))?m=o:v=o,i=p,!(p=p[h=u<<1|c]))return i[h]=f,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return f.next=p,i?i[h]=f:t._root=f,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(s=(g+y)/2))?g=s:y=s,(u=n>=(o=(m+v)/2))?m=o:v=o}while((h=u<<1|c)==(d=(l>=o)<<1|a>=s));return i[d]=p,i[h]=f,t}TM(xM),TM(CM),EM("application/xml"),EM("text/html"),EM("image/svg+xml");var PM=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function RM(t){return t[0]}function AM(t){return t[1]}function OM(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function IM(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var DM=(function(t,e,n){var r=new OM(null==e?RM:e,null==n?AM:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}).prototype=OM.prototype;DM.copy=function(){var t,e,n=new OM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=IM(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=IM(e));return n},DM.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return kM(this.cover(e,n),e,n,t)},DM.addAll=function(t){var e,n,r,i,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<s;++n)kM(this,o[n],a[n],t[n]);return this},DM.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o,a,l=i-n,c=this._root;n>t||t>=i||r>e||e>=s;)switch(a=(e<r)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},DM.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},DM.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},DM.find=function(t,e,n){var r,i,s,o,a,l,c,u=this._x0,h=this._y0,d=this._x1,p=this._y1,f=[],g=this._root;for(g&&f.push(new PM(g,u,h,d,p)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(s=l.y0)>p||(o=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(i+o)/2,y=(s+a)/2;f.push(new PM(g[3],m,y,o,a),new PM(g[2],i,y,m,a),new PM(g[1],m,s,o,y),new PM(g[0],i,s,m,y)),(c=(e>=y)<<1|t>=m)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=v*v+b*b;if(w<n){var _=Math.sqrt(n=w);u=t-_,h=e-_,d=t+_,p=e+_,r=g.data}}return r},DM.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,s,o,a,l,c,u,h,d,p=this._root,f=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((c=s>=(a=(f+m)/2))?f=a:m=a,(u=o>=(l=(g+y)/2))?g=l:y=l,e=p,!(p=p[h=u<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},DM.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},DM.root=function(){return this._root},DM.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},DM.visit=function(t){var e,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new PM(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(r+s)/2,u=(i+o)/2;(n=l[3])&&a.push(new PM(n,c,u,s,o)),(n=l[2])&&a.push(new PM(n,r,u,c,o)),(n=l[1])&&a.push(new PM(n,c,i,s,u)),(n=l[0])&&a.push(new PM(n,r,i,c,u))}return this},DM.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new PM(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,h=(a+c)/2;(s=i[0])&&n.push(new PM(s,o,a,u,h)),(s=i[1])&&n.push(new PM(s,u,a,l,h)),(s=i[2])&&n.push(new PM(s,o,h,u,c)),(s=i[3])&&n.push(new PM(s,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},DM.x=function(t){return arguments.length?(this._x=t,this):this._x},DM.y=function(t){return arguments.length?(this._y=t,this):this._y},Math,Math.sqrt(5);var jM=function(){return Math.random()},NM=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(jM),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=r)s=r,r=null;else do{r=2*e()-1,s=2*e()-1,i=r*r+s*s}while(!i||i>1);return t+n*s*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(jM)),FM=(function t(e){function n(){var t=NM.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(jM),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(jM));function LM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}(function t(e){function n(t){var n=FM.source(e)(t);return function(){return n()/t}}return n.source=t,n})(jM),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(jM);var $M=Array.prototype,VM=$M.map,zM=$M.slice,UM=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},HM=function(t){return+t},BM=[0,1];function qM(t){return t}function WM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function GM(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function XM(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=WM(i,r),s=n(o,s)):(r=WM(r,i),s=n(s,o)),function(t){return s(r(t))}}function YM(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=WM(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=c_(t,e,1,r)-1;return s[n](i[n](e))}}function QM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ZM(t,e){return function(){var t,e,n,r,i,s,o=BM,a=BM,l=NC,c=qM;function u(){return r=Math.min(o.length,a.length)>2?YM:XM,i=s=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(a,o.map(t),AC)))(n)))},h.domain=function(t){return arguments.length?(o=VM.call(t,HM),c===qM||(c=GM(o)),u()):o.slice()},h.range=function(t){return arguments.length?(a=zM.call(t),u()):a.slice()},h.rangeRound=function(t){return a=zM.call(t),l=UM,u()},h.clamp=function(t){return arguments.length?(c=t?GM(o):qM,h):c!==qM},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(t,e)}var KM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function JM(t){if(!(e=KM.exec(t)))throw new Error("invalid format: "+t);var e;return new tT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function tT(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}JM.prototype=tT.prototype,tT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var eT,nT,rT,iT,sT=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},oT=function(t){return(t=sT(Math.abs(t)))?t[1]:NaN},aT=function(t,e){var n=sT(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},lT={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return aT(100*t,e)},r:aT,s:function(t,e){var n=sT(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(eT=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+sT(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},cT=function(t){return t},uT=Array.prototype.map,hT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];nT=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?cT:(e=uT.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?cT:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(uT.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=JM(t)).fill,n=t.align,h=t.sign,d=t.symbol,p=t.zero,f=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):lT[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?s:/[%p]/.test(v)?l:"",_=lT[v],x=/[defgprs%]/.test(v);function C(t){var i,s,l,d=b,C=w;if("c"===v)C=_(t)+C,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,C=("s"===v?hT[8+eT/3]:"")+C+(S&&"("===h?")":""),x)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){C=(46===l?o+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var M=d.length+t.length+C.length,T=M<f?new Array(f-M+1).join(e):"";switch(g&&p&&(t=r(T+t,T.length?f-C.length:1/0),T=""),n){case"<":t=d+t+C+T;break;case"=":t=d+T+t+C;break;case"^":t=T.slice(0,M=T.length>>1)+d+t+C+T.slice(M);break;default:t=T+d+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:h,formatPrefix:function(t,e){var n=h(((t=JM(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(oT(e)/3))),i=Math.pow(10,-r),s=hT[8+r/3];return function(t){return n(i*t)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),rT=nT.format,iT=nT.formatPrefix;function dT(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=f_(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(i=Math.ceil(e-t+1));++a<i;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(i=Math.ceil(t-e+1));++a<i;)s[a]=(t-a)/o;return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=h_?i*=10:s>=d_?i*=5:s>=p_&&(i*=2),e<t?-i:i}(t,e,n);switch((r=JM(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(oT(e)/3)))-oT(Math.abs(t)))}(s,o))||(r.precision=i),iT(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oT(e)-oT(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-oT(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return rT(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),s=0,o=i.length-1,a=i[s],l=i[o];return l<a&&(r=a,a=l,l=r,r=s,s=o,o=r),(r=f_(a,l,n))>0?r=f_(a=Math.floor(a/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=f_(a=Math.ceil(a*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[s]=Math.floor(a/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[s]=Math.ceil(a*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function pT(){var t=ZM(qM,qM);return t.copy=function(){return QM(t,pT())},LM.apply(t,arguments),dT(t)}var fT=new Date,gT=new Date;function mT(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return mT((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return fT.setTime(+e),gT.setTime(+r),t(fT),t(gT),Math.floor(n(fT,gT))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var yT=mT((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));yT.every=function(t){return isFinite(t=Math.floor(t))&&t>0?mT((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var vT=yT;function bT(t){return mT((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}mT((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var wT=bT(0),_T=bT(1),xT=(bT(2),bT(3),bT(4)),CT=(bT(5),bT(6),mT((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),ST=(mT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),mT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),mT((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),mT((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));function MT(t){return mT((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}ST.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?mT((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ST:null};var TT=MT(0),ET=MT(1),kT=(MT(2),MT(3),MT(4)),PT=(MT(5),MT(6),mT((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),RT=mT((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));RT.every=function(t){return isFinite(t=Math.floor(t))&&t>0?mT((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var AT=RT;var OT={"-":"",_:" ",0:"0"},IT=/[\\^$*+?|[\]().{}]/g;function DT(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function jT(t){return t.replace(IT,"\\$&")}function NT(t){return new RegExp("^(?:"+t.map(jT).join("|")+")","i")}function FT(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function LT(t,e){return DT(t.getDate(),e,2)}function $T(t,e){return DT(t.getHours(),e,2)}function VT(t,e){return DT(t.getHours()%12||12,e,2)}function zT(t,e){return DT(1+CT.count(vT(t),t),e,3)}function UT(t,e){return DT(t.getMilliseconds(),e,3)}function HT(t,e){return UT(t,e)+"000"}function BT(t,e){return DT(t.getMonth()+1,e,2)}function qT(t,e){return DT(t.getMinutes(),e,2)}function WT(t,e){return DT(t.getSeconds(),e,2)}function GT(t){var e=t.getDay();return 0===e?7:e}function XT(t,e){return DT(wT.count(vT(t)-1,t),e,2)}function YT(t,e){var n=t.getDay();return t=n>=4||0===n?xT(t):xT.ceil(t),DT(xT.count(vT(t),t)+(4===vT(t).getDay()),e,2)}function QT(t){return t.getDay()}function ZT(t,e){return DT(_T.count(vT(t)-1,t),e,2)}function KT(t,e){return DT(t.getFullYear()%100,e,2)}function JT(t,e){return DT(t.getFullYear()%1e4,e,4)}function tE(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+DT(e/60|0,"0",2)+DT(e%60,"0",2)}function eE(t,e){return DT(t.getUTCDate(),e,2)}function nE(t,e){return DT(t.getUTCHours(),e,2)}function rE(t,e){return DT(t.getUTCHours()%12||12,e,2)}function iE(t,e){return DT(1+PT.count(AT(t),t),e,3)}function sE(t,e){return DT(t.getUTCMilliseconds(),e,3)}function oE(t,e){return sE(t,e)+"000"}function aE(t,e){return DT(t.getUTCMonth()+1,e,2)}function lE(t,e){return DT(t.getUTCMinutes(),e,2)}function cE(t,e){return DT(t.getUTCSeconds(),e,2)}function uE(t){var e=t.getUTCDay();return 0===e?7:e}function hE(t,e){return DT(TT.count(AT(t)-1,t),e,2)}function dE(t,e){var n=t.getUTCDay();return t=n>=4||0===n?kT(t):kT.ceil(t),DT(kT.count(AT(t),t)+(4===AT(t).getUTCDay()),e,2)}function pE(t){return t.getUTCDay()}function fE(t,e){return DT(ET.count(AT(t)-1,t),e,2)}function gE(t,e){return DT(t.getUTCFullYear()%100,e,2)}function mE(t,e){return DT(t.getUTCFullYear()%1e4,e,4)}function yE(){return"+0000"}function vE(){return"%"}function bE(t){return+t}function wE(t){return Math.floor(+t/1e3)}(function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=(NT(i),FT(i),NT(s),FT(s),NT(o),FT(o),NT(a),FT(a),NT(l),FT(l),{a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:LT,e:LT,f:HT,H:$T,I:VT,j:zT,L:UT,m:BT,M:qT,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:bE,s:wE,S:WT,u:GT,U:XT,V:YT,w:QT,W:ZT,x:null,X:null,y:KT,Y:JT,Z:tE,"%":vE}),u={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:eE,e:eE,f:oE,H:nE,I:rE,j:iE,L:sE,m:aE,M:lE,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:bE,s:wE,S:cE,u:uE,U:hE,V:dE,w:pE,W:fE,x:null,X:null,y:gE,Y:mE,Z:yE,"%":vE};function h(t,e){return function(n){var r,i,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(i=OT[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),l=a+1);return o.push(t.slice(l,a)),o.join("")}}c.x=h(n,c),c.X=h(r,c),c.c=h(e,c),u.x=h(n,u),u.X=h(r,u),u.c=h(e,u)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),mT((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),mT((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),mT((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var _E=function(t){return function(){return t}};function xE(t){this._context=t}xE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var CE=function(t){return new xE(t)};function SE(t){return t[0]}function ME(t){return t[1]}var TE=function(){var t=SE,e=ME,n=_E(!0),r=null,i=CE,s=null;function o(o){var a,l,c,u=o.length,h=!1;for(null==r&&(s=i(c=iM())),a=0;a<=u;++a)!(a<u&&n(l=o[a],a,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(l,a,o),+e(l,a,o));if(c)return s=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:_E(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:_E(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:_E(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(s=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=s=null:s=i(r=t),o):r},o};function EE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function kE(t){this._context=t}kE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:EE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:EE(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var PE=function(t){return new kE(t)};function RE(){this._=null}function AE(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function OE(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function IE(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function DE(t){for(;t.L;)t=t.L;return t}RE.prototype={constructor:RE,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=DE(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(OE(this,n),n=(t=n).U),n.C=!1,r.C=!0,IE(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(IE(this,n),n=(t=n).U),n.C=!1,r.C=!0,OE(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,o=t.R;if(n=s?o?DE(o):s:o,i?i.L===t?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,OE(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,IE(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,OE(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,IE(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,OE(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,IE(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var jE=RE;function NE(t,e,n,r){var i=[null,null],s=ok.push(i)-1;return i.left=t,i.right=e,n&&LE(i,t,e,n),r&&LE(i,e,t,r),ik[t.index].halfedges.push(s),ik[e.index].halfedges.push(s),i}function FE(t,e,n){var r=[e,n];return r.left=t,r}function LE(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function $E(t,e,n,r,i){var s,o=t[0],a=t[1],l=o[0],c=o[1],u=0,h=1,d=a[0]-l,p=a[1]-c;if(s=e-l,d||!(s>0)){if(s/=d,d<0){if(s<u)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>u&&(u=s)}if(s=r-l,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>u&&(u=s)}else if(d>0){if(s<u)return;s<h&&(h=s)}if(s=n-c,p||!(s>0)){if(s/=p,p<0){if(s<u)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>u&&(u=s)}if(s=i-c,p||!(s<0)){if(s/=p,p<0){if(s>h)return;s>u&&(u=s)}else if(p>0){if(s<u)return;s<h&&(h=s)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*d,c+u*p]),h<1&&(t[1]=[l+h*d,c+h*p]),!0)}}}}}function VE(t,e,n,r,i){var s=t[1];if(s)return!0;var o,a,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],p=u[0],f=u[1],g=(h+p)/2;if(f===d){if(g<e||g>=r)return;if(h>p){if(l){if(l[1]>=i)return}else l=[g,n];s=[g,i]}else{if(l){if(l[1]<n)return}else l=[g,i];s=[g,n]}}else if(a=(d+f)/2-(o=(h-p)/(f-d))*g,o<-1||o>1)if(h>p){if(l){if(l[1]>=i)return}else l=[(n-a)/o,n];s=[(i-a)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/o,i];s=[(n-a)/o,n]}else if(d<f){if(l){if(l[0]>=r)return}else l=[e,o*e+a];s=[r,o*r+a]}else{if(l){if(l[0]<e)return}else l=[r,o*r+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function zE(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function UE(t,e){return e[+(e.left!==t.site)]}function HE(t,e){return e[+(e.left===t.site)]}var BE,qE=[];function WE(){AE(this),this.x=this.y=this.arc=this.site=this.cy=null}function GE(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var o=i[0],a=i[1],l=r[0]-o,c=r[1]-a,u=s[0]-o,h=s[1]-a,d=2*(l*h-c*u);if(!(d>=-lk)){var p=l*l+c*c,f=u*u+h*h,g=(h*p-c*f)/d,m=(l*f-u*p)/d,y=qE.pop()||new WE;y.arc=t,y.site=i,y.x=g+o,y.y=(y.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=sk._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}sk.insert(v,y),v||(BE=y)}}}}function XE(t){var e=t.circle;e&&(e.P||(BE=e.N),sk.remove(e),qE.push(e),AE(e),t.circle=null)}var YE=[];function QE(){AE(this),this.edge=this.site=this.circle=null}function ZE(t){var e=YE.pop()||new QE;return e.site=t,e}function KE(t){XE(t),rk.remove(t),YE.push(t),AE(t)}function JE(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],s=t.P,o=t.N,a=[t];KE(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<ak&&Math.abs(r-l.circle.cy)<ak;)s=l.P,a.unshift(l),KE(l),l=s;a.unshift(l),XE(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<ak&&Math.abs(r-c.circle.cy)<ak;)o=c.N,a.push(c),KE(c),c=o;a.push(c),XE(c);var u,h=a.length;for(u=1;u<h;++u)LE((c=a[u]).edge,(l=a[u-1]).site,c.site,i);(c=a[h-1]).edge=NE((l=a[0]).site,c.site,null,i),GE(l),GE(c)}function tk(t){for(var e,n,r,i,s=t[0],o=t[1],a=rk._;a;)if((r=ek(a,o)-s)>ak)a=a.L;else{if(!((i=s-nk(a,o))>ak)){r>-ak?(e=a.P,n=a):i>-ak?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){ik[t.index]={site:t,halfedges:[]}}(t);var l=ZE(t);if(rk.insert(e,l),e||n){if(e===n)return XE(e),n=ZE(e.site),rk.insert(l,n),l.edge=n.edge=NE(e.site,l.site),GE(e),void GE(n);if(n){XE(e),XE(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,p=t[1]-h,f=n.site,g=f[0]-u,m=f[1]-h,y=2*(d*m-p*g),v=d*d+p*p,b=g*g+m*m,w=[(m*v-p*b)/y+u,(d*b-g*v)/y+h];LE(n.edge,c,f,w),l.edge=NE(c,t,null,w),n.edge=NE(t,f,null,w),GE(e),GE(n)}else l.edge=NE(e.site,l.site)}}function ek(t,e){var n=t.site,r=n[0],i=n[1],s=i-e;if(!s)return r;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],c=l-e;if(!c)return a;var u=a-r,h=1/s-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-s/2)))/h+r:(r+a)/2}function nk(t,e){var n=t.N;if(n)return ek(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var rk,ik,sk,ok,ak=1e-6,lk=1e-12;function ck(t,e){return e[1]-t[1]||e[0]-t[0]}function uk(t,e){var n,r,i,s=t.sort(ck).pop();for(ok=[],ik=new Array(t.length),rk=new jE,sk=new jE;;)if(i=BE,s&&(!i||s[1]<i.y||s[1]===i.y&&s[0]<i.x))s[0]===n&&s[1]===r||(tk(s),n=s[0],r=s[1]),s=t.pop();else{if(!i)break;JE(i.arc)}if(function(){for(var t,e,n,r,i=0,s=ik.length;i<s;++i)if((t=ik[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(n=0;n<r;++n)o[n]=n,a[n]=zE(t,ok[e[n]]);for(o.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[o[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,s=ok.length;s--;)VE(i=ok[s],t,e,n,r)&&$E(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ak||Math.abs(i[0][1]-i[1][1])>ak)||delete ok[s]}(o,a,l,c),function(t,e,n,r){var i,s,o,a,l,c,u,h,d,p,f,g,m=ik.length,y=!0;for(i=0;i<m;++i)if(s=ik[i]){for(o=s.site,a=(l=s.halfedges).length;a--;)ok[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)f=(p=HE(s,ok[l[a]]))[0],g=p[1],h=(u=UE(s,ok[l[++a%c]]))[0],d=u[1],(Math.abs(f-h)>ak||Math.abs(g-d)>ak)&&(l.splice(a,0,ok.push(FE(o,p,Math.abs(f-t)<ak&&r-g>ak?[t,Math.abs(h-t)<ak?d:r]:Math.abs(g-r)<ak&&n-f>ak?[Math.abs(d-r)<ak?h:n,r]:Math.abs(f-n)<ak&&g-e>ak?[n,Math.abs(h-n)<ak?d:e]:Math.abs(g-e)<ak&&f-t>ak?[Math.abs(d-e)<ak?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var v,b,w,_=1/0;for(i=0,y=null;i<m;++i)(s=ik[i])&&(w=(v=(o=s.site)[0]-t)*v+(b=o[1]-e)*b)<_&&(_=w,y=s);if(y){var x=[t,e],C=[t,r],S=[n,r],M=[n,e];y.halfedges.push(ok.push(FE(o=y.site,x,C))-1,ok.push(FE(o,C,S))-1,ok.push(FE(o,S,M))-1,ok.push(FE(o,M,x))-1)}}for(i=0;i<m;++i)(s=ik[i])&&(s.halfedges.length||delete ik[i])}(o,a,l,c)}this.edges=ok,this.cells=ik,rk=sk=ok=ik=null}function hk(t,e,n){this.k=t,this.x=e,this.y=n}uk.prototype={constructor:uk,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return UE(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(s=(i=n.halfedges).length)for(var i,s,o,a,l,c,u=n.site,h=-1,d=e[i[s-1]],p=d.left===u?d.right:d.left;++h<s;)o=p,p=(d=e[i[h]]).left===u?d.right:d.left,o&&p&&r<o.index&&r<p.index&&((a=u)[0]-(c=p)[0])*((l=o)[1]-a[1])-(a[0]-l[0])*(c[1]-a[1])<0&&t.push([u.data,o.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,s=this,o=s._found||0,a=s.cells.length;!(i=s.cells[o]);)if(++o>=a)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=s.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=s.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=t-a[0],c=e-a[1],h=l*l+c*c;h<u&&(u=h,o=a.index)}}))}while(null!==o);return s._found=r,null==n||u<=n*n?i.site:null}},Math,hk.prototype={constructor:hk,scale:function(t){return 1===t?this:new hk(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new hk(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new hk(1,0,0);var dk=n("fgPD");let pk=(()=>{class t{constructor(){this.fontFamily="",this.fontSize=1,this.axisFontSize=1,this.lineWidth=1,this.axisLineWidth=1,this.paletteTheme="typical",this.lineStyle="solid",this.showLegendBox=!1}reset(){Object.assign(this,new t)}getFontFamily(){return""==this.fontFamily?'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif':this.fontFamily}getFontSize(){return 18*this.fontSize}getAxisFontSize(){return 15*this.axisFontSize}getAxisLineWidth(){return 1.5*this.axisLineWidth}getLineWidth(){return 3*this.lineWidth}dashArray(t){switch(t&&"any"!=t||(t=this.lineStyle),t){case"solid":return"";case"short-dash":return"5,5";case"medium-dash":return"10,10";case"long-dash":return"15,15";case"dot":return"1,5"}}lineCap(t){return t&&"any"!=t||(t=this.lineStyle),"dot"==t?"round":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),fk=(()=>{class t{constructor(){this.colors={typical:["#0000DD","#DD0000","#000000","#006600","#008888"],plasma:["#0D0887","#7E03A8","#CC4678","#F89441","#F0F921"],viridis:["#440154","#3B528B","#21908C","#5DC863","#FDE725"],magma:["#000004","#51127C","#B63679","#FB8861","#FCFDBF"],pattern:["#000000","#000000","#000000","#000000","#000000"]},this.patterns={typical:["any"],plasma:["any"],viridis:["any"],magma:["any"],pattern:["solid","short-dash","medium-dash","long-dash","dot"]}}getColor(t,e="typical"){if(!(e in this.colors))throw new Error(`invalid palette: ${e}`);if(-1==t)return"";let n=this.colors[e];return n[t%n.length]}getPattern(t,e="typical"){if(!(e in this.patterns))throw new Error(`invalid palette: ${e}`);if(-1==t)return"";let n=this.patterns[e];return n[t%n.length]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const gk=["plot"];var mk=function(t){return t[t.No=0]="No",t[t.Yes=1]="Yes",t[t.Hover=2]="Hover",t}({});let yk=(()=>{class t{constructor(t,e){this.plotOptions=t,this.palette=e}ngAfterViewInit(){setTimeout(()=>{this.setup()},1)}getDimension(t){return this.plotElement.nativeElement.getBoundingClientRect()[t]}getHeight(){return this.getDimension("height")}getWidth(){return this.getDimension("width")}getFontFamily(){return this.plotOptions.getFontFamily()}getFontSize(){return this.plotOptions.getFontSize()}getFontSizePx(){return`${this.getFontSize()}px`}getAxisLineWidth(){return this.plotOptions.getAxisLineWidth()}getAxisFontSize(){return this.plotOptions.getAxisFontSize()}getPathColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}getDashArray(t){let e=this.palette.getPattern(t,this.plotOptions.paletteTheme);return this.plotOptions.dashArray(e)}getLineCap(t){let e=this.palette.getPattern(t,this.plotOptions.paletteTheme);return this.plotOptions.lineCap(e)}getLineWidth(){return this.plotOptions.getLineWidth()}isLegendBoxVisible(){return this.plotOptions.showLegendBox}trackByIndex(t,e){return t}translate(t,e){return isNaN(t)||isNaN(e)?null:`translate(${t}, ${e})`}getPath(t,e="x",n="y",r=!0){let i=dk(this.xScale.domain(),a_),s=dk(this.yScale.domain(),a_),o=TE().x((t,n)=>this.xScale(t[e])).y((t,e)=>this.yScale(t[n])).defined((t,r,o)=>{let a,l,c,u,h=t[e],d=t[n];return r>0&&(a=o[r-1][e],l=o[r-1][n]),r+1<o.length&&(c=o[r+1][e],u=o[r+1][n]),"number"==typeof h&&"number"==typeof d&&(h>=i[0]&&h<=i[1]||"number"==typeof a&&a>=i[0]&&a<=i[1]||"number"==typeof c&&c>=i[0]&&c<=i[1])&&(d>=s[0]&&d<=s[1]||"number"==typeof l&&l>=s[0]&&l<=s[1]||"number"==typeof u&&u>=s[0]&&u<=s[1])});return r&&(o=o.curve(PE)),o(t)}setup(){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ws(pk),Ws(fk))},t.\u0275dir=be({type:t,viewQuery:function(t,e){var n;1&t&&_l(gk,!0),2&t&&wl(n=El())&&(e.plotElement=n.first)},inputs:{name:"name",fixedWidth:["fixed-width","fixedWidth"],fixedHeight:["fixed-height","fixedHeight"]}}),t})();class vk{}let bk=(()=>{class t{transform(t,e){if(void 0===t)return"";let n=e.concat(t).map(t=>Math.ceil(Math.log10(Math.abs(t)))+4),r=Math.max.apply(void 0,n),i=t.toFixed(2);for(;i.length<r;)i=" "+i;return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"formatFixed",type:t,pure:!0}),t})();function wk(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",10),Ks()),2&t){const t=e.$implicit,n=lo(2);zs("transform",n.translate(n.leftMargin,n.topMargin)),Nr(1),zs("id",t.id)("stroke",t.color)("stroke-width",n.getLineWidth())("stroke-dasharray",t.dashArray)("stroke-linecap",t.lineCap)("stroke-opacity",t.opacity)}}function _k(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",12),Ks()),2&t){const t=e.index,n=lo(4);zs("transform",n.translate(n.leftMargin,n.topMargin)),Nr(1),go("id","",n.name,"-target-drop-",t,""),zs("stroke-width",n.getLineWidth()/2)}}function xk(t,e){if(1&t&&(xn(),to(0),Bs(1,_k,2,4,"g",5),eo()),2&t){const t=lo(3);Nr(1),Ys("ngForOf",t.dropPaths)("ngForTrackBy",t.trackByIndex)}}function Ck(t,e){if(1&t){const t=no();xn(),Zs(0,"g"),Bs(1,xk,2,2,"ng-container",1),Zs(2,"circle",11),so("mousemove",(function(e){Qe(t);const n=lo(2);return n.hover(e,n.target)})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(1),Ys("ngIf",!t.hideDropLines),Nr(1),fo("id","",t.name,"-target"),zs("transform",t.translate(t.leftMargin,t.topMargin))}}function Sk(t,e){1&t&&(xn(),Js(0,"path",16)),2&t&&fo("id","",lo(3).name,"-legend-box")}function Mk(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",17),Zs(2,"text",18),Fo(3),Ks(),Ks()),2&t){const t=e.$implicit,n=e.index,r=lo(3);zs("transform",r.translate(5,r.getFontSize()*n)),Nr(1),zs("stroke",r.getPathColor(n))("stroke-width",r.getLineWidth())("stroke-dasharray",r.getDashArray(n))("stroke-linecap",r.getLineCap(n)),Nr(2),Lo(t)}}function Tk(t,e){if(1&t){const t=no();xn(),Zs(0,"g",13),so("dblclick",(function(){return Qe(t),lo(2).resetLegend()})),Bs(1,Sk,1,1,"path",14),Zs(2,"g",15),Bs(3,Mk,4,6,"g",5),Ks(),Ks()}if(2&t){const t=lo(2);fo("id","",t.name,"-legend"),zs("transform",t.translate(t.leftMargin+15+t.legendXOffset,t.topMargin+15+t.legendYOffset)),Nr(1),Ys("ngIf",t.isLegendBoxVisible()),Nr(1),fo("id","",t.name,"-legend-labels"),Nr(1),Ys("ngForOf",t.handler.getModelNames())("ngForTrackBy",t.trackByIndex)}}function Ek(t,e){1&t&&(xn(),Js(0,"circle",25))}const kk=function(t){return[t]};function Pk(t,e){if(1&t&&(xn(),Zs(0,"g",19),Bs(1,Ek,1,0,"circle",20),Js(2,"path",21),Zs(3,"text",22),Zs(4,"tspan",23),Fo(5),il(6,"formatFixed"),Ks(),Zs(7,"tspan",24),Fo(8),il(9,"formatFixed"),Ks(),Ks(),Ks()),2&t){const t=lo(2);fo("id","",t.name,"-hover-info"),Nr(1),Ys("ngIf",!t.isHoverInfoTarget()),Nr(1),fo("id","",t.name,"-hover-box"),Nr(1),fo("id","",t.name,"-hover-coords"),Nr(2),Vo("",t.x.sym,": ",ol(6,8,t.hoverPoint.x,el(14,kk,t.hoverPoint.y)),""),Nr(3),Vo("",t.y.sym,": ",ol(9,11,t.hoverPoint.y,el(16,kk,t.hoverPoint.x)),"")}}function Rk(t,e){if(1&t){const t=no();xn(),to(0),Zs(1,"text",2),Fo(2),Ks(),Zs(3,"text",3),Fo(4),Ks(),Zs(5,"text",4),Fo(6),Ks(),Bs(7,wk,2,7,"g",5),Js(8,"g",6),Js(9,"g",6),Zs(10,"rect",7),so("mouseout",(function(e){return Qe(t),lo().hideHoverInfo(e)}))("mousemove",(function(e){return Qe(t),lo().hover(e)})),Ks(),Bs(11,Ck,3,3,"g",1),Bs(12,Tk,4,6,"g",8),Bs(13,Pk,10,18,"g",9),eo()}if(2&t){const t=lo();Nr(1),zs("x",t.innerWidth/2+t.leftMargin)("y",t.height-t.getFontSize()/2),Nr(1),$o(" ",t.x.title," "),Nr(1),zs("x",0-(t.innerHeight/2+t.topMargin))("y",t.getFontSize()),Nr(1),$o(" ",t.y.title," "),Nr(1),zs("x",t.innerWidth/2+t.leftMargin)("y",t.getFontSize()),Nr(1),$o(" ",t.title," "),Nr(1),Ys("ngForOf",t.paths)("ngForTrackBy",t.trackById),Nr(1),fo("id","",t.name,"-x-axis"),zs("transform",t.translate(t.leftMargin,t.innerHeight+t.topMargin)),Nr(1),fo("id","",t.name,"-y-axis"),zs("transform",t.translate(t.leftMargin,t.topMargin)),Nr(1),zs("transform",t.translate(t.leftMargin,t.topMargin))("width",t.innerWidth)("height",t.innerHeight),Nr(1),Ys("ngIf",!t.hideTarget),Nr(1),Ys("ngIf",t.handler.getNumModels()>1),Nr(1),Ys("ngIf",t.isHoverInfoActive())}}var Ak=function(t){return t[t.Disabled=0]="Disabled",t[t.NonTarget=1]="NonTarget",t[t.Target=2]="Target",t}({});let Ok=(()=>{class t extends yk{constructor(t,e){super(t,e),this.plotOptions=t,this.palette=e,this.hoverDisabled=!1,this.hideDropLines=!1,this.hideTarget=!1,this.disableDrag=!1,this.legendXOffset=0,this.legendYOffset=0,this.modelChanged=new cl,this.hoverInfo=Ak.Disabled,this.targetDragging=!1,this.needDraw=mk.No,this.setupCompleted=!1,this.attemptDraw=!0}ngOnChanges(t){void 0===this.setupTimeoutId&&(console.log(`${this.name} setting timeout for setup`),this.setupTimeoutId=setTimeout(()=>{this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from ngOnChanges): ${this.setupCompleted}`),this.setupTimeoutId=void 0},1))}ngAfterViewChecked(){if(this.attemptDraw)try{this.draw()}catch(t){console.log(`${this.name} draw failed!`),console.log(t),this.attemptDraw=!1}}redraw(){this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from redraw): ${this.setupCompleted}`)}hover(t,e){if(this.hoverPoint=void 0,this.hoverInfo=Ak.Disabled,e)this.hoverPoint=e,this.hoverInfo=Ak.Target;else if(!this.hoverDisabled){var n=t.target.getBoundingClientRect();let e=this.xBisector(this.mainData,this.xScale.invert(t.clientX-n.left)),r=this.mainData[e];r&&(this.hoverPoint=r,this.hoverInfo=Ak.NonTarget)}this.hoverPoint&&this.hoverPoint.x&&this.hoverPoint.y&&(this.hoverX=this.xScale(this.hoverPoint.x),this.hoverY=this.yScale(this.hoverPoint.y),this.needDraw=mk.Hover)}trackByIndex(t,e){return t}trackById(t,e){return e.id}isHoverInfoActive(){return this.hoverInfo!=Ak.Disabled}isHoverInfoTarget(){return this.hoverInfo==Ak.Target}hideHoverInfo(t){var e=t.target.getBoundingClientRect();let n=t.clientX,r=t.clientY;(n<e.left||n>e.right||r<e.top||r>e.bottom)&&(this.hoverInfo=Ak.Disabled)}resetLegend(){this.legendXOffset=0,this.legendYOffset=0}setupDimensions(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getWidth(),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getHeight(),0==this.height)return!1;return this.yAxisWidth=10+this.getAxisLineWidth()+this.getAxisFontSize()+9,this.xAxisHeight=10+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getFontSize()+this.yAxisWidth+10,this.rightMargin=this.getAxisFontSize()+9,this.topMargin=this.getFontSize()+10,this.bottomMargin=this.getFontSize()+this.xAxisHeight+10,this.viewBox=`0 0 ${this.width} ${this.height}`,this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}setupParams(){if(this.x=this.handler.getXParam(this.name),!this.x)return!1;if(this.y=this.handler.getYParam(this.name),!this.y)return!1;for(;this.x.sym.length<this.y.sym.length;)this.x.sym=" "+this.x.sym;for(;this.y.sym.length<this.x.sym.length;)this.y.sym=" "+this.y.sym;return this.title=`${this.y.title} vs. ${this.x.title}`,!0}setupPlotData(){if(this.plotData=this.handler.getPlotData(this.name),!this.plotData)return!1;let t=this.handler.getSelectedIndex();return this.mainData=dk(this.plotData[t].filter(t=>Number.isFinite(t.x)&&Number.isFinite(t.y)),(t,e)=>a_(t.x,e.x)),this.xBisector=l_(t=>t.x).left,!0}setupScales(){this.xScale=pT().domain(this.x.range.toArray()).range([0,this.innerWidth]),this.yScale=pT().domain(this.y.range.toArray().reverse()).range([0,this.innerHeight])}setupTarget(){this.target={x:this.x.target,y:this.y.target}}setupPaths(){this.paths=this.plotData.map((t,e)=>{let n=`${this.name}-path-${e}`,r=this.getPath(t,"x","y"),i=this.getPathColor(e),s=this.getDashArray(e),o=this.getLineCap(e),a=this.handler.getSelectedIndex()==e;return{index:e,id:n,path:r,color:i,dashArray:s,lineCap:o,opacity:a?1:.7,primary:a,points:t}}),this.paths.sort((t,e)=>t.primary?1:e.primary?-1:e.index-t.index)}setupDropPaths(){this.dropPaths=[];let t=TE().x((t,e)=>this.xScale(t.x)).y((t,e)=>this.yScale(t.y)),e=[{x:this.target.x,y:this.yScale.domain()[1]},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(e));let n=[{x:this.xScale.domain()[0],y:this.target.y},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(n))}setup(){return!(!this.handler||!this.setupDimensions()||!this.setupParams()||!this.setupPlotData()||(this.setupScales(),this.setupTarget(),this.setupPaths(),this.setupDropPaths(),this.lastDragEvent&&(this.hover(this.lastDragEvent),this.lastDragEvent=void 0),this.needDraw=mk.Yes,0))}getHoverBoxPath(t,e){let n;try{n=e.getBBox()}catch(d){return""}let r,i,s,o=n.x-5,a=n.x+n.width+5,l=n.width/16,c=o+7*l+5,u=o+9*l+5,h=o+8*l+5;return t?(r=n.y-5,i=n.y+n.height+5,s=i+5):(r=n.y+n.height+5,i=n.y-5,s=i-5),TE()([[o,r],[a,r],[a,i],[u,i],[h,s],[c,i],[o,i],[o,r]])}draw(){if(!this.setupCompleted)return;if(this.needDraw==mk.No)return;let t=Ux(this.plotElement.nativeElement);if(this.hoverInfo!=Ak.Disabled&&this.hoverX>=0&&this.hoverY>=0){let e=GS().duration(50);t.select(`#${this.name}-hover-info`).attr("transform",this.translate(this.leftMargin+this.hoverX,this.topMargin+this.hoverY));let n=this.hoverY>=50,r=t.select(`#${this.name}-hover-box`),i=t.select(`#${this.name}-hover-coords`);i.transition(e).attr("y",n?"-2.5em":"2.5em"),r.transition(e).attrTween("d",()=>t=>this.getHoverBoxPath(n,i.node()))}if(this.needDraw==mk.Hover)return void(this.needDraw=mk.No);let e=GS(),n=C_(this.xScale).ticks(Math.floor(this.innerWidth/75));t.select(`#${this.name}-x-axis`).transition(e).call(n).attr("fill","white").attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth());let r=(i=this.yScale,x_(4,i)).ticks(Math.floor(this.innerHeight/75));var i;t.select(`#${this.name}-y-axis`).transition(e).call(r).attr("fill","white").attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth());for(let o=0,a=this.paths.length;o<a;o++){let n=t.select(`#${this.paths[o].id}`);n.node().d?n.transition(e).attrTween("d",this.pathTween(this.paths[o].path,4)):n.transition(e).attr("d",this.paths[o].path)}let s=`#${this.name}-target`;t.select(s).transition(e).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(let o=0,a=this.dropPaths.length;o<a;o++)t.select(`${s}-drop-${o}`).transition(e).attr("d",this.dropPaths[o]);if(!this.disableDrag){let e=t.select(s),n=gM().on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));e.call(n)}if(this.paths.length>1){let e=t.select(`#${this.name}-legend-box`),n=t.select(`#${this.name}-legend-labels`);if(e.size()>0&&n.size()>0){let t=n.node().getBBox(),r=t.x-5,i=t.x+t.width+5,s=t.y-5,o=t.y+t.height+5;e.attr("d",TE()([[r,s],[i,s],[i,o],[r,o],[r,s]]))}let r=t.select(`#${this.name}-legend`),i=gM().on("drag",this.dragLegend.bind(this));r.call(i)}this.needDraw=mk.No}dragTargetStart(){this.targetDragging=!0}dragTarget(t){let e=this.xScale.invert(kx.x-this.leftMargin);e<this.x.range.min?e=this.x.range.min:e>this.x.range.max&&(e=this.x.range.max);let n=this.xBisector(this.mainData,e),r=this.mainData[n];if(!r)return;let i=Ux(this.plotElement.nativeElement),s=`#${this.name}-target`;this.target=r,this.setupDropPaths(),i.select(s).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(let o=0,a=this.dropPaths.length;o<a;o++)i.select(`${s}-drop-${o}`).attr("d",this.dropPaths[o]);this.hover(t,this.target)}dragTargetEnd(t){this.targetDragging=!1,this.handler&&this.x.name&&(this.lastDragEvent=t,this.handler.updateModel(this.handler.getSelectedIndex(),this.x.name,this.target.x).subscribe(()=>{this.modelChanged.emit()}))}dragLegend(){this.legendXOffset+=kx.dx,this.legendYOffset+=kx.dy}pathTween(t,e){return function(){for(var n=this,r=n.cloneNode(),i=n.getTotalLength(),s=(r.setAttribute("d",t),r).getTotalLength(),o=[0],a=0,l=e/Math.max(i,s);(a+=l)<1;)o.push(a);o.push(1);var c=o.map((function(t){var e=n.getPointAtLength(t*i),o=r.getPointAtLength(t*s);return NC([e.x,e.y],[o.x,o.y])}));return function(e){return e<1?"M"+c.map((function(t){return t(e)})).join("L"):t}}}}return t.\u0275fac=function(e){return new(e||t)(Ws(pk),Ws(fk))},t.\u0275cmp=pe({type:t,selectors:[["app-line-plot"]],inputs:{handler:"handler",hoverDisabled:["hover-disabled","hoverDisabled"],hideDropLines:["hide-drop-lines","hideDropLines"],hideTarget:["hide-target","hideTarget"],disableDrag:["disable-drag","disableDrag"],legendXOffset:["legend-x-offset","legendXOffset"],legendYOffset:["legend-y-offset","legendYOffset"]},outputs:{modelChanged:"modelChanged"},features:[Bo,Qo],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","transform","rotate(-90)"],["text-anchor","middle","font-weight","bold"],[4,"ngFor","ngForOf","ngForTrackBy"],["fill","white",3,"id"],["fill","none","pointer-events","all",3,"mouseout","mousemove"],["class","legend","font-size","smaller",3,"id","dblclick",4,"ngIf"],["pointer-events","none",3,"id",4,"ngIf"],["fill","none"],["r","5","fill","red",1,"target",3,"id","mousemove"],["stroke","red","stroke-dasharray","5, 5","fill","none",3,"id"],["font-size","smaller",1,"legend",3,"id","dblclick"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id",4,"ngIf"],[3,"id"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id"],["d","m0,0 l45,0","fill","none"],["x","50","y","5"],["pointer-events","none",3,"id"],["r","4","fill","none","stroke","blue",4,"ngIf"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.8",3,"id"],["font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["r","4","fill","none","stroke","blue"]],template:function(t,e){1&t&&(xn(),Zs(0,"svg",null,0),Bs(2,Rk,14,21,"ng-container",1),Ks()),2&t&&(Co("font-family",e.getFontFamily())("font-size",e.getFontSizePx()),zs("class",e.name)("width",e.fixedWidth)("height",e.fixedHeight)("viewBox",e.viewBox),Nr(2),Ys("ngIf",e.x&&e.y&&e.handler))},directives:[Iu,Au],pipes:[bk],styles:[".legend[_ngcontent-%COMP%], .target[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}"]}),t})();class Ik{}function Dk(t,e){if(1&t&&(xn(),Js(0,"circle",7)),2&t){const t=lo(2);zs("cx",t.xScale(t.nullValue))("cy",t.yScale(.5))("transform",t.translate(t.leftMargin,t.topMargin))}}function jk(t,e){if(1&t){const t=no();xn(),Zs(0,"g",6),Js(1,"path",8),Js(2,"path",9),Zs(3,"path",10),so("mouseover",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleLeftBarInfo(!0):null}))("mouseout",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleLeftBarInfo(!1):null})),Ks(),Zs(4,"path",11),so("mouseover",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleRightBarInfo(!0):null}))("mouseout",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleRightBarInfo(!1):null})),Ks(),Zs(5,"circle",12),so("mouseover",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleTargetInfo(!0):null}))("mouseout",(function(){Qe(t);const n=e.$implicit,r=lo(2);return r.isPrimaryGroup(n)?r.toggleTargetInfo(!1):null})),Ks(),Ks()}if(2&t){const t=e.$implicit,n=lo(2);So("primary-group",n.isPrimaryGroup(t)),go("id","",n.name,"-group-",t,""),zs("transform",n.isPrimaryGroup(t)?n.translate(n.leftMargin+n.primaryGroupOffset,n.topMargin):null),Nr(1),go("id","",n.name,"-group-",t,"-dist"),zs("fill",n.getPathColor(t))("fill-opacity",n.getGroupFillOpacity(t)),Nr(1),go("id","",n.name,"-group-",t,"-center"),zs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Nr(1),So("draggable",n.isPrimaryGroup(t)&&!n.disableDragCI),go("id","",n.name,"-group-",t,"-left"),zs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Nr(1),So("draggable",n.isPrimaryGroup(t)&&!n.disableDragCI),go("id","",n.name,"-group-",t,"-right"),zs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Nr(1),So("draggable",n.isPrimaryGroup(t)&&!n.disableDragTarget),go("id","",n.name,"-group-",t,"-target"),zs("fill",n.getPathColor(t))}}const Nk=function(t){return[t]};function Fk(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",13),Zs(2,"text",14),Zs(3,"tspan",15),Fo(4),il(5,"formatFixed"),Ks(),Zs(6,"tspan",16),Fo(7),il(8,"formatFixed"),Ks(),Ks(),Ks()),2&t){const t=lo(2);zs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.ci.lower),t.topMargin+t.yScale(.5))),Nr(1),fo("id","",t.name,"-left-box"),Nr(1),fo("id","",t.name,"-left-coords"),Nr(2),$o("95% CI: ",ol(5,5,t.ciWidth(),el(11,Nk,t.primaryGroup.ci.lower)),""),Nr(3),$o(" Bound: ",ol(8,8,t.primaryGroup.ci.lower,el(13,Nk,t.ciWidth())),"")}}function Lk(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",13),Zs(2,"text",14),Zs(3,"tspan",15),Fo(4),il(5,"formatFixed"),Ks(),Zs(6,"tspan",16),Fo(7),il(8,"formatFixed"),Ks(),Ks(),Ks()),2&t){const t=lo(2);zs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.ci.upper),t.topMargin+t.yScale(.5))),Nr(1),fo("id","",t.name,"-right-box"),Nr(1),fo("id","",t.name,"-right-coords"),Nr(2),$o("95% CI: ",ol(5,5,t.ciWidth(),el(11,Nk,t.primaryGroup.ci.upper)),""),Nr(3),$o(" Bound: ",ol(8,8,t.primaryGroup.ci.upper,el(13,Nk,t.ciWidth())),"")}}const $k=function(){return[]};function Vk(t,e){if(1&t&&(xn(),Zs(0,"g"),Js(1,"path",13),Zs(2,"text",17),Zs(3,"tspan",15),Fo(4),il(5,"formatFixed"),Ks(),Ks(),Ks()),2&t){const t=lo(2);zs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.target),t.topMargin+t.yScale(.5))),Nr(1),fo("id","",t.name,"-target-box"),Nr(1),fo("id","",t.name,"-target-coords"),Nr(2),Vo("",t.xParam.sym,": ",ol(5,5,t.primaryGroup.target,tl(8,$k)),"")}}function zk(t,e){if(1&t&&(xn(),to(0),Zs(1,"text",2),Fo(2),Ks(),Zs(3,"text",3),Fo(4),Ks(),Bs(5,Dk,1,3,"circle",4),Bs(6,jk,6,30,"g",5),Bs(7,Fk,9,15,"g",1),Bs(8,Lk,9,15,"g",1),Bs(9,Vk,6,9,"g",1),Js(10,"g",6),eo()),2&t){const t=lo();Nr(1),zs("x",t.innerWidth/2+t.leftMargin)("y",t.height-5),Nr(1),$o(" ",t.xParam.title," "),Nr(1),zs("x",t.innerWidth/2+t.leftMargin)("y",t.getFontSize()/2+8),Nr(1),$o(" ",t.title," "),Nr(1),Ys("ngIf",t.nullValue),Nr(1),Ys("ngForOf",t.groupOrder)("ngForTrackBy",t.trackByIndex),Nr(1),Ys("ngIf",t.showLeftBarInfo),Nr(1),Ys("ngIf",t.showRightBarInfo),Nr(1),Ys("ngIf",t.showTargetInfo),Nr(1),fo("id","",t.name,"-bottom-axis"),zs("transform",t.translate(t.leftMargin,t.innerHeight+t.topMargin))}}var Uk=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t}({});let Hk=(()=>{class t extends yk{constructor(t,e){super(t,e),this.plotOptions=t,this.palette=e,this.disableDragTarget=!1,this.disableDragCI=!1,this.modelChanged=new cl,this.leftMargin=10,this.rightMargin=10,this.topMargin=50,this.bottomMargin=50,this.needDraw=mk.No,this.targetDragging=!1,this.targetWasDragging=!1,this.showTargetInfo=!1,this.primaryGroupOffset=0,this.barDragging=!1,this.showLeftBarInfo=!1,this.showRightBarInfo=!1,this.setupCompleted=!1,this.attemptDraw=!0}ngOnChanges(t){void 0===this.setupTimeoutId&&(console.log(`${this.name} setting timeout for setup`),this.setupTimeoutId=setTimeout(()=>{this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from ngOnChanges): ${this.setupCompleted}`),this.setupTimeoutId=void 0},1))}ngAfterViewChecked(){if(this.attemptDraw)try{this.draw()}catch(t){console.log(`${this.name} draw failed!`),console.log(t),this.attemptDraw=!1}}redraw(){this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from redraw): ${this.setupCompleted}`)}toggleTargetInfo(t){this.targetDragging||this.barDragging||(this.showTargetInfo=t,t&&(this.needDraw=mk.Hover))}toggleLeftBarInfo(t){this.targetDragging||this.barDragging||(this.showLeftBarInfo=t,t&&(this.needDraw=mk.Hover))}toggleRightBarInfo(t){this.targetDragging||this.barDragging||(this.showRightBarInfo=t,t&&(this.needDraw=mk.Hover))}setupDimensions(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getDimension("width"),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getDimension("height"),0==this.height)return!1;return this.topMargin=this.getFontSize()+20,this.bottomMargin=10+this.getFontSize()+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getAxisFontSize()+9,this.rightMargin=this.leftMargin,this.viewBox=`0 0 ${this.width} ${this.height}`,this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}setup(){return!!this.handler&&!!this.setupDimensions()&&(this.setupParams(),this.setupGroups(),this.setupScales(),this.resetDragging(),this.needDraw=mk.Yes,!0)}setupParams(){this.xParam=this.handler.getXParam(),this.title="Precision (95% Confidence Interval) vs. Effect Size"}setupGroups(){this.groups=this.handler.getGroups();let t=this.handler.getSelectedIndex();this.primaryGroup=this.groups[t],this.primaryGroup.ciValues&&(this.ciValuesLower=dk(this.primaryGroup.ciValues,(t,e)=>a_(t.lower,e.lower)),this.ciValuesUpper=dk(this.primaryGroup.ciValues,(t,e)=>a_(t.upper,e.upper))),this.groupOrder=[],this.groups.forEach((e,n)=>{n!==t&&this.groupOrder.push(n)}),this.groupOrder.push(t)}setupScales(){this.xScale=pT().domain(this.xParam.range.toArray()).range([0,this.innerWidth]),this.originalTargetPosition=this.xScale(this.primaryGroup.target),this.yScale=pT().domain([0,.7]).range([0,this.innerHeight]);let t=this.groups.reduce((t,e)=>{let n=u_(e.sampDist,t=>t.y);return u_(t.concat(n))},[]);this.yScaleSD=pT().domain(t.reverse()).range([0,this.yScale(.5)]).clamp(!0)}resetDragging(){this.targetWasDragging=this.targetDragging,this.targetDragging=!1,this.barDragging=!1}draw(){if(!this.setupCompleted)return;if(this.needDraw==mk.No)return;if(this.drawInfoBox("left"),this.drawInfoBox("right"),this.drawInfoBox("target"),this.needDraw==mk.Hover)return void(this.needDraw=mk.No);let t=Ux(this.plotElement.nativeElement),e=t.transition(),n=C_(this.xScale).ticks(Math.floor(this.innerWidth/75));e.select(`#${this.name}-bottom-axis`).call(n).attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth()),this.groups.forEach((n,r)=>{let i=e;this.targetWasDragging&&this.isPrimaryGroup(r)&&(i=t);let s=`#${this.name}-group-${r}`;i.select(s).attr("transform",this.translate(this.leftMargin,this.topMargin));let o=this.getPath([{x:n.ci.lower,y:.4},{x:n.ci.lower,y:.6}],"x","y",!1);i.select(`${s}-left`).attr("d",o);let a=this.getPath([{x:n.ci.upper,y:.4},{x:n.ci.upper,y:.6}],"x","y",!1);i.select(`${s}-right`).attr("d",a);let l=this.getPath([{x:n.ci.lower,y:.5},{x:n.ci.upper,y:.5}],"x","y",!1);i.select(`${s}-center`).attr("d",l);let c=this.getArea(n.sampDist,"x","y");if(i.select(`${s}-dist`).attr("d",c),i.select(`${s}-target`).attr("cx",this.xScale(n.target)).attr("cy",this.yScale(.5)),this.isPrimaryGroup(r)){let e=t.select(`${s}-target`),n=gM().container(e.node().parentNode.parentNode).on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));e.call(n);let r=t.select(`${s}-left`),i=gM().container(r.node().parentNode.parentNode).on("start",this.dragBarStart.bind(this,Uk.Left)).on("drag",this.dragBar.bind(this,Uk.Left)).on("end",this.dragBarEnd.bind(this,Uk.Left));r.call(i);let o=t.select(`${s}-right`),a=gM().container(o.node().parentNode.parentNode).on("start",this.dragBarStart.bind(this,Uk.Right)).on("drag",this.dragBar.bind(this,Uk.Right)).on("end",this.dragBarEnd.bind(this,Uk.Right));o.call(a)}}),this.needDraw=mk.No}drawInfoBox(t){let e=Ux(this.plotElement.nativeElement),n=e.select(`#${this.name}-${t}-box`),r=e.select(`#${this.name}-${t}-coords`);if(n.size()>0&&r.size()>0){let t=r.node().getBBox(),e=t.x-5,i=t.x+t.width+5,s=t.width/16,o=e+7*s+5,a=e+9*s+5,l=e+8*s+5,c=t.y-5,u=t.y+t.height+5;n.attr("d",TE()([[e,c],[i,c],[i,u],[a,u],[l,u+5],[o,u],[e,u],[e,c]]))}}ciWidth(){return Math.abs(this.primaryGroup.ci.upper-this.primaryGroup.ci.lower)}getGroupFillOpacity(t){return this.targetDragging&&t===this.handler.getSelectedIndex()?.1:.5}isPrimaryGroup(t){return this.handler.getSelectedIndex()===t}getArea(t,e,n){return function(){var t=SE,e=null,n=_E(0),r=ME,i=_E(!0),s=null,o=CE,a=null;function l(l){var c,u,h,d,p,f=l.length,g=!1,m=new Array(f),y=new Array(f);for(null==s&&(a=o(p=iM())),c=0;c<=f;++c){if(!(c<f&&i(d=l[c],c,l))===g)if(g=!g)u=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=u;--h)a.point(m[h],y[h]);a.lineEnd(),a.areaEnd()}g&&(m[c]=+t(d,c,l),y[c]=+n(d,c,l),a.point(e?+e(d,c,l):m[c],r?+r(d,c,l):y[c]))}if(p)return a=null,p+""||null}function c(){return TE().defined(i).curve(o).context(s)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:_E(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:_E(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:_E(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:_E(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:_E(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:_E(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:_E(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),l):s},l}().curve(PE).x((t,n)=>this.xScale(t[e])).y0(this.yScaleSD(0)).y1((t,e)=>this.yScaleSD(t[n]))(t)}dragTargetStart(){this.disableDragTarget||(this.targetDragging=!0)}dragTarget(t){if(this.disableDragTarget)return;let e=kx.x-this.leftMargin,n=this.xScale.invert(e);n>=0&&n<.1?(n=.1,e=this.xScale(n)):n<0&&n>-.1&&(n=-.1,e=this.xScale(n)),this.primaryGroupOffset=e-this.originalTargetPosition,this.primaryGroup.target=n,this.needDraw=mk.Hover}dragTargetEnd(){this.disableDragTarget||(this.handler&&this.handler.updateTargetValue(this.primaryGroup.target).subscribe(()=>{this.modelChanged.emit()}),this.showTargetInfo=!1)}dragBarStart(t){this.disableDragCI||(this.barDragging=!0)}dragBar(t,e){if(this.disableDragCI)return;let n=this.xScale.invert(kx.x-this.leftMargin);if(this.primaryGroup.ciValues){let e,r;switch(t){case Uk.Left:r=this.ciValuesLower,e=l_(t=>t.lower).left;break;case Uk.Right:r=this.ciValuesUpper,e=l_(t=>t.upper).left}let i=e(r,n);if(!i)return;i>=r.length&&(i=r.length-1),this.primaryGroup.ci=r[i]}else{let e=0;switch(t){case Uk.Left:e=n-this.primaryGroup.ci.lower;break;case Uk.Right:e=this.primaryGroup.ci.upper-n}this.primaryGroup.ci.lower+=e,this.primaryGroup.ci.upper-=e}this.handler.setIntermediateCIValue(this.primaryGroup.ci);let r=this.getPath([{x:this.primaryGroup.ci.lower,y:.4},{x:this.primaryGroup.ci.lower,y:.6}],"x","y",!1),i=this.getPath([{x:this.primaryGroup.ci.upper,y:.4},{x:this.primaryGroup.ci.upper,y:.6}],"x","y",!1),s=this.getPath([{x:this.primaryGroup.ci.lower,y:.5},{x:this.primaryGroup.ci.upper,y:.5}],"x","y",!1),o=Ux(this.plotElement.nativeElement).select("g.primary-group");o.select("path.left").attr("d",r),o.select("path.right").attr("d",i),o.select("path.center").attr("d",s),this.needDraw=mk.Hover}dragBarEnd(t){this.disableDragCI||(this.handler&&this.handler.updateCIValue(this.primaryGroup.ci).subscribe(()=>{this.modelChanged.emit()}),this.showLeftBarInfo=!1,this.showRightBarInfo=!1)}}return t.\u0275fac=function(e){return new(e||t)(Ws(pk),Ws(fk))},t.\u0275cmp=pe({type:t,selectors:[["app-ci-plot"]],inputs:{handler:"handler",disableDragTarget:["disable-drag-target","disableDragTarget"],disableDragCI:["disable-drag-ci","disableDragCI"]},outputs:{modelChanged:"modelChanged"},features:[Bo,Qo],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","font-weight","bold"],["r","5","fill","darkseagreen",4,"ngIf"],[3,"id","primary-group",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["r","5","fill","darkseagreen"],["stroke","none",1,"dist",3,"id"],["fill","none",1,"center",3,"id"],["fill","none",1,"left",3,"id","mouseover","mouseout"],["fill","none",1,"right",3,"id","mouseover","mouseout"],["r","5",1,"target",3,"id","mouseover","mouseout"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.9",3,"id"],["x","0","y","-3em","font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["x","0","y","-1.5em","font-family","mono","text-anchor","middle",3,"id"]],template:function(t,e){1&t&&(xn(),Zs(0,"svg",null,0),Bs(2,zk,11,14,"ng-container",1),Ks()),2&t&&(Co("font-family",e.getFontFamily())("font-size",e.getFontSizePx()),zs("class",e.name)("width",e.fixedWidth)("height",e.fixedHeight)("viewBox",e.viewBox),Nr(2),Ys("ngIf",e.handler&&e.groups))},directives:[Iu,Au],pipes:[bk],styles:[".draggable{cursor:-webkit-grab;cursor:grab}"],encapsulation:2}),t})(),Bk=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Rc.apiUrl}/export`}formats(){let t=`${this.apiUrl}/formats`,e={headers:new xy({"Content-Type":"application/json"})};return this.http.get(t,e).pipe(uf(this.handleError))}plots(t,e){let n=`${this.apiUrl}/plots`,r={format:t,plots:e},i={headers:new xy({"Content-Type":"application/json"})};return this.http.post(n,r,i).pipe(uf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),Rb("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ny))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const qk=["topLeftPlot"],Wk=["topRightPlot"],Gk=["bottomPlot"],Xk=["downloadLink"];function Yk(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Width "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).topLeftWidth=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.topLeftWidth)}}function Qk(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Height "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).topLeftHeight=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.topLeftHeight)}}function Zk(t,e){if(1&t){const t=no();Zs(0,"div",23),Zs(1,"label",24),Zs(2,"input",25),so("ngModelChange",(function(e){return Qe(t),lo(2).topLeftTarget=e})),Ks(),Fo(3," Show target and drop lines "),Ks(),Ks(),Zs(4,"label"),Fo(5," Dimensions "),Zs(6,"select",30),so("ngModelChange",(function(e){return Qe(t),lo(2).topLeftDim=e}))("ngModelChange",(function(e){return Qe(t),lo(2).setDim("topLeft",e)})),Zs(7,"option",31),Fo(8,"640 by 480"),Ks(),Zs(9,"option",32),Fo(10,"800 by 600"),Ks(),Zs(11,"option",33),Fo(12,"1024 by 768"),Ks(),Zs(13,"option",34),Fo(14,"Custom"),Ks(),Ks(),Ks(),Bs(15,Yk,4,1,"div",35),Bs(16,Qk,4,1,"div",35)}if(2&t){const t=lo(2);Nr(2),Ys("ngModel",t.topLeftTarget),Nr(4),Ys("ngModel",t.topLeftDim),Nr(9),Ys("ngIf","other"==t.topLeftDim),Nr(1),Ys("ngIf","other"==t.topLeftDim)}}function Kk(t,e){if(1&t){const t=no();Zs(0,"div",22),Zs(1,"div",23),Zs(2,"label",24),Zs(3,"input",25),so("ngModelChange",(function(e){return Qe(t),lo().includeTopLeft=e})),Ks(),Fo(4," Export this graph "),Ks(),Ks(),Bs(5,Zk,17,4,"ng-template",26),Ks(),Zs(6,"div",27),Js(7,"app-line-plot",28,29),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.includeTopLeft),Nr(2),Ys("ngIf",t.includeTopLeft),Nr(2),Ys("handler",t.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!t.topLeftTarget)("hide-target",!t.topLeftTarget)("fixed-width",t.topLeftWidth)("fixed-height",t.topLeftHeight)("legend-x-offset",t.topLeftLegendXOffset)("legend-y-offset",t.topLeftLegendYOffset)}}function Jk(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Width "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).topRightWidth=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.topRightWidth)}}function tP(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Height "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).topRightHeight=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.topRightHeight)}}function eP(t,e){if(1&t){const t=no();Zs(0,"div",23),Zs(1,"label",24),Zs(2,"input",25),so("ngModelChange",(function(e){return Qe(t),lo(2).topRightTarget=e})),Ks(),Fo(3," Show target and drop lines "),Ks(),Ks(),Zs(4,"label"),Fo(5," Dimensions "),Zs(6,"select",40),so("ngModelChange",(function(e){return Qe(t),lo(2).topRightDim=e}))("ngModelChange",(function(e){return Qe(t),lo(2).setDim("topRight",e)})),Zs(7,"option",31),Fo(8,"640 by 480"),Ks(),Zs(9,"option",32),Fo(10,"800 by 600"),Ks(),Zs(11,"option",33),Fo(12,"1024 by 768"),Ks(),Zs(13,"option",34),Fo(14,"Custom"),Ks(),Ks(),Ks(),Bs(15,Jk,4,1,"div",35),Bs(16,tP,4,1,"div",35)}if(2&t){const t=lo(2);Nr(2),Ys("ngModel",t.topRightTarget),Nr(4),Ys("ngModel",t.topRightDim),Nr(9),Ys("ngIf","other"==t.topRightDim),Nr(1),Ys("ngIf","other"==t.topRightDim)}}function nP(t,e){if(1&t){const t=no();Zs(0,"div",22),Zs(1,"div",23),Zs(2,"label",24),Zs(3,"input",25),so("ngModelChange",(function(e){return Qe(t),lo().includeTopRight=e})),Ks(),Fo(4," Export this graph "),Ks(),Ks(),Bs(5,eP,17,4,"ng-template",26),Ks(),Zs(6,"div",27),Js(7,"app-line-plot",38,39),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.includeTopRight),Nr(2),Ys("ngIf",t.includeTopRight),Nr(2),Ys("handler",t.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!t.topRightTarget)("hide-target",!t.topRightTarget)("fixed-width",t.topRightWidth)("fixed-height",t.topRightHeight)("legend-x-offset",t.topRightLegendXOffset)("legend-y-offset",t.topRightLegendYOffset)}}function rP(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Width "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).bottomWidth=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.bottomWidth)}}function iP(t,e){if(1&t){const t=no();Zs(0,"div",36),Zs(1,"label"),Fo(2," Height "),Zs(3,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).bottomHeight=e})),Ks(),Ks(),Ks()}if(2&t){const t=lo(3);Nr(3),Ys("ngModel",t.bottomHeight)}}function sP(t,e){if(1&t){const t=no();Zs(0,"label"),Fo(1," Dimensions "),Zs(2,"select",43),so("ngModelChange",(function(e){return Qe(t),lo(2).bottomDim=e}))("ngModelChange",(function(e){return Qe(t),lo(2).setDim("bottom",e)})),Zs(3,"option",44),Fo(4,"640 by 160"),Ks(),Zs(5,"option",45),Fo(6,"800 by 200"),Ks(),Zs(7,"option",46),Fo(8,"1024 by 256"),Ks(),Zs(9,"option",34),Fo(10,"Custom"),Ks(),Ks(),Ks(),Bs(11,rP,4,1,"div",35),Bs(12,iP,4,1,"div",35)}if(2&t){const t=lo(2);Nr(2),Ys("ngModel",t.bottomDim),Nr(9),Ys("ngIf","other"==t.bottomDim),Nr(1),Ys("ngIf","other"==t.bottomDim)}}function oP(t,e){if(1&t){const t=no();Zs(0,"div",22),Zs(1,"div",23),Zs(2,"label",24),Zs(3,"input",25),so("ngModelChange",(function(e){return Qe(t),lo().includeBottom=e})),Ks(),Fo(4," Export this graph "),Ks(),Ks(),Bs(5,sP,13,3,"ng-template",26),Ks(),Zs(6,"div",27),Js(7,"app-ci-plot",41,42),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.includeBottom),Nr(2),Ys("ngIf",t.includeBottom),Nr(2),Ys("handler",t.ciPlotHandler)("disable-drag-target",!0)("disable-drag-ci",!0)("fixed-width",t.bottomWidth)("fixed-height",t.bottomHeight)}}function aP(t,e){if(1&t&&(Zs(0,"option",47),Fo(1),Ks()),2&t){const t=e.$implicit;Ys("selected",lo().imageFormat==t),Nr(1),Lo(t)}}var lP=function(t){return t[t.iOS=0]="iOS",t[t.WP=1]="WP",t[t.Android=2]="Android",t[t.Linux=3]="Linux",t[t.Mac=4]="Mac",t[t.Windows=5]="Windows",t[t.BB=6]="BB",t[t.Other=7]="Other",t}({});let cP=[[lP.iOS,/([0-9_]+) like Mac OS X/],[lP.iOS,/CPU like Mac OS X/],[lP.WP,/Windows Phone ([0-9\.]+)/],[lP.Android,/Android ([0-9\.]+)/],[lP.Linux,/Linux/],[lP.Mac,/Macintosh.+Mac OS X ([0-9_]+)/],[lP.Windows,/Windows NT ([0-9\.]+)/],[lP.BB,/BlackBerry.+Version\/([0-9\.]+)/],[lP.BB,/BB[0-9]+.+Version\/([0-9\.]+)/]],uP=(()=>{class t{constructor(t,e){this.activeModal=t,this.exportService=e,this.includeTopLeft=!0,this.topLeftDim="640x480",this.topLeftWidth=640,this.topLeftHeight=480,this.topLeftTarget=!0,this.includeTopRight=!0,this.topRightDim="640x480",this.topRightWidth=640,this.topRightHeight=480,this.topRightTarget=!0,this.includeBottom=!0,this.bottomTitle="Precision vs. Effect Size",this.bottomDim="640x160",this.bottomWidth=640,this.bottomHeight=160,this.imageFormats=[]}ngOnInit(){switch(this.detectPlatform()){case lP.Windows:this.imageFormat="WMF";break;case lP.Mac:this.imageFormat="EPS";break;case lP.Linux:this.imageFormat="SVG";break;default:this.imageFormat="PNG"}this.exportService.formats().subscribe(t=>{this.imageFormats=t.formats,this.imageFormats.some(t=>this.imageFormat==t)||(this.imageFormat="PNG")}),this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler()}ngAfterViewChecked(){this.topLeftTitle&&this.topRightTitle&&this.bottomTitle||setTimeout(()=>{this.topLeftPlot&&(this.topLeftTitle=this.topLeftPlot.title),this.topRightPlot&&(this.topRightTitle=this.topRightPlot.title),this.bottomPlot&&(this.bottomTitle=this.bottomPlot.title)},1)}detectPlatform(){if(navigator){let n=navigator.userAgent;for(var t=0,e=cP.length;t<e;t++){let e=cP[t];if(n.match(e[1]))return e[0]}}return lP.Other}setDim(t,e){if("other"!=e){let n=e.split("x");this[`${t}Width`]=parseInt(n[0]),this[`${t}Height`]=parseInt(n[1])}}serializePlot(t){return(new XMLSerializer).serializeToString(t.plotElement.nativeElement)}save(){let t=[];this.includeTopLeft&&t.push({name:this.topLeftTitle,width:this.topLeftWidth,height:this.topLeftHeight,svg:this.serializePlot(this.topLeftPlot)}),this.includeTopRight&&t.push({name:this.topRightTitle,width:this.topRightWidth,height:this.topRightHeight,svg:this.serializePlot(this.topRightPlot)}),this.includeBottom&&t.push({name:this.bottomTitle,width:this.bottomWidth,height:this.bottomHeight,svg:this.serializePlot(this.bottomPlot)}),this.exportService.plots(this.imageFormat,t).subscribe(t=>{let e=atob(t.data);for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);let s=new Blob([n],{type:"application/zip"}),o=URL.createObjectURL(s),a=this.downloadLink.nativeElement;a.href=o,a.download=t.filename,a.click(),URL.revokeObjectURL(o),this.activeModal.close()})}cancel(){this.activeModal.close()}}return t.\u0275fac=function(e){return new(e||t)(Ws(yw),Ws(Bk))},t.\u0275cmp=pe({type:t,selectors:[["app-export-plots"]],viewQuery:function(t,e){var n;1&t&&(xl(qk,!0),xl(Wk,!0),xl(Gk,!0),_l(Xk,!0)),2&t&&(wl(n=El())&&(e.topLeftPlot=n.first),wl(n=El())&&(e.topRightPlot=n.first),wl(n=El())&&(e.bottomPlot=n.first),wl(n=El())&&(e.downloadLink=n.first))},inputs:{project:"project",topLeftLegendXOffset:["top-left-legend-x-offset","topLeftLegendXOffset"],topLeftLegendYOffset:["top-left-legend-y-offset","topLeftLegendYOffset"],topRightLegendXOffset:["top-right-legend-x-offset","topRightLegendXOffset"],topRightLegendYOffset:["top-right-legend-y-offset","topRightLegendYOffset"]},decls:33,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","export-plots-modal-body",1,"modal-body","grow-vert","h-100"],[1,"d-flex","flex-column","h-100"],[3,"destroyOnHide"],[3,"title"],["ngbTabContent",""],[1,"modal-footer"],[1,"d-flex-inline","flex-row"],[1,"form-inline"],["for","export-image-format",1,"mr-sm-2"],["id","export-image-format","name","imageFormat",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected",4,"ngFor","ngForOf"],[2,"display","none"],["downloadLink",""],[1,"d-flex","flex-row","align-items-center"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[1,"fa","fa-floppy-o"],["type","button",1,"btn","btn-secondary","m-1",3,"click"],[1,"fa","fa-circle-x"],[1,"left"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"ngIf"],[1,"right"],["name","top-left-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topLeftPlot",""],["name","topLeftDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x480"],["value","800x600"],["value","1024x768"],["value","other"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","top-right-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topRightPlot",""],["name","topRightDim",1,"form-control",3,"ngModel","ngModelChange"],["name","bottom-export",3,"handler","disable-drag-target","disable-drag-ci","fixed-width","fixed-height"],["bottomPlot",""],["name","bottomDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x160"],["value","800x200"],["value","1024x256"],[3,"selected"]],template:function(t,e){1&t&&(Zs(0,"div",0),Zs(1,"h4",1),Fo(2,"Export graphs"),Ks(),Zs(3,"button",2),so("click",(function(){return e.cancel()})),Zs(4,"span",3),Fo(5,"\xd7"),Ks(),Ks(),Ks(),Zs(6,"div",4),Zs(7,"div",5),Zs(8,"ngb-tabset",6),Zs(9,"ngb-tab",7),Bs(10,Kk,9,11,"ng-template",8),Ks(),Zs(11,"ngb-tab",7),Bs(12,nP,9,11,"ng-template",8),Ks(),Zs(13,"ngb-tab",7),Bs(14,oP,9,7,"ng-template",8),Ks(),Ks(),Ks(),Ks(),Zs(15,"div",9),Zs(16,"div",10),Zs(17,"div",11),Zs(18,"label",12),Fo(19,"Image format:"),Ks(),Zs(20,"select",13),so("ngModelChange",(function(t){return e.imageFormat=t})),Bs(21,aP,2,2,"option",14),Ks(),Ks(),Ks(),Zs(22,"p"),Fo(23," The graphs you have chosen will be packaged in a ZIP file. "),Js(24,"a",15,16),Ks(),Zs(26,"div",17),Zs(27,"button",18),so("click",(function(){return e.save()})),Js(28,"i",19),Fo(29," Save "),Ks(),Zs(30,"button",20),so("click",(function(){return e.cancel()})),Js(31,"i",21),Fo(32," Close "),Ks(),Ks(),Ks()),2&t&&(Nr(8),Ys("destroyOnHide",!1),Nr(1),Ys("title",e.topLeftTitle||"Top Left Plot"),Nr(2),Ys("title",e.topRightTitle||"Top Right Plot"),Nr(2),Ys("title",e.bottomTitle||"Bottom Plot"),Nr(7),Ys("ngModel",e.imageFormat),Nr(1),Ys("ngForOf",e.imageFormats),Nr(6),Ys("disabled",!e.includeTopLeft&&!e.includeTopRight&&!e.includeBottom))},directives:[zw,Vw,$w,Dv,hv,ub,Au,ev,Iu,Ok,jv,$v,Sv,iv,Hk],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.modal-body[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20%;border-right:1px solid #888;padding:10px}.modal-body[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;margin-left:10px;overflow:auto;padding:10px}.modal-footer[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]}),t})(),hP=(()=>{class t{constructor(){this.onCopy=new cl,document.addEventListener("copy",t=>{this.onCopy.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dP=["topLeft"],pP=["topRight"],fP=["bottom"],gP=["footerTabset"],mP=["log"];function yP(t,e){1&t&&(Zs(0,"div",10),Js(1,"div",11),Js(2,"div",12),Js(3,"div",13),Ks()),2&t&&Ys("@overlay",void 0)}function vP(t,e){if(1&t){const t=no();Zs(0,"div",14),Zs(1,"button",15),so("click",(function(){return Qe(t),lo().toggleFooter(!0)})),Js(2,"i",16),Fo(3," Interpretation / Log "),Ks(),Ks()}}function bP(t,e){1&t&&Js(0,"i",30),2&t&&Co("color",lo(3).getIndicatorColor())}function wP(t,e){1&t&&(Bs(0,bP,1,2,"i",29),Fo(1," Interpretation ")),2&t&&Ys("ngIf",lo(2).project.getModelCount()>1)}function _P(t,e){1&t&&Fo(0),2&t&&$o(" ",lo(2).project.getModelInterpretation()," ")}function xP(t,e){1&t&&Fo(0," There have not been any changes yet. ")}function CP(t,e){if(1&t&&(Fo(0),Zs(1,"span",37),Fo(2),il(3,"json"),Ks()),2&t){const t=lo().$implicit;$o(" Added model ",t.index+1,": "),Nr(2),Lo(sl(3,2,t.params))}}function SP(t,e){1&t&&Fo(0),2&t&&$o(" Removed model ",lo().$implicit.index+1," ")}function MP(t,e){if(1&t&&(Fo(0," Changed "),Zs(1,"span",37),Fo(2),Ks(),Fo(3),Zs(4,"span",37),Fo(5),il(6,"json"),Ks()),2&t){const t=lo().$implicit;Nr(2),Lo(t.key),Nr(1),$o(" in model ",t.index+1,": "),Nr(2),Lo(sl(6,3,t.params))}}function TP(t,e){if(1&t&&(Zs(0,"li"),Bs(1,CP,4,4,"ng-template",36),Bs(2,SP,1,1,"ng-template",36),Bs(3,MP,7,5,"ng-template",36),Ks()),2&t){const t=e.$implicit;Nr(1),Ys("ngIf","add"==t.type),Nr(1),Ys("ngIf","remove"==t.type),Nr(1),Ys("ngIf","change"==t.type)}}function EP(t,e){if(1&t&&(Zs(0,"ul",33,34),Bs(2,TP,4,3,"li",35),Ks()),2&t){const t=lo(3);Nr(2),Ys("ngForOf",t.project.getChangeHistory())}}function kP(t,e){if(1&t&&(Bs(0,xP,1,0,"ng-template",31),Bs(1,EP,3,1,"ng-template",null,32,Al)),2&t){const t=qs(2);Ys("ngIf",!lo(2).project)("ngIfElse",t)}}function PP(t,e){if(1&t){const t=no();Zs(0,"div",17),Zs(1,"div",18),Zs(2,"button",19),so("click",(function(){return Qe(t),lo().copyFooter()})),Js(3,"i",20),Ks(),Zs(4,"button",21),so("click",(function(){return Qe(t),lo().toggleFooter(!1)})),Js(5,"i",22),Ks(),Ks(),Zs(6,"ngb-tabset",23,24),Zs(8,"ngb-tab",25),Bs(9,wP,2,1,"ng-template",26),Bs(10,_P,1,1,"ng-template",27),Ks(),Zs(11,"ngb-tab",28),Bs(12,kP,3,2,"ng-template",27),Ks(),Ks(),Ks()}}let RP=(()=>{class t{constructor(t,e,n,r){this.modalService=t,this.plotOptions=e,this.palette=n,this.copyService=r,this.hoverDisabled=!1,this.disableDragCITarget=!1,this.disableDragCIBounds=!1,this.modelChanged=new cl,this.showFooter=!0,this.updatingPlots=!1}ngOnChanges(t){"project"in t&&(this.updatingSub&&(this.updatingSub.unsubscribe(),this.updatingSub=void 0),this.project?(this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler(),this.updatingSub=this.project.updatingPlotData.subscribe(t=>{this.updatingPlots=!0})):(this.linePlotHandler=void 0,this.ciPlotHandler=void 0))}toggleFooter(t){this.showFooter=t,setTimeout(this.resize.bind(this),1)}openSaveDialog(){let t=this.modalService.open(uP,{windowClass:"export-plots"}).componentInstance;t.project=this.project,t.topLeftLegendXOffset=this.topLeftPlot.legendXOffset,t.topLeftLegendYOffset=this.topLeftPlot.legendYOffset,t.topRightLegendXOffset=this.topRightPlot.legendXOffset,t.topRightLegendYOffset=this.topRightPlot.legendYOffset}resize(){this.redrawPlots()}redrawPlots(){this.updatingPlots=!1,setTimeout(()=>{this.topLeftPlot.redraw(),this.topRightPlot.redraw(),this.bottomPlot.redraw()},1)}getIndicatorColor(){return this.palette.getColor(this.project.getSelectedIndex(),this.plotOptions.paletteTheme)}copyFooter(){this.copySub=this.copyService.onCopy.subscribe(t=>{this.onCopy(t)}),document.execCommand("copy")}onCopy(t){switch(this.footerTabset.activeId){case"output-pane-interpretation":t.clipboardData.setData("text/plain",this.project.getModelInterpretation()),t.preventDefault();break;case"output-pane-log":t.clipboardData.setData("text/plain",this.logElt.nativeElement.innerText),t.preventDefault()}this.copySub.unsubscribe()}onModelChanged(){this.modelChanged.emit()}}return t.\u0275fac=function(e){return new(e||t)(Ws(xw),Ws(pk),Ws(fk),Ws(hP))},t.\u0275cmp=pe({type:t,selectors:[["app-output-pane"]],viewQuery:function(t,e){var n;1&t&&(_l(dP,!0),_l(pP,!0),_l(fP,!0),xl(gP,!0),xl(mP,!0)),2&t&&(wl(n=El())&&(e.topLeftPlot=n.first),wl(n=El())&&(e.topRightPlot=n.first),wl(n=El())&&(e.bottomPlot=n.first),wl(n=El())&&(e.footerTabset=n.first),wl(n=El())&&(e.logElt=n.first))},inputs:{project:"project",hoverDisabled:["hover-disabled","hoverDisabled"],disableDragCITarget:["disable-drag-ci-target","disableDragCITarget"],disableDragCIBounds:["disable-drag-ci-bounds","disableDragCIBounds"]},outputs:{modelChanged:"modelChanged"},features:[Qo],decls:10,vars:12,consts:[["id","output-pane-plots",1,"plot"],["id","output-pane-overlay",4,"ngIf"],["name","top-left",3,"handler","hover-disabled","modelChanged"],["topLeft",""],["name","top-right",3,"handler","hover-disabled","modelChanged"],["topRight",""],["name","bottom",3,"handler","disable-drag-target","disable-drag-ci","modelChanged"],["bottom",""],["class","show-footer",4,"ngIf"],["id","output-pane-footer","class","output-footer",4,"ngIf"],["id","output-pane-overlay"],[1,"aligner-top"],[1,"loader"],[1,"aligner-bottom"],[1,"show-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true","title","Show footer",1,"fa","fa-envelope-open-o"],["id","output-pane-footer",1,"output-footer"],[1,"footer-buttons"],["type","button","title","Copy to clipboard",3,"click"],[1,"fa","fa-clipboard"],["type","button","title","Hide footer",3,"click"],[1,"fa","fa-window-minimize"],["type","pills"],["footerTabset",""],["id","output-pane-interpretation"],["ngbTabTitle",""],["ngbTabContent",""],["id","output-pane-log","title","Log"],["class","fa fa-square",3,"color",4,"ngIf"],[1,"fa","fa-square"],[3,"ngIf","ngIfElse"],["changeHistory",""],[1,"log"],["log",""],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"code"]],template:function(t,e){1&t&&(Zs(0,"div",0),Bs(1,yP,4,1,"div",1),Zs(2,"app-line-plot",2,3),so("modelChanged",(function(){return e.onModelChanged()})),Ks(),Zs(4,"app-line-plot",4,5),so("modelChanged",(function(){return e.onModelChanged()})),Ks(),Zs(6,"app-ci-plot",6,7),so("modelChanged",(function(){return e.onModelChanged()})),Ks(),Bs(8,vP,4,0,"div",8),Ks(),Bs(9,PP,13,0,"div",9)),2&t&&(So("without-footer",!e.showFooter),Nr(1),Ys("ngIf",e.updatingPlots),Nr(1),Ys("handler",e.linePlotHandler)("hover-disabled",e.hoverDisabled),Nr(2),Ys("handler",e.linePlotHandler)("hover-disabled",e.hoverDisabled),Nr(2),Ys("handler",e.ciPlotHandler)("disable-drag-target",e.disableDragCITarget)("disable-drag-ci",e.disableDragCIBounds),Nr(2),Ys("ngIf",e.project&&!e.showFooter),Nr(1),Ys("ngIf",e.project&&e.showFooter))},directives:[Iu,Ok,Hk,zw,Vw,Lw,$w,Au],pipes:[$u],styles:["[_nghost-%COMP%]{position:relative}#output-pane-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:-15px;right:0;background-color:#fff;z-index:99;opacity:.7;display:flex;align-items:center;justify-content:center}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-top[_ngcontent-%COMP%]{max-width:50%;align-self:flex-start}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-bottom[_ngcontent-%COMP%]{max-width:50%;align-self:flex-end}#output-pane-overlay[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top-color:#00d;border-radius:50%;width:120px;height:120px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.plot[_ngcontent-%COMP%]{height:80%;position:relative}.without-footer[_ngcontent-%COMP%]{height:100%}div.show-footer[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px}.output-footer[_ngcontent-%COMP%]{position:relative;background-color:#e5e5e5;border:1px solid #aaa;border-radius:5px;margin-top:5px;margin-bottom:5px}.footer-buttons[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}.footer-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 3px}.dot[_ngcontent-%COMP%]{color:red}"],data:{animation:[bh("overlay",[Sh(":enter",[xh({opacity:0}),wh("1s 0.8s",xh({opacity:.7}))]),Sh(":leave",[wh("0.5s",xh({opacity:0}))])])]}}),t})(),AP="a57e8c3c00ad4285eb84639d955aa56c5324daea";function OP(t,e){1&t&&(Zs(0,"h5"),Fo(1,"Introduction"),Ks(),Zs(2,"p"),Fo(3," PS is a program for performing power and sample size calculations. You are using a web-enabled beta-test version of the program, where we are actively working on the interactive user interface. Currently, it can only be used for t-tests, z-tests and tests with dichotomous outcomes. It will be expanded for use in studies with survival response and other data. "),Ks(),Zs(4,"h5"),Fo(5,"Program Output"),Ks(),Zs(6,"p"),Fo(7," The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. It also gives the 95% confidence interval for the test statistic under the specified alternative hypothesis as a measure of the precision of the test statistic. "),Ks(),Zs(8,"h5"),Fo(9,"Interactive Help"),Ks(),Zs(10,"p"),Fo(11," Click on any question-mark icon or white i in a black circle for help to determine the needed information. In the "),Zs(12,"em"),Fo(13,"Start"),Ks(),Fo(14," tab, choose one of sample size, power, or detectable difference and then complete the other fields that appear. Hover over the i icon for information on what is needed in each field. Then click the "),Zs(15,"em"),Fo(16,"Calculate"),Ks(),Fo(17," button. A new tab will appear with sliders for altering the input variables, the desired output variable and various graphs. Alternately, choose an example from the upper-right pull-down menu for a pre-populated example and click on "),Zs(18,"em"),Fo(19,"Calculate"),Ks(),Fo(20,". "),Ks(),Zs(21,"h5"),Fo(22,"Graphical Output"),Ks(),Zs(23,"p"),Fo(24," The graphs that can be generated are sample size vs. power, sample size vs. the detectable alternative hypothesis, power vs. sample size, and power vs. the detectable alternative hypothesis. The y-axes of these graphs are always show the output variable. In addition, a graph of precision vs effect size is always given. The red dot on the top two graphs can be dragged to enhance the user\u2019s intuition on how the input and output variables interact. The dot giving the effect size in the lower panel many also be dragged, as can the vertical bars indicating the limits of the 95% confidence interval when the output is not sample size. "),Ks(),Zs(25,"h5"),Fo(26,"Add Line"),Ks(),Zs(27,"p"),Fo(28,"Clicking on "),Zs(29,"em"),Fo(30,"Add line"),Ks(),Fo(31," overlays a new set of graphs on top of the old ones. This new graph can then be modified to permit multiple graphs on each plot. A legend is automatically generated. The names of the curves can be modified by changing the Name field near the top of the dialog box. Clicking on the left-most tab (blue by default) gives access to the initial plot whose legend name may also be modified. The legend itself can be dragged to a suitable position on each graph. "),Ks(),Zs(32,"h5"),Fo(33,"Options gear wheel"),Ks(),Zs(34,"p"),Fo(35," Click on this icon to change the point size, line width and other graph options. "),Ks(),Zs(36,"h5"),Fo(37,"Save icon"),Ks(),Zs(38,"p"),Fo(39,"Click on this icon to save graphs in one of several formats. Graphs in WMF format can be readily imported into Microsoft PowerPoint for further editing."),Ks(),Zs(40,"h5"),Fo(41,"Cube icon"),Ks(),Zs(42,"p"),Fo(43,"By default, hovering over a line on a graph will give you the values of the x- and y-axes at the point where you are hovering. Clicking on the "),Zs(44,"em"),Fo(45,"Cube"),Ks(),Fo(46," icon toggles this feature on or off."),Ks(),Zs(47,"h5"),Fo(48,"Interpretation"),Ks(),Zs(49,"p"),Fo(50,"The output also includes text that describes the power or sample size calculation in English, which may be a useful starting point for a description in a grant application."),Ks(),Zs(51,"h5"),Fo(52,"Log"),Ks(),Zs(53,"p"),Fo(54,"A terse description of the calculations performed is abailable by clicking on "),Zs(55,"em"),Fo(56,"Log"),Ks(),Fo(57," in the gray box. The log file may then be cut and pasted into other editors."),Ks(),Zs(58,"p"),Js(59,"img",1),Fo(60," \xa9 William D. Dupont, Jeffrey D. Blume, W. Dale Plummer, Jeremy Stephens 2017-2018 "),Ks(),Zs(61,"p"),Fo(62," Use of this program is restricted by a Creative Commons Attribution Non-Commercial Share Alike license. See "),Zs(63,"a",2),Fo(64,"https://creativecommons.org/licenses"),Ks(),Fo(65," for details. We are grateful for support from Dr. Gordon R. Bernard and the Vanderbilt Institute for Clinical and Translational Research. "),Ks())}function IP(t,e){1&t&&(Zs(0,"p"),Fo(1,"Select one of the following:"),Ks(),Zs(2,"h5"),Fo(3,"Sample size"),Ks(),Zs(4,"p"),Fo(5," For independent t-tests this is the number of experimental patients that must be studied to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3 and "),Zs(6,"em"),Fo(7,"m"),Ks(),Fo(8," controls per experimental patient. For paired t-tests it is the number of pairs of patients needed to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3. "),Ks(),Zs(9,"h5"),Fo(10,"Power"),Ks(),Zs(11,"p"),Fo(12," For independent studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 and a control/experimental patient ratio "),Zs(13,"em"),Fo(14,"m"),Ks(),Fo(15," when the true difference in population means is \u03b4. For paired studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 when the true difference in population means is \u03b4. "),Ks(),Zs(16,"h5"),Fo(17,"Detectable alternative"),Ks(),Zs(18,"p"),Fo(19," A difference in population means that can be detected with the specified power and Type I error probability \u03b1 given a standard deviation \u03c3, and the specified sample size. "),Ks())}function DP(t,e){1&t&&(Zs(0,"p"),Fo(1,"Select one of the following:"),Ks(),Zs(2,"h5"),Fo(3,"Sample size"),Ks(),Zs(4,"p"),Fo(5," The sample size needed to detect a specific alternative hypothesis with a specified power and Type I error probability \u03b1. "),Ks(),Zs(6,"h5"),Fo(7,"Power"),Ks(),Zs(8,"p"),Fo(9," The power with which a given sample size can detect a specific alternative hypothesis with a specific Type I error probability \u03b1. "),Ks(),Zs(10,"h5"),Fo(11,"Detectable alternative"),Ks(),Zs(12,"p"),Fo(13," The alternative hypothesis that can be detected with a specified level of power given a specified sample size and Type I error probability \u03b1. "),Ks())}let jP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-help"]],inputs:{topic:"topic"},decls:3,vars:3,consts:[[3,"ngIf"],["src","assets/cc.png"],["href","https://creativecommons.org/licenses"]],template:function(t,e){1&t&&(Bs(0,OP,66,0,"ng-template",0),Bs(1,IP,20,0,"ng-template",0),Bs(2,DP,14,0,"ng-template",0)),2&t&&(Ys("ngIf","overview"==e.topic),Nr(1),Ys("ngIf","t-test-start"==e.topic||"z-test-start"==e.topic),Nr(1),Ys("ngIf","dichot-start"==e.topic))},directives:[Iu],styles:["h5[_ngcontent-%COMP%]{font-weight:700}"]}),t})();function NP(t,e=wb){return n=>n.lift(new FP(t,e))}class FP{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new LP(t,this.dueTime,this.scheduler))}}class LP extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule($P,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function $P(t){t.debouncedNext()}const VP=["errorPopover"],zP=["number"],UP=["range"];function HP(t,e){}function BP(t,e){1&t&&Bs(0,HP,0,0,"ng-template",15),2&t&&Ys("ngTemplateOutlet",lo().labelTpl)}function qP(t,e){1&t&&(Zs(0,"span"),Fo(1,"(Computed value) "),Ks())}function WP(t,e){}function GP(t,e){1&t&&Bs(0,WP,0,0,"ng-template",15),2&t&&Ys("ngTemplateOutlet",lo(4).helpTpl)}function XP(t,e){if(1&t&&(Js(0,"i",21),Bs(1,GP,1,1,"ng-template",null,22,Al)),2&t){const t=qs(2);po("popoverTitle",lo(3).label),Ys("ngbPopover",t)}}function YP(t,e){1&t&&Js(0,"i",23)}function QP(t,e){if(1&t&&(Zs(0,"div",17),Fo(1),Bs(2,qP,2,0,"span",18),Bs(3,XP,3,2,"ng-template",19),Bs(4,YP,1,0,"i",20),Ks()),2&t){const t=lo(2);Nr(1),$o(" ",t.label," "),Nr(1),Ys("ngIf",t.isOutput),Nr(1),Ys("ngIf",t.helpTpl),Nr(1),Ys("ngIf",t.showDot)}}function ZP(t,e){1&t&&Bs(0,QP,5,4,"div",16),2&t&&Ys("ngIf",lo().label)}function KP(t,e){if(1&t&&(Zs(0,"span",24),Fo(1),Ks(),Js(2,"br"),Fo(3)),2&t){const t=lo();Nr(1),Vo("Value is out of range (",t.hardMin,", ",t.hardMax,")."),Nr(2),$o(" Current value: ",t.value," ")}}let JP=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ws(Da))},t.\u0275dir=be({type:t,selectors:[["ng-template","rsLabel",""]]}),t})(),tR=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ws(Da))},t.\u0275dir=be({type:t,selectors:[["ng-template","rsHelp",""]]}),t})(),eR=(()=>{class t{constructor(){this.step=.01,this.hardMinInclusive=!0,this.hardMaxInclusive=!0,this.isOutput=!1,this.showDot=!1,this.hasError=!1,this.inputSubject=new M,this.dirty=!1}ngOnInit(){this.inputSubject.pipe(NP(800),Xp(t=>this.dirty)).subscribe(t=>{this.trySetValue(t)})}ngAfterContentInit(){!this.helpTpl&&this.rsHelpTpl&&(this.helpTpl=this.rsHelpTpl.templateRef),!this.labelTpl&&this.rsLabelTpl&&(this.labelTpl=this.rsLabelTpl.templateRef)}ngOnChanges(t){if("isOutput"in t){let e=t.isOutput;!0===e.previousValue&&!1===e.currentValue?this.valueOutOfBounds(this.value)&&(this.hasError=!0,this.errorPopover.open()):!1===e.previousValue&&!0===e.currentValue&&(this.hasError=!1,this.errorPopover.close())}}round(t,e=1){let n=Math.pow(10,e);return t*=n,(t=Math.round(t))/n}writeValue(t){this.value=t}registerOnChange(t){this.changeCallback=t}registerOnTouched(t){}setDisabledState(t){}rangeChanged(t){this.trySetValue(t)}rangeInput(t){this.dirty=!0,this.numberElement.nativeElement.value=t,this.inputSubject.next(t)}numberChanged(t){this.dirty&&this.trySetValue(t)}numberInput(t){this.dirty=!0,this.rangeElement.nativeElement.value=t,this.inputSubject.next(t)}blurred(){this.hasError&&(this.numberElement.nativeElement.value=this.value,this.hasError=!1,this.errorPopover.close())}valueOutOfBounds(t){return this.hardMinInclusive&&t<this.hardMin||!this.hardMinInclusive&&t<=this.hardMin||this.hardMaxInclusive&&t>this.hardMax||!this.hardMaxInclusive&&t>=this.hardMax}trySetValue(t){let e=parseFloat(t);this.valueOutOfBounds(e)?(this.hasError=!0,this.errorPopover.open()):(this.hasError=!1,this.errorPopover.close(),this.value=e,this.propagateChange()),this.dirty=!1}propagateChange(){this.changeCallback&&this.changeCallback(this.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-range-slider"]],contentQueries:function(t,e,n){var r;1&t&&(Ml(n,JP,!0),Ml(n,tR,!0)),2&t&&(wl(r=El())&&(e.rsLabelTpl=r.first),wl(r=El())&&(e.rsHelpTpl=r.first))},viewQuery:function(t,e){var n;1&t&&(_l(VP,!0),_l(zP,!0),_l(UP,!0)),2&t&&(wl(n=El())&&(e.errorPopover=n.first),wl(n=El())&&(e.numberElement=n.first),wl(n=El())&&(e.rangeElement=n.first))},inputs:{label:"label",name:"name",min:"min",max:"max",step:"step",hardMin:["hard-min","hardMin"],hardMinInclusive:["hard-min-inclusive","hardMinInclusive"],hardMax:["hard-max","hardMax"],hardMaxInclusive:["hard-max-inclusive","hardMaxInclusive"],isOutput:["is-output","isOutput"],helpTpl:["help-tpl","helpTpl"],labelTpl:["label-tpl","labelTpl"],showDot:["show-dot","showDot"]},features:[oa([{provide:Jy,useExisting:St(()=>t),multi:!0}]),Qo],decls:20,vars:17,consts:[[1,"slider-group"],[3,"ngIf","ngIfElse"],["standardLabel",""],[1,"inputs","row"],[1,"col-sm-9"],[1,"slider"],[1,"min"],["type","range",3,"name","step","min","max","value","disabled","change","input"],["range",""],[1,"max"],[1,"col-sm-3"],[1,"number"],["type","number","triggers","manual","container","body",3,"name","step","value","disabled","ngbPopover","change","input","blur"],["number","","errorPopover","ngbPopover"],["errorMsg",""],[3,"ngTemplateOutlet"],["class","label",4,"ngIf"],[1,"label"],[4,"ngIf"],[3,"ngIf"],["class","fa fa-circle dot",4,"ngIf"],["aria-hidden","true","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover","popoverTitle"],["rsHelp",""],[1,"fa","fa-circle","dot"],[1,"error"]],template:function(t,e){if(1&t){const t=no();Zs(0,"div",0),Bs(1,BP,1,1,"ng-template",1),Bs(2,ZP,1,1,"ng-template",null,2,Al),Zs(4,"div",3),Zs(5,"div",4),Zs(6,"div",5),Zs(7,"div",6),Fo(8),Ks(),Zs(9,"input",7,8),so("change",(function(){Qe(t);const n=qs(10);return e.rangeChanged(n.value)}))("input",(function(){Qe(t);const n=qs(10);return e.rangeInput(n.value)})),Ks(),Zs(11,"div",9),Fo(12),Ks(),Ks(),Ks(),Zs(13,"div",10),Zs(14,"div",11),Zs(15,"input",12,13),so("change",(function(){Qe(t);const n=qs(16);return e.numberChanged(n.value)}))("input",(function(){Qe(t);const n=qs(16);return e.numberInput(n.value)}))("blur",(function(){return e.blurred()})),Ks(),Bs(18,KP,4,3,"ng-template",null,14,Al),Ks(),Ks(),Ks(),Ks()}if(2&t){const t=qs(3),n=qs(19);Nr(1),Ys("ngIf",e.labelTpl)("ngIfElse",t),Nr(7),Lo(e.round(e.min)),Nr(1),po("name",e.name),po("step",e.step),po("min",e.min),po("max",e.max),Ys("value",e.value)("disabled",e.isOutput),Nr(3),Lo(e.round(e.max)),Nr(3),So("error",e.hasError),po("name",e.name),po("step",e.step),Ys("value",e.value)("disabled",e.isOutput)("ngbPopover",n)}},directives:[Iu,Ow,Nu],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:row}div.slider-group[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:5px;border-radius:5px}div.slider-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}div.slider-group[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{padding-top:2ex}div.slider-group[_ngcontent-%COMP%]   .add-remove[_ngcontent-%COMP%]{padding-top:2.3ex}div.slider-group[_ngcontent-%COMP%]   div.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]{position:relative;padding-left:0;padding-right:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{position:absolute;font-size:x-small;top:0;background-color:#ddd;border-radius:1ex;padding:.5ex}div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{background-color:#ccc}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{left:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%]{right:0}.fa[_ngcontent-%COMP%]{opacity:.7}.dot[_ngcontent-%COMP%], .fa[_ngcontent-%COMP%]:hover{opacity:1}.dot[_ngcontent-%COMP%]{color:red}.palette-color[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:1}span.error[_ngcontent-%COMP%]{color:red}input.error[_ngcontent-%COMP%]{border:2px solid red;color:red}"]}),t})(),nR=(()=>{class t{transform(t,e=2){let n=Math.pow(10,e);return Math.round(t*n)/n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"round",type:t,pure:!0}),t})();function rR(t,e){1&t&&Fo(0," The number of points to use when drawing plots. More is slower. The number of points to use by default is calculated based on host speed. ")}function iR(t,e){if(1&t){const t=no();Zs(0,"div",41),Zs(1,"label",42),Zs(2,"input",48,70),so("change",(function(){Qe(t);const e=qs(3);return lo(2).setProjectAttribute("fixedPSpace",e.checked)})),Ks(),Fo(4," Fixed parameter space "),Ks(),Ks()}if(2&t){const t=lo(2);Nr(2),Ys("checked",t.fixedPSpace===t.FixedPSpace.Fixed)}}function sR(t,e){if(1&t){const t=no();Zs(0,"input",60,71),so("change",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topYRange","min",e.value)}))("input",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topYRange","min",e.value,!0)})),il(2,"round"),il(3,"round"),Ks()}if(2&t){const t=lo(2);Ys("disabled",!t.customRanges)("max",sl(2,3,t.topYRange.max-.01))("value",sl(3,5,t.topYRange.min))}}function oR(t,e){if(1&t){const t=no();Zs(0,"input",63,72),so("change",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topYRange","max",e.value)}))("input",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topYRange","max",e.value,!0)})),il(2,"round"),il(3,"round"),Ks()}if(2&t){const t=lo(2);Ys("disabled",!t.customRanges)("min",sl(2,3,t.topYRange.min+.01))("value",sl(3,5,t.topYRange.max))}}function aR(t,e){if(1&t){const t=no();Zs(0,"input",60,73),so("change",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topLeftXRange","min",e.value)}))("input",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topLeftXRange","min",e.value,!0)})),il(2,"round"),il(3,"round"),Ks()}if(2&t){const t=lo(2);Ys("disabled",!t.customRanges)("max",sl(2,3,t.topLeftXRange.max-.01))("value",sl(3,5,t.topLeftXRange.min))}}function lR(t,e){if(1&t){const t=no();Zs(0,"input",63,74),so("change",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topLeftXRange","max",e.value)}))("input",(function(){Qe(t);const e=qs(1);return lo(2).setProjectRange("topLeftXRange","max",e.value,!0)})),il(2,"round"),il(3,"round"),Ks()}if(2&t){const t=lo(2);Ys("disabled",!t.customRanges)("min",sl(2,3,t.topLeftXRange.min+.01))("value",sl(3,5,t.topLeftXRange.max))}}function cR(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"fieldset"),Zs(2,"legend"),Fo(3,"Global"),Ks(),Zs(4,"div",2),Zs(5,"label",3),Fo(6,"Font family"),Ks(),Zs(7,"select",4,5),so("change",(function(){Qe(t);const e=qs(8);return lo().changeAttribute("fontFamily",e.value)})),Zs(9,"option",6),Fo(10,"Default"),Ks(),Zs(11,"option",7),Fo(12,"Serif"),Ks(),Zs(13,"option",8),Fo(14,"Sans-serif"),Ks(),Zs(15,"option",9),Fo(16,"Monospace"),Ks(),Zs(17,"option"),Fo(18,"Bungee Shade"),Ks(),Zs(19,"option"),Fo(20,"Sancreek"),Ks(),Ks(),Ks(),Zs(21,"div",2),Zs(22,"label",10),Fo(23,"Color palette"),Ks(),Zs(24,"select",11,12),so("change",(function(){Qe(t);const e=qs(25);return lo().changeAttribute("paletteTheme",e.value)})),Zs(26,"option",13),Fo(27,"Default"),Ks(),Zs(28,"option",14),Fo(29,"Plasma"),Ks(),Zs(30,"option",15),Fo(31,"Viridis"),Ks(),Zs(32,"option",16),Fo(33,"Magma"),Ks(),Zs(34,"option",17),Fo(35,"Pattern"),Ks(),Ks(),Ks(),Zs(36,"div",18),Zs(37,"div",19),Zs(38,"label",20),Fo(39),Ks(),Zs(40,"div",21),Zs(41,"input",22,23),so("change",(function(){Qe(t);const e=qs(42);return lo().changeNumberAttribute("fontSize",e.value)}))("input",(function(){Qe(t);const e=qs(42);return lo().changeNumberAttribute("fontSize",e.value)})),Ks(),Ks(),Ks(),Zs(43,"div",19),Zs(44,"label",24),Fo(45),Ks(),Zs(46,"div",21),Zs(47,"input",25,26),so("change",(function(){Qe(t);const e=qs(48);return lo().changeNumberAttribute("axisFontSize",e.value)}))("input",(function(){Qe(t);const e=qs(48);return lo().changeNumberAttribute("axisFontSize",e.value)})),Ks(),Ks(),Ks(),Ks(),Zs(49,"div",18),Zs(50,"div",19),Zs(51,"label",27),Fo(52),Ks(),Zs(53,"div",21),Zs(54,"input",28,29),so("change",(function(){Qe(t);const e=qs(55);return lo().changeNumberAttribute("lineWidth",e.value)}))("input",(function(){Qe(t);const e=qs(55);return lo().changeNumberAttribute("lineWidth",e.value)})),Ks(),Ks(),Ks(),Zs(56,"div",19),Zs(57,"label",30),Fo(58),Ks(),Zs(59,"div",21),Zs(60,"input",31,32),so("change",(function(){Qe(t);const e=qs(61);return lo().changeNumberAttribute("axisLineWidth",e.value)}))("input",(function(){Qe(t);const e=qs(61);return lo().changeNumberAttribute("axisLineWidth",e.value)})),Ks(),Ks(),Ks(),Ks(),Zs(62,"div",2),Zs(63,"label",33),Fo(64,"Line style"),Ks(),Zs(65,"select",34,35),so("change",(function(){Qe(t);const e=qs(66);return lo().changeAttribute("lineStyle",e.value)})),Zs(67,"option",36),Fo(68,"Solid"),Ks(),Zs(69,"option",37),Fo(70,"Short Dash"),Ks(),Zs(71,"option",38),Fo(72,"Medium Dash"),Ks(),Zs(73,"option",39),Fo(74,"Long Dash"),Ks(),Zs(75,"option",40),Fo(76,"Dotted"),Ks(),Ks(),Ks(),Zs(77,"div",41),Zs(78,"label",42),Zs(79,"input",43,44),so("change",(function(){Qe(t);const e=qs(80);return lo().changeAttribute("showLegendBox",e.checked)}))("input",(function(){Qe(t);const e=qs(80);return lo().changeAttribute("showLegendBox",e.checked)})),Ks(),Fo(81," Display legend background "),Ks(),Ks(),Ks(),Zs(82,"fieldset"),Zs(83,"legend"),Fo(84,"Project"),Ks(),Zs(85,"app-range-slider",45),so("ngModelChange",(function(e){return Qe(t),lo().setProjectAttribute("pointsPerPlot",e)})),Bs(86,rR,1,0,"ng-template",46),Ks(),Bs(87,iR,5,1,"div",47),Zs(88,"div",41),Zs(89,"label",42),Zs(90,"input",48,49),so("change",(function(){Qe(t);const e=qs(91);return lo().setProjectAttribute("customRanges",e.checked)})),Ks(),Fo(92," Custom plot ranges "),Ks(),Ks(),Zs(93,"div",50),Zs(94,"h4"),Fo(95),Ks(),Zs(96,"div",51),Zs(97,"div",52),Zs(98,"label",53),Fo(99,"Minimum"),Ks(),Zs(100,"div",21),Bs(101,sR,4,7,"input",54),Ks(),Ks(),Zs(102,"div",52),Zs(103,"label",55),Fo(104,"Maximum"),Ks(),Zs(105,"div",21),Bs(106,oR,4,7,"input",56),Ks(),Ks(),Ks(),Zs(107,"h4"),Fo(108),Ks(),Zs(109,"div",51),Zs(110,"div",52),Zs(111,"label",57),Fo(112,"X minimum"),Ks(),Zs(113,"div",21),Bs(114,aR,4,7,"input",54),Ks(),Ks(),Zs(115,"div",52),Zs(116,"label",58),Fo(117,"X maximum"),Ks(),Zs(118,"div",21),Bs(119,lR,4,7,"input",56),Ks(),Ks(),Ks(),Zs(120,"h4"),Fo(121),Ks(),Zs(122,"div",51),Zs(123,"div",52),Zs(124,"label",59),Fo(125,"X minimum"),Ks(),Zs(126,"div",21),Zs(127,"input",60,61),so("change",(function(){Qe(t);const e=qs(128);return lo().setProjectRange("topRightXRange","min",e.value)}))("input",(function(){Qe(t);const e=qs(128);return lo().setProjectRange("topRightXRange","min",e.value,!0)})),il(129,"round"),il(130,"round"),Ks(),Ks(),Ks(),Zs(131,"div",52),Zs(132,"label",62),Fo(133,"X maximum"),Ks(),Zs(134,"div",21),Zs(135,"input",63,64),so("change",(function(){Qe(t);const e=qs(136);return lo().setProjectRange("topRightXRange","max",e.value)}))("input",(function(){Qe(t);const e=qs(136);return lo().setProjectRange("topRightXRange","max",e.value,!0)})),il(137,"round"),il(138,"round"),Ks(),Ks(),Ks(),Ks(),Zs(139,"h4"),Fo(140),Ks(),Zs(141,"div",18),Zs(142,"div",52),Zs(143,"label",65),Fo(144,"X minimum"),Ks(),Zs(145,"div",21),Zs(146,"input",60,66),so("change",(function(){Qe(t);const e=qs(147);return lo().setProjectRange("bottomXRange","min",e.value)}))("input",(function(){Qe(t);const e=qs(147);return lo().setProjectRange("bottomXRange","min",e.value,!0)})),il(148,"round"),il(149,"round"),Ks(),Ks(),Ks(),Zs(150,"div",52),Zs(151,"label",67),Fo(152,"X maximum"),Ks(),Zs(153,"div",21),Zs(154,"input",63,68),so("change",(function(){Qe(t);const e=qs(155);return lo().setProjectRange("bottomXRange","max",e.value)}))("input",(function(){Qe(t);const e=qs(155);return lo().setProjectRange("bottomXRange","max",e.value,!0)})),il(156,"round"),il(157,"round"),Ks(),Ks(),Ks(),Ks(),Ks(),Ks(),Zs(158,"button",69),so("click",(function(){return Qe(t),lo().doReset()})),Fo(159," Reset all settings "),Ks(),Ks()}if(2&t){const t=lo();Nr(7),Ys("value",t.plotOptions.fontFamily),Nr(17),Ys("value",t.plotOptions.paletteTheme),Nr(15),$o("Font size: ",t.plotOptions.fontSize,""),Nr(2),Ys("value",t.plotOptions.fontSize),Nr(4),$o("Axis font size: ",t.plotOptions.axisFontSize,""),Nr(2),Ys("value",t.plotOptions.axisFontSize),Nr(5),$o("Line width: ",t.plotOptions.lineWidth,""),Nr(2),Ys("value",t.plotOptions.lineWidth),Nr(4),$o("Axis line width: ",t.plotOptions.axisLineWidth,""),Nr(2),Ys("value",t.plotOptions.axisLineWidth),Nr(5),Ys("value",t.plotOptions.lineStyle),Nr(14),Ys("checked",t.plotOptions.showLegendBox),Nr(6),Ys("min",50)("max",200)("hard-min",50)("hard-max",200)("step",1)("ngModel",t.pointsPerPlot),Nr(2),Ys("ngIf",t.fixedPSpace!==t.FixedPSpace.NA),Nr(3),Ys("checked",t.customRanges),Nr(3),So("disabled",!t.customRanges),Nr(2),Lo(t.topYRange.description),Nr(6),Ys("ngIf",t.topYRange),Nr(5),Ys("ngIf",t.topYRange),Nr(2),Lo(t.topLeftXRange.description),Nr(6),Ys("ngIf",t.topLeftXRange),Nr(5),Ys("ngIf",t.topLeftXRange),Nr(2),Lo(t.topRightXRange.description),Nr(6),Ys("disabled",!t.customRanges)("max",sl(129,42,t.topRightXRange.max-1))("value",sl(130,44,t.topRightXRange.min)),Nr(8),Ys("disabled",!t.customRanges)("min",sl(137,46,t.topRightXRange.min-1))("value",sl(138,48,t.topRightXRange.max)),Nr(5),Lo(t.bottomXRange.description),Nr(6),Ys("disabled",!t.customRanges)("max",sl(148,50,t.bottomXRange.max-1))("value",sl(149,52,t.bottomXRange.min)),Nr(8),Ys("disabled",!t.customRanges)("min",sl(156,54,t.bottomXRange.min+1))("value",sl(157,56,t.bottomXRange.max))}}var uR=function(t){return t.pointsPerPlot="pointsPerPlot",t.fixedPSpace="fixedPSpace",t.customRanges="customRanges",t.topYRange="topYRange",t.topLeftXRange="topLeftXRange",t.topRightXRange="topRightXRange",t.bottomXRange="bottomXRange",t}({}),hR=function(t){return t.min="min",t.max="max",t}({});let dR=(()=>{class t{constructor(t){this.plotOptions=t,this.optionChanged=new cl,this.projectChanged=new cl,this.reset=new cl,this.FixedPSpace=s_,this.projectChangedDelay=new M,this.projectChangedImmediate=new M}ngOnInit(){this.rangeSub=G(this.projectChangedDelay.pipe(NP(400)),this.projectChangedImmediate).subscribe(t=>{switch(t){case uR.pointsPerPlot:this.project.setPointsPerPlot(this.pointsPerPlot);break;case uR.fixedPSpace:this.project.setFixedPSpace(this.fixedPSpace);break;case uR.customRanges:this.project.setCustomRanges(this.customRanges);break;case uR.topYRange:this.project.setTopYRange(this.topYRange);break;case uR.topLeftXRange:this.project.setTopLeftXRange(this.topLeftXRange);break;case uR.topRightXRange:this.project.setTopRightXRange(this.topRightXRange);break;case uR.bottomXRange:this.project.setBottomXRange(this.bottomXRange)}this.project.updatePlotData().subscribe(()=>{this.projectChanged.emit()})})}ngOnChanges(t){"project"in t&&(this.project?(this.pointsPerPlot=this.project.getPointsPerPlot(),this.fixedPSpace=this.project.getFixedPSpace(),this.customRanges=this.project.getCustomRanges(),this.getRanges()):(this.pointsPerPlot=void 0,this.customRanges=void 0,this.topYRange=void 0,this.topLeftXRange=void 0,this.topRightXRange=void 0,this.bottomXRange=void 0))}doReset(){this.plotOptions.reset(),this.project.resetRanges(),this.getRanges(),this.project.updatePlotData().subscribe(()=>{this.reset.emit()})}changeAttribute(t,e){this.plotOptions[t]!==e&&(this.plotOptions[t]=e,this.optionChanged.emit())}changeNumberAttribute(t,e){let n=parseFloat(e);isNaN(n)||this.changeAttribute(t,n)}setProjectAttribute(t,e){switch(t){case uR.pointsPerPlot:this.pointsPerPlot=e;break;case uR.fixedPSpace:this.fixedPSpace=e?s_.Fixed:s_.NotFixed;break;case uR.customRanges:this.customRanges=e}this.projectChangedImmediate.next(t)}setProjectRange(t,e,n,r=!1){let i=parseFloat(n);if(isNaN(i))return;let s,o=t,a=e;switch(o){case uR.topYRange:s=this.topYRange;break;case uR.topLeftXRange:s=this.topLeftXRange;break;case uR.topRightXRange:s=this.topRightXRange;break;case uR.bottomXRange:s=this.bottomXRange}a==hR.min?s.min=i:a==hR.max&&(s.max=i),r?this.projectChangedDelay.next(o):this.projectChangedImmediate.next(o)}getRanges(){this.topYRange=this.project.getTopYRange(),this.topLeftXRange=this.project.getTopLeftXRange(),this.topRightXRange=this.project.getTopRightXRange(),this.bottomXRange=this.project.getBottomXRange()}}return t.\u0275fac=function(e){return new(e||t)(Ws(pk))},t.\u0275cmp=pe({type:t,selectors:[["app-plot-options"]],inputs:{project:"project"},outputs:{optionChanged:"optionChanged",projectChanged:"projectChanged",reset:"reset"},features:[Qo],decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"form-group"],["for","plot-font-family"],["id","plot-font-family",1,"form-control",3,"value","change"],["fontFamily",""],["value",""],["value","serif"],["value","sans"],["value","monospace"],["for","plot-palette-theme"],["id","plot-palette-theme",1,"form-control",3,"value","change"],["paletteTheme",""],["value","typical"],["value","plasma"],["value","viridis"],["value","magma"],["value","pattern"],[1,"row"],[1,"col-sm-6"],["for","plot-font-size"],[1,"input-group"],["id","plot-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["fontSize",""],["for","plot-axis-font-size"],["id","plot-axis-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisFontSize",""],["for","plot-line-width"],["id","plot-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["lineWidth",""],["for","plot-axis-line-width"],["id","plot-axis-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisLineWidth",""],["for","plot-line-style"],["id","plot-line-style",1,"form-control",3,"value","change"],["lineStyle",""],["value","solid"],["value","short-dash"],["value","medium-dash"],["value","long-dash"],["value","dot"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change","input"],["showLegendBox",""],["name","projectPointsPerPlot","label","Points per plot",3,"min","max","hard-min","hard-max","step","ngModel","ngModelChange"],["rsHelp",""],["class","form-check",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["customRangesBox",""],[1,"ranges"],[1,"row","mb-4"],[1,"col-sm"],["for","plot-top-y-min"],["class","form-control","type","number","step","0.01",3,"disabled","max","value","change","input",4,"ngIf"],["for","plot-top-y-max"],["class","form-control","type","number","step","0.01",3,"disabled","min","value","change","input",4,"ngIf"],["for","plot-top-left-x-min"],["for","plot-top-left-x-max"],["for","plot-top-right-x-min"],["type","number","step","0.01",1,"form-control",3,"disabled","max","value","change","input"],["topRightXRangeMin",""],["for","plot-top-right-x-max"],["type","number","step","0.01",1,"form-control",3,"disabled","min","value","change","input"],["topRightXRangeMax",""],["for","plot-bottom-x-min"],["bottomXRangeMin",""],["for","plot-bottom-x-max"],["bottomXRangeMax",""],["type","button",1,"btn","btn-primary",3,"click"],["fixedPSpaceBox",""],["topYRangeMin",""],["topYRangeMax",""],["topLeftXRangeMin",""],["topLeftXRangeMax",""]],template:function(t,e){1&t&&Bs(0,cR,160,58,"div",0),2&t&&Ys("ngIf",e.plotOptions&&e.project)},directives:[Iu,jv,$v,eR,hv,ub,tR],pipes:[nR],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid #bbb;border-radius:5px;padding:10px;margin:10px}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:table;width:auto}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:inherit;font-weight:700}h4[_ngcontent-%COMP%]{border-bottom:1px solid #bbb;margin:1em 0;padding-bottom:.2em}div.disabled[_ngcontent-%COMP%]{opacity:.5}.form-group[_ngcontent-%COMP%]{padding:0 5px}"]}),t})();const pR=["plotOptionsDialog"],fR=["helpDialog"],gR=["outputPane"];function mR(t,e){if(1&t&&(Zs(0,"li",9),Zs(1,"a",26),Fo(2),Ks(),Ks()),2&t){const t=e.index,n=lo();Nr(1),Ys("routerLink",n.projectLink(t)),Nr(1),Lo(n.tabTitle(t))}}function yR(t,e){if(1&t){const t=no();Zs(0,"div",27),Zs(1,"button",28),so("click",(function(){return Qe(t),lo().togglePlotOptions()})),Js(2,"i",29),Ks(),Zs(3,"button",30),so("click",(function(){return Qe(t),lo().exportPlots()})),Js(4,"i",31),Ks(),Zs(5,"button",32),so("click",(function(){return Qe(t),lo().toggleHoverBox()})),Js(6,"i",33),Ks(),Ks(),Zs(7,"app-output-pane",34,35),so("modelChanged",(function(){return Qe(t),lo().redrawPlots()})),Ks()}if(2&t){const t=lo();Nr(6),So("fa-cubes",t.hoverBoxEnabled)("fa-cube",!t.hoverBoxEnabled),Nr(1),Ys("project",t.selectedProject)("hover-disabled",!t.hoverBoxEnabled)("disable-drag-ci-target",null==t.selectedProject?null:t.selectedProject.isCITargetDraggable())("disable-drag-ci-bounds",null==t.selectedProject?null:t.selectedProject.isCIBoundsDraggable())}}const vR=function(){return{exact:!0}};let bR=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.projectService=n,this.resizeService=r,this.commitHash=AP.substr(0,7),this.buildTimestamp="2021-02-15T13:32:18-06:00",this.helpTitles={overview:"PS Overview","t-test-start":"PS Start Tab: T-Test","z-test-start":"PS Start Tab: Z-Test","dichot-start":"PS Start Tab: Dichotomous"},this.helpTopic="overview",this.showOutputPane=!1,this.hoverBoxEnabled=!0,this.blockSelection=!1,this.projects=[]}ngOnInit(){this.route.data.subscribe(t=>{this.projectType=t.type,this.projects=this.projectService.getProjects(this.projectType).slice()}),this.route.url.subscribe(t=>{this.urlRoot=t.map((t,e)=>0==e?`/${t.path}`:t.path)}),this.resizeService.onResize.subscribe(()=>{this.outputPane&&this.outputPane.resize()})}toggleHelp(t){if("start"==t)switch(this.projectType){case Kw.TTestPaired:case Kw.TTestIndependent:t="t-test-start";break;case Kw.ZTest:t="z-test-start";break;case Kw.Dichot:t="dichot-start"}this.helpDialog.isOpen()&&this.helpTopic==t?this.helpDialog.close():(this.helpTopic=t,this.helpDialog.open())}togglePlotOptions(){this.plotOptionsDialog.toggle()}exportPlots(){this.outputPane.openSaveDialog()}toggleHoverBox(){this.hoverBoxEnabled=!this.hoverBoxEnabled}tabTitle(t){let e="";switch(this.projectType){case Kw.TTestPaired:e+="Paired t-test ";break;case Kw.TTestIndependent:e+="Ind. t-test ";break;case Kw.ZTest:e+="z-test ";break;case Kw.Dichot:e+="Dichot "}return e+=" #"+(t+1).toString(),e}startLink(){return this.urlRoot}projectLink(t){return this.urlRoot.concat(`${t+1}`)}onActivate(t){if(t instanceof Jw){let e=t;this.calcSub=e.calculate.subscribe(t=>{this.projectService.addProject(this.projectType,t),this.projects.push(t),this.selectedProject=t,this.router.navigate([this.projects.length],{relativeTo:this.route})}),this.helpSub=e.toggleHelp.subscribe(()=>{this.toggleHelp("start")}),this.showOutputPane=!1}else if(t instanceof t_){let e=t;this.switchedSub=e.projectSwitched.subscribe(t=>{this.selectedProject=t}),this.changedSub=e.projectChanged.subscribe(()=>{this.redrawPlots()}),this.showOutputPane=!0}}onDeactivate(){this.calcSub&&(this.calcSub.unsubscribe(),this.calcSub=void 0),this.helpSub&&(this.helpSub.unsubscribe(),this.helpSub=void 0),this.switchedSub&&(this.switchedSub.unsubscribe(),this.switchedSub=void 0),this.changedSub&&(this.changedSub.unsubscribe(),this.changedSub=void 0)}redrawPlots(){this.outputPane.redrawPlots()}onMouseUp(){this.plotOptionsDialog.stopDragging()}onChildDragStarted(){this.blockSelection=!0}onChildDragEnded(){this.blockSelection=!1}}return t.\u0275fac=function(e){return new(e||t)(Ws(Xm),Ws(Vg),Ws(Qw),Ws(Zw))},t.\u0275cmp=pe({type:t,selectors:[["app-main"]],viewQuery:function(t,e){var n;1&t&&(_l(pR,!0),_l(fR,!0),xl(gR,!0)),2&t&&(wl(n=El())&&(e.plotOptionsDialog=n.first),wl(n=El())&&(e.helpDialog=n.first),wl(n=El())&&(e.outputPane=n.first))},decls:30,vars:14,consts:[[1,"d-flex","flex-column","h-100",3,"mouseup"],[1,"row","d-flex",2,"flex","1 0 auto"],[1,"col-4","d-flex","flex-column","justify-content-between"],["id","sidebar",1,"d-flex","flex-row",2,"flex","auto"],[1,"overview"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-question-circle"],[1,"tabset"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"tab-pane","active"],[3,"activate","deactivate"],["id","footer",1,"d-flex","flex-column"],["src","assets/biostat.jpg"],[1,"build"],[1,"col-8"],[3,"ngIf"],["start-x-offset","33%","start-y-offset","55px",3,"title","drag-start","drag-end"],["helpDialog",""],[3,"topic"],["title","Plot options","start-x-offset","5%","start-y-offset","55px",3,"drag-start","drag-end"],["plotOptionsDialog",""],[3,"project","optionChanged","projectChanged","reset"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"plot-buttons"],["title","Toggle plot options",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cog"],["title","Export plots",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-save"],["title","Toggle hover box",1,"btn","btn-secondary",3,"click"],[1,"fa"],[3,"project","hover-disabled","disable-drag-ci-target","disable-drag-ci-bounds","modelChanged"],["outputPane",""]],template:function(t,e){1&t&&(Zs(0,"div",0),so("mouseup",(function(){return e.onMouseUp()})),Zs(1,"div",1),Zs(2,"div",2),Zs(3,"div",3),Zs(4,"div",4),Zs(5,"button",5),so("click",(function(){return e.toggleHelp("overview")})),Fo(6," Overview "),Js(7,"i",6),Ks(),Ks(),Zs(8,"div",7),Zs(9,"ul",8),Zs(10,"li",9),Zs(11,"a",10),Fo(12,"Start"),Ks(),Ks(),Bs(13,mR,3,2,"li",11),Ks(),Zs(14,"div",12),Zs(15,"div",13),Zs(16,"router-outlet",14),so("activate",(function(t){return e.onActivate(t)}))("deactivate",(function(){return e.onDeactivate()})),Ks(),Ks(),Ks(),Ks(),Ks(),Zs(17,"div",15),Js(18,"img",16),Zs(19,"div",17),Fo(20),il(21,"date"),Ks(),Ks(),Ks(),Zs(22,"div",18),Bs(23,yR,9,8,"ng-template",19),Ks(),Ks(),Zs(24,"app-draggable-dialog",20,21),so("drag-start",(function(){return e.onChildDragStarted()}))("drag-end",(function(){return e.onChildDragEnded()})),Js(26,"app-help",22),Ks(),Zs(27,"app-draggable-dialog",23,24),so("drag-start",(function(){return e.onChildDragStarted()}))("drag-end",(function(){return e.onChildDragEnded()})),Zs(29,"app-plot-options",25),so("optionChanged",(function(){return e.redrawPlots()}))("projectChanged",(function(){return e.redrawPlots()}))("reset",(function(){return e.redrawPlots()})),Ks(),Ks(),Ks()),2&t&&(So("block-selection",e.blockSelection),Nr(11),Ys("routerLink",e.startLink())("routerLinkActiveOptions",tl(13,vR)),Nr(2),Ys("ngForOf",e.projects),Nr(7),Vo(" Build version: ",e.commitHash," (",sl(21,11,e.buildTimestamp),") "),Nr(3),Ys("ngIf",e.showOutputPane),Nr(1),Ys("title",e.helpTitles[e.helpTopic]),Nr(2),Ys("topic",e.helpTopic),Nr(3),Ys("project",e.selectedProject))},directives:[Qm,Km,Au,ey,Iu,i_,jP,dR,RP],pipes:[Lu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}#sidebar[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #ccc;border-radius:5px;padding:10px;position:relative}#sidebar[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%]{flex:0 0 auto;border-bottom:1px solid #888}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{border-color:#bbb #bbb #888;background-color:#eee}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]:hover{border-color:#888;background-color:#f5f5f5;color:#0275d8}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]{border-color:#888 #888 #fff;background-color:#fff}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]:hover{color:#464a4c}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{flex:1 0 auto;padding:10px;border:1px solid #888;border-top:0;overflow:auto;max-height:70vh}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane.active[_ngcontent-%COMP%]{background:#fff}#footer[_ngcontent-%COMP%]{margin:20px 0;padding:20px;text-align:center}#footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;display:block}#footer[_ngcontent-%COMP%]   div.build[_ngcontent-%COMP%]{margin-top:5px;font-size:smaller}.block-selection[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.plot-buttons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;font-size:large;z-index:99;display:flex;flex:0 0 auto;flex-direction:column}.plot-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem 0;margin:.2rem 0;width:2.4rem}"]}),t})(),wR=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Rc.apiUrl}/ttests`}calculate(t){let e=`${this.apiUrl}/calc`,n=t.attribs(),r={headers:new xy({"Content-Type":"application/json"})};return this.http.post(e,n,r).pipe(uf(this.handleError),F(t=>{if("object"!=typeof t||null===t)return t;for(let e in t)"NaN"===t[e]&&(t[e]=void 0);return t}))}plotData(t,e,n){let r=`${this.apiUrl}/plotData`,i={models:t.map(t=>t.attribs()),ranges:e};"number"==typeof n&&(i.points=n);let s={headers:new xy({"Content-Type":"application/json"})};return this.http.post(r,i,s).pipe(uf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),Rb("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ny))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class _R{constructor(t,e){this.min=t,this.max=e}combine(t){t.min<this.min&&(this.min=t.min),t.max>this.max&&(this.max=t.max)}toArray(){return[this.min,this.max]}clone(){return new _R(this.min,this.max)}}var xR=function(t){return t.Paired="paired",t.Independent="ind",t.ZTest="ztest",t}({});class CR{constructor(t){this.ciMode=!1,this.deltaMode=!1,t&&(this.kind=t.kind,this.output=t.output,this.alpha=t.alpha,this.sigma=t.sigma,this.delta=t.delta,this.power=t.power,this.n=t.n,this.m=t.m,this.ci=t.ci,this.nVsPower=t.nVsPower,this.nVsDelta=t.nVsDelta,this.powerVsN=t.powerVsN,this.powerVsDelta=t.powerVsDelta,this.deltaVsPower=t.deltaVsPower,this.deltaVsN=t.deltaVsN,this.sampDist=t.sampDist)}precisionRange(){return new _R(this.delta-this.ci/2,this.delta+this.ci/2)}interpretation(){let t=this.alpha.toFixed(2),e=this.sigma.toFixed(2),n=this.delta.toFixed(2),r=Math.ceil(this.n).toString(),i=this.power.toFixed(2),s="",o="";this.m&&(s=this.m.toFixed(2),o=Math.ceil(this.m*this.n).toString());let a="";return this.kind===xR.Paired?"n"==this.output||"nByCI"==this.output?a=`\n          We are planning a study of a continuous response variable from matched\n          pairs of study subjects. Prior data indicate that the difference in the\n          response of matched pairs is normally distributed with standard\n          deviation ${e}. If the true difference in the mean response of\n          matched pairs is ${n}, we will need to study ${r} pairs of subjects\n          to be able to reject the null hypothesis that this response difference\n          is zero with probability (power) ${i}. The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"power"==this.output?a=`\n          We are planning a study with ${r} pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ${e}. If the true\n          difference in the mean response of matched pairs is ${n}, we will\n          be able to reject the null hypothesis that this response difference is\n          zero with probability (power) ${i}. The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"delta"==this.output&&(a=`\n          We are planning a study with ${r} pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ${e}. We will be able\n          to detect a true difference in the mean response of matched pairs of\n          -${n} or ${n} with probability (power) ${i}. The Type I\n          error probability associated with this test of the null hypothesis that\n          this response difference is zero is ${t}.\n        `):this.kind===xR.Independent&&("n"==this.output||"nByCI"==this.output?a=`\n          We are planning a study of a continuous response variable from\n          independent control and experimental subjects with ${s} control(s)\n          per experimental subject.  In a previous study the response within\n          each subject group was normally distributed with standard deviation\n          ${e}.  If the true difference in the experimental and control\n          means is ${n}, we will need to study ${r} experimental subjects\n          and ${o} control subjects to be able to reject the null hypothesis\n          that the population means of the experimental and control groups are\n          equal with probability (power) ${i}.   The Type I error\n          probability associated with this test of this null hypothesis is\n          ${t}.\n        `:"power"==this.output?a=`\n          We are planning a study with ${r} experimental subjects and ${o}\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ${e}.  If the true difference in the experimental and control\n          means is ${n}, we will be able to reject the null hypothesis that\n          the population means of the experimental and control groups are equal\n          with probability (power) ${i}.   The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"delta"==this.output&&(a=`\n          We are planning a study with ${r} experimental subjects and ${o}\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ${e}.  We will be able to detect a true difference in the mean\n          response of experimental and control subjects of -${n} or\n          ${n} with probability (power) ${i}.   The Type I error\n          probability associated with this test of the null hypothesis that the\n          population means of the experimental and control groups are equal is\n          ${t}.\n        `)),a.replace(/\s+/g," ").trim()}attribs(){return{kind:this.kind,output:this.output,alpha:this.alpha,sigma:this.sigma,delta:this.delta,power:this.power,n:this.n,m:this.m,ci:this.ci,ciMode:this.ciMode,deltaMode:this.deltaMode}}shallowClone(){return Object.assign(new CR,this)}}function SR(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),W(t,void 0).lift(new MR(e))}class MR{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new TR(t,this.resultSelector))}}class TR extends f{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;l(t)?e.push(new kR(t)):e.push("function"==typeof t[A]?new ER(t[A]()):new PR(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class ER{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class kR{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[A](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class PR extends N{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return j(this,this.observable,this,e)}}var RR=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({});class AR extends vk{constructor(t){super(),this.project=t}getXParam(t){return this.getParam(t,RR.X)}getYParam(t){return this.getParam(t,RR.Y)}getPlotData(t){let e,n=this.getDataKey(t);return n&&(e=this.project.models.map(t=>t[n])),e}getSelectedIndex(){return this.project.selectedIndex}getNumModels(){return this.project.models.length}getModelNames(){return this.project.models.map(t=>t.name)}updateModel(t,e,n){return this.project.updateModel(t,e,n)}getParam(t,e){let n,r=this.project.getModel(this.project.selectedIndex);return"n"==r.output||"nByCI"==r.output?e===RR.X?"top-left"==t||"top-left-export"==t?n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):e===RR.Y&&(n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}):"power"==r.output?e===RR.X?"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):e===RR.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):"delta"==r.output&&(e===RR.X?"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):e===RR.Y&&(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"})),n}getDataKey(t){let e,n=this.project.getModel(this.project.selectedIndex);return"n"==n.output||"nByCI"==n.output?"top-left"==t||"top-left-export"==t?e="nVsPower":"top-right"!=t&&"top-right-export"!=t||(e="nVsDelta"):"power"==n.output?"top-left"==t||"top-left-export"==t?e="powerVsN":"top-right"!=t&&"top-right-export"!=t||(e="powerVsDelta"):"delta"==n.output&&("top-left"==t||"top-left-export"==t?e="deltaVsN":"top-right"!=t&&"top-right-export"!=t||(e="deltaVsPower")),e}}class OR extends Ik{constructor(t){super(),this.project=t}getXParam(){return{name:"delta",range:this.project.pSpaceRange,title:"Detectable Alternative",sym:"\u03b4"}}getGroups(){return this.project.models.map(t=>{let e=t.precisionRange();return{ci:{lower:e.min,upper:e.max},target:t.delta,sampDist:t.sampDist}})}getSelectedIndex(){return this.project.selectedIndex}updateTargetValue(t){return this.project.updateModel(this.project.selectedIndex,"delta",t)}updateCIValue(t){return this.project.updateModel(this.project.selectedIndex,"ci",t.upper-t.lower)}setIntermediateCIValue(t){}}class IR extends o_{constructor(t){super(),this.ttestService=t,this.models=[],this.selectedIndex=0,this.changeHistory=[]}getOutput(){return this.models.length>0?this.models[0].output:""}updatePlotData(){return this.updatingPlotData.emit(),this.ttestService.plotData(this.models,{nRange:this.nRange,powerRange:this.powerRange,deltaRange:this.deltaRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(F(t=>{if(void 0===this.pointsPerPlot&&(this.pointsPerPlot=t.points),t.data.forEach((t,e)=>{Object.assign(this.models[e],t)}),this.customRanges)return;let e,n,r,i=this.getOutput();for(let s=0,o=this.models.length;s<o;s++){let t=this.models[s];switch(i){case"n":case"nByCI":n=this.makeXRange(t.nVsPower,this.nRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),r=this.makeXRange(t.nVsDelta,this.nRange),r.description="Detectable Alternative",0==s?this.deltaRange=r:this.deltaRange.combine(r);break;case"power":e=this.makeXRange(t.powerVsN,this.powerRange),e.description="Sample Size",0==s?this.nRange=e:this.nRange.combine(e);break;case"delta":n=this.makeXRange(t.deltaVsPower,this.deltaRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),e=this.makeXRange(t.deltaVsN,this.deltaRange),e.description="Sample Size",0==s?this.nRange=e:this.nRange.combine(e)}}this.previousRanges={nRange:this.nRange?this.nRange.clone():void 0,powerRange:this.powerRange?this.powerRange.clone():void 0,deltaRange:this.deltaRange?this.deltaRange.clone():void 0,pSpaceRange:this.pSpaceRange?this.pSpaceRange.clone():void 0}}))}resetRanges(){this.previousRanges&&Object.assign(this,this.previousRanges)}addModel(t){return this.ttestService.calculate(t).pipe(U(t=>{let e=new CR(t);return e.name=this.getModelName(this.models.length),this.models.push(e),this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"add",index:this.models.length-1,params:e.attribs()}),this.updatePlotData()}))}updateModel(t,e,n){let r=this.models[t],i=e,s={[e]:n};"output"!==e&&("nByCI"===r.output?"delta"===e?(s.deltaMode=!0,i="power"):"power"===e&&(s.deltaMode=!1):"n"!==this.models[0].output&&("ci"===e?(s.ciMode=!0,i="n"):"n"===e&&(s.ciMode=!1)));let o=[r];return"output"===e&&(o=this.models,this.customRanges=!1),o.forEach(t=>{Object.assign(t,s)}),SR(...o.map((t,e)=>this.ttestService.calculate(t).pipe(F(e=>{Object.assign(t,e)})))).pipe(U(()=>(this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"change",index:t,key:e,params:r.attribs()}),this.updatePlotData())))}removeModel(t){return this.models.splice(t,1),this.changeHistory.push({type:"remove",index:t}),this.customRanges||this.calculateRanges(),this.updatePlotData()}getModel(t){return this.models[t]}modelCount(){return this.models.length}calculateRanges(){let t,e=[],n=[],r=[],i=[],s=this.getOutput();for(let o=0,a=this.models.length;o<a;o++){let a=this.models[o];switch(s){case"n":case"nByCI":t=dk([.5*a.n,1.5*a.n],a_),(0==o||t[0]<e[0])&&(e[0]=t[0]),(0==o||t[1]>e[1])&&(e[1]=t[1]);break;case"power":0==o&&(n=[.01,1]),t=dk([1.5*a.sigma,-1.5*a.sigma],a_),(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1]);break;case"delta":t=dk([.5*a.delta,1.5*a.delta],a_),(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1])}t=dk([1.5*a.sigma,-1.5*a.sigma],a_),(0==o||t[0]<i[0])&&(i[0]=t[0]),(0==o||t[1]>i[1])&&(i[1]=t[1]),t=[a.delta-a.ci/2,a.delta+a.ci/2],t[0]<i[0]&&(i[0]=t[0]-Math.abs(.5*t[0])),t[1]>i[1]&&(i[1]=t[1]+Math.abs(.5*t[1]))}e.length>0?(this.nRange=new _R(e[0],e[1]),this.nRange.description="Sample Size"):this.nRange=void 0,n.length>0?(this.powerRange=new _R(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.deltaRange=new _R(r[0],r[1]),this.deltaRange.description="Detectable Alternative"):this.deltaRange=void 0,i.length>0?(this.pSpaceRange=new _R(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}getLinePlotHandler(){return new AR(this)}getCIPlotHandler(){return new OR(this)}getSelectedIndex(){return this.selectedIndex}getChangeHistory(){return this.changeHistory}getModelCount(){return this.models.length}getModelInterpretation(){return this.models[this.selectedIndex].interpretation()}getModelOutput(){return this.models[this.selectedIndex].output}getTopYRange(){switch(this.getOutput()){case"n":case"nByCI":return this.nRange;case"power":return this.powerRange;case"delta":return this.deltaRange}}setTopYRange(t){switch(this.getOutput()){case"n":case"nByCI":this.nRange=t;break;case"power":this.powerRange=t;break;case"delta":this.deltaRange=t}}getTopLeftXRange(){switch(this.getOutput()){case"n":case"nByCI":return this.powerRange;case"power":case"delta":return this.nRange}}setTopLeftXRange(t){switch(this.getOutput()){case"n":case"nByCI":this.powerRange=t;break;case"power":case"delta":this.nRange=t}}getTopRightXRange(){switch(this.getOutput()){case"n":case"nByCI":case"power":return this.deltaRange;case"delta":return this.powerRange}}setTopRightXRange(t){switch(this.getOutput()){case"n":case"nByCI":case"power":this.deltaRange=t;break;case"delta":this.powerRange=t}}getBottomXRange(){return this.pSpaceRange}setBottomXRange(t){this.pSpaceRange=t}isCITargetDraggable(){return"detAlt"===this.getModelOutput()}isCIBoundsDraggable(){return"power"!==this.getModelOutput()}describeChanges(t,e=!0){let n;return"add"==t.type?n=`Added model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:"remove"==t.type?n=`Removed model #${t.index+1}`:"change"==t.type&&(n=e?`Changed <span class="code">${t.key}</span> in model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:`Changed ${t.key} in model #${t.index+1}: ${this.paramsToString(t.params)}`),n}paramsToString(t){let e=[];for(var n in t)"ciMode"!=n&&"deltaMode"!=n&&e.push("string"==typeof t[n]?`"${n}": "${t[n]}"`:`"${n}": ${t[n]}`);return`{ ${e.join(", ")} }`}getModelName(t){switch(t){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return`Line ${t+1}`}makeXRange(t,e){let n=0,r=t.length-1;for(let s=0;s<t.length;s++)if("number"==typeof t[s].x&&t[s].y>=e.min){n=s;break}for(let s=t.length-1;s>=0;s--)if("number"==typeof t[s].x&&t[s].y<=e.max){r=s;break}let i=dk([t[n].x,t[r].x],a_);return new _R(i[0],i[1])}}function DR(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",33),Fo(2,"Difference in population means (\u03b4)"),Ks(),Zs(3,"input",34),so("ngModelChange",(function(e){return Qe(t),lo(2).model.delta=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.delta)}}function jR(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",35),Fo(2," Power "),Js(3,"i",36),Ks(),Zs(4,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(2).model.power=e})),Ks(),Ks()}if(2&t){const t=lo(2),e=qs(34);Nr(3),Ys("ngbPopover",e),Nr(1),Ys("ngModel",t.model.power)}}function NR(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",38),Fo(2," Ratio of control/experimental subjects "),Ks(),Zs(3,"input",39),so("ngModelChange",(function(e){return Qe(t),lo(2).model.m=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.m)}}function FR(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",40),Fo(2,"95% confidence interval width"),Ks(),Zs(3,"input",41),so("ngModelChange",(function(e){return Qe(t),lo(2).model.ci=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.ci)}}function LR(t,e){if(1&t){const t=no();Zs(0,"input",49),so("ngModelChange",(function(e){return Qe(t),lo(3).model.n=e})),Ks()}2&t&&Ys("ngModel",lo(3).model.n)}function $R(t,e){if(1&t){const t=no();Zs(0,"input",50),so("ngModelChange",(function(e){return Qe(t),lo(3).model.ci=e})),Ks()}2&t&&Ys("ngModel",lo(3).model.ci)}function VR(t,e){if(1&t){const t=no();Zs(0,"div",42),Zs(1,"label",43),Zs(2,"input",44),so("ngModelChange",(function(e){return Qe(t),lo(2).model.ciMode=e})),Ks(),Fo(3," Sample size "),Js(4,"i",45),Ks(),Zs(5,"label",43),Zs(6,"input",46),so("ngModelChange",(function(e){return Qe(t),lo(2).model.ciMode=e})),Ks(),Fo(7," 95% confidence interval width "),Ks(),Ks(),Zs(8,"div",24),Bs(9,LR,1,1,"input",47),Bs(10,$R,1,1,"input",48),Ks()}if(2&t){const t=lo(2),e=qs(36);Nr(2),Ys("ngModel",t.model.ciMode)("value",!1),Nr(2),Ys("ngbPopover",e),Nr(2),Ys("ngModel",t.model.ciMode)("value",!0),Nr(3),Ys("ngIf",!t.model.ciMode),Nr(1),Ys("ngIf",t.model.ciMode)}}function zR(t,e){if(1&t){const t=no();Zs(0,"input",37),so("ngModelChange",(function(e){return Qe(t),lo(3).model.power=e})),Ks()}2&t&&Ys("ngModel",lo(3).model.power)}function UR(t,e){if(1&t){const t=no();Zs(0,"input",34),so("ngModelChange",(function(e){return Qe(t),lo(3).model.delta=e})),Ks()}2&t&&Ys("ngModel",lo(3).model.delta)}function HR(t,e){if(1&t){const t=no();Zs(0,"div",42),Zs(1,"label",43),Zs(2,"input",51),so("ngModelChange",(function(e){return Qe(t),lo(2).model.deltaMode=e})),Ks(),Fo(3," Power "),Js(4,"i",36),Ks(),Zs(5,"label",43),Zs(6,"input",52),so("ngModelChange",(function(e){return Qe(t),lo(2).model.deltaMode=e})),Ks(),Fo(7," Difference in population means (\u03b4) "),Ks(),Ks(),Zs(8,"div",24),Bs(9,zR,1,1,"input",53),Bs(10,UR,1,1,"input",54),Ks()}if(2&t){const t=lo(2),e=qs(34);Nr(2),Ys("ngModel",t.model.deltaMode)("value",!1),Nr(2),Ys("ngbPopover",e),Nr(2),Ys("ngModel",t.model.deltaMode)("value",!0),Nr(3),Ys("ngIf",!t.model.deltaMode),Nr(1),Ys("ngIf",t.model.deltaMode)}}function BR(t,e){if(1&t){const t=no();Zs(0,"div"),Zs(1,"div",24),Zs(2,"label",25),Fo(3," Type I Error (\u03b1) "),Js(4,"i",26),Ks(),Zs(5,"input",27),so("ngModelChange",(function(e){return Qe(t),lo().model.alpha=e})),Ks(),Ks(),Zs(6,"div",24),Zs(7,"label",28),Fo(8," Standard deviation (\u03c3) "),Js(9,"i",29),Ks(),Zs(10,"input",30),so("ngModelChange",(function(e){return Qe(t),lo().model.sigma=e})),Ks(),Ks(),Bs(11,DR,4,1,"div",31),Bs(12,jR,5,2,"div",31),Bs(13,NR,4,1,"div",31),Bs(14,FR,4,1,"div",31),Bs(15,VR,11,7,"ng-template",32),Bs(16,HR,11,7,"ng-template",32),Ks()}if(2&t){const t=lo(),e=qs(30),n=qs(32);Nr(4),Ys("ngbPopover",e),Nr(1),Ys("ngModel",t.model.alpha),Nr(4),Ys("ngbPopover",n),Nr(1),Ys("ngModel",t.model.sigma),Nr(1),Ys("ngIf",t.needDelta()),Nr(1),Ys("ngIf",t.needPower()),Nr(1),Ys("ngIf",t.needM()),Nr(1),Ys("ngIf",t.needCI()),Nr(1),Ys("ngIf",t.needNOrCI()),Nr(1),Ys("ngIf",t.needPowerOrDelta())}}function qR(t,e){if(1&t&&(Zs(0,"div",55),Zs(1,"button",56),Fo(2," Calculate "),Ks(),Ks()),2&t){lo();const t=qs(2);Nr(1),Ys("disabled",!t.form.valid)}}function WR(t,e){1&t&&Fo(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis.\n")}function GR(t,e){1&t&&Fo(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs.\n")}function XR(t,e){1&t&&Fo(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function YR(t,e){1&t&&Fo(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}let QR=(()=>{class t extends Jw{constructor(t,e){super(),this.route=t,this.ttestService=e}ngOnInit(){this.route.data.subscribe(t=>{this.kind=t.kind,this.model=new CR({kind:t.kind})})}onToggleHelp(){this.toggleHelp.emit()}needDelta(){return"delta"!==this.model.output&&"nByCI"!==this.model.output}needPower(){return"power"!==this.model.output&&"nByCI"!==this.model.output}needPowerOrDelta(){return"nByCI"===this.model.output}needCI(){return"nByCI"===this.model.output}needNOrCI(){return"n"!==this.model.output&&"nByCI"!==this.model.output}needM(){return this.model.kind===xR.Independent}onSubmit(){let t=new IR(this.ttestService);t.addModel(this.model).subscribe(()=>{this.calculate.emit(t)})}useExample(t){switch(t){case"power":this.model.output="power",this.model.alpha=.05,this.model.delta=5,this.model.sigma=10,this.model.n=33,this.kind==xR.Independent&&(this.model.m=2)}}showCalculateButton(){return void 0!==this.model.output}}return t.\u0275fac=function(e){return new(e||t)(Ws(Vg),Ws(wR))},t.\u0275cmp=pe({type:t,selectors:[["t-test-start"]],features:[Bo],decls:37,vars:3,consts:[[1,"d-flex","flex-column","h-100"],[3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","t-test-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","t-test-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","power"],["id","t-test-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","n"],["value","delta"],["value","nByCI"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],["alphaHelp",""],["sigmaHelp",""],["powerHelp",""],["nHelp",""],[1,"form-group"],["for","t-test-start-alpha"],["aria-hidden","true","popoverTitle","Type I Error (\u03b1)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-sigma"],["aria-hidden","true","popoverTitle","Standard deviation (\u03c3)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-sigma","type","number","step","0.1","min","0.1","required","","name","sigma",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[3,"ngIf"],["for","t-test-start-delta"],["id","t-test-start-delta","type","number","step","0.1","required","","name","delta",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-power"],["aria-hidden","true","popoverTitle","Power","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-m"],["id","t-test-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-ci"],["id","t-test-start-ci","type","number","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["type","radio","name","ciMode","id","t-test-start-ciMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["aria-hidden","true","popoverTitle","Sample size","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["type","radio","name","ciMode","id","t-test-start-ciMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-n","type","number","min","1","required","","name","n",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",3,"ngModel","ngModelChange",4,"ngIf"],["id","t-test-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-delta","type","number","step","0.1","required","","name","delta",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){if(1&t){const t=no();Zs(0,"div",0),Zs(1,"form",1,2),so("ngSubmit",(function(){return e.onSubmit()})),Zs(3,"div",3),Zs(4,"div",4),Zs(5,"div",5),Zs(6,"div",6),Zs(7,"label",7),Fo(8," What do you want to know? "),Zs(9,"button",8),so("click",(function(){return e.onToggleHelp()})),Ks(),Ks(),Ks(),Zs(10,"div",9),Zs(11,"select",10,11),so("change",(function(){Qe(t);const n=qs(12);return e.useExample(n.value)})),Zs(13,"option",12),Fo(14,"Use an example:"),Ks(),Zs(15,"option",13),Fo(16,"Power"),Ks(),Ks(),Ks(),Ks(),Zs(17,"select",14),so("ngModelChange",(function(t){return e.model.output=t})),Js(18,"option"),Zs(19,"option",13),Fo(20,"Power"),Ks(),Zs(21,"option",15),Fo(22,"Sample size"),Ks(),Zs(23,"option",16),Fo(24,"Detectable alternative"),Ks(),Zs(25,"option",17),Fo(26,"Sample size for 95% CI"),Ks(),Ks(),Ks(),Bs(27,BR,17,10,"div",18),Ks(),Bs(28,qR,3,1,"div",19),Ks(),Ks(),Bs(29,WR,1,0,"ng-template",null,20,Al),Bs(31,GR,1,0,"ng-template",null,21,Al),Bs(33,XR,1,0,"ng-template",null,22,Al),Bs(35,YR,1,0,"ng-template",null,23,Al)}2&t&&(Nr(17),Ys("ngModel",e.model.output),Nr(10),Ys("ngIf",e.model.output),Nr(1),Ys("ngIf",e.showCalculateButton()))},directives:[hb,dv,nb,jv,$v,Dv,pb,hv,ub,Iu,Ow,Sv,iv,Ev],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),t})(),ZR=(()=>{class t{transform(t,e){return Math.ceil(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"ceil",type:t,pure:!0}),t})();function KR(t,e){if(1&t){const t=no();Zs(0,"div",13),Zs(1,"div",14),Zs(2,"label",15),Fo(3,"Name:"),Ks(),Zs(4,"input",16),so("ngModelChange",(function(e){return Qe(t),lo().model.name=e})),Ks(),Ks(),Zs(5,"button",17),so("click",(function(){return Qe(t),lo().onRemoveButtonClicked()})),Js(6,"i",18),Fo(7," Remove "),Ks(),Ks()}if(2&t){const t=lo();Nr(2),go("for","t-test-project-",t.name,"-model-",t.index,"-name"),Nr(2),go("id","t-test-project-",t.name,"-model-",t.index,"-name"),Ys("ngModel",t.model.name)}}function JR(t,e){1&t&&Fo(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis. ")}function tA(t,e){1&t&&Fo(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs. ")}function eA(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"div",2),Zs(2,"app-range-slider",19),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("m",e)})),il(3,"round"),Ks(),Ks(),Ks()}if(2&t){const t=lo();Nr(2),Ys("min",t.min.m)("max",t.max.m)("hard-min",.01)("ngModel",sl(3,4,t.model.m))}}function nA(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"div",2),Zs(2,"app-range-slider",20),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("delta",e)})),il(3,"round"),Ks(),Ks(),Ks(),Zs(4,"div",1),Zs(5,"div",2),Zs(6,"app-range-slider",21),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("power",e)})),il(7,"round"),Ks(),Ks(),Ks(),Zs(8,"div",1),Zs(9,"div",2),Zs(10,"app-range-slider",22),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("n",e)})),il(11,"ceil"),Ks(),Zs(12,"app-range-slider",23),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("ci",e)})),il(13,"round"),Ks(),Ks(),Ks()}if(2&t){const t=lo(),e=qs(15),n=qs(17),r=qs(19),i=qs(21);So("output",t.isOutput("delta")),Nr(2),Ys("min",t.min.delta)("max",t.max.delta)("is-output","delta"==t.model.output)("help-tpl",e)("ngModel",ol(3,30,t.model.delta,1)),Nr(2),So("output",t.isOutput("power")),Nr(2),Ys("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("help-tpl",n)("ngModel",sl(7,33,t.model.power)),Nr(2),So("output",t.isOutput("n")),Nr(2),Ys("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output","n"==t.model.output)("help-tpl",r)("ngModel",sl(11,35,t.model.n)),Nr(2),Ys("min",t.min.ci)("max",t.max.ci)("hard-min",1)("is-output","n"==t.model.output)("help-tpl",i)("ngModel",ol(13,37,t.model.ci,1))}}function rA(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"div",2),Zs(2,"app-range-slider",24),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("ci",e)})),il(3,"round"),Ks(),Ks(),Ks(),Zs(4,"div",25),Zs(5,"div",2),Zs(6,"app-range-slider",22),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("n",e)})),il(7,"ceil"),Ks(),Ks(),Ks(),Zs(8,"div",26),Zs(9,"div",2),Zs(10,"app-range-slider",27),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("delta",e)})),il(11,"round"),Ks(),Zs(12,"app-range-slider",21),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("power",e)})),il(13,"round"),Ks(),Ks(),Ks()}if(2&t){const t=lo(),e=qs(21),n=qs(19),r=qs(15),i=qs(17);Nr(2),Ys("min",t.min.ci)("max",t.max.ci)("help-tpl",e)("ngModel",ol(3,21,t.model.ci,1)),Nr(4),Ys("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output",!0)("help-tpl",n)("ngModel",sl(7,24,t.model.n)),Nr(4),Ys("min",t.min.delta)("max",t.max.delta)("help-tpl",r)("ngModel",ol(11,26,t.model.delta,1)),Nr(2),Ys("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("help-tpl",i)("ngModel",sl(13,29,t.model.power))}}function iA(t,e){1&t&&Fo(0," Delta (\u03b4) is the difference in population means under the alternative hypothesis.\n")}function sA(t,e){1&t&&Fo(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function oA(t,e){1&t&&Fo(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}function aA(t,e){1&t&&Fo(0," Specifying the 95% confidence interval width will automatically calculate the sample size parameter.\n")}let lA=(()=>{class t{constructor(t,e){this.plotOptions=t,this.palette=e,this.modelChanged=new cl,this.remove=new cl}ngOnInit(){this.model=this.project.getModel(this.index),this.min=new CR(this.model),this.max=new CR(this.model),this.calculateAlphaRange(),this.min.power=.01,this.max.power=.99,this.calculateSliderRange("n"),this.calculateSliderRange("ci"),this.calculateSliderRange("delta"),this.calculateSliderRange("sigma"),this.model.kind===xR.Independent&&this.calculateSliderRange("m"),this.color=this.palette.getColor(this.index,this.plotOptions.paletteTheme)}isOutput(t){return this.model.output===t}changeModel(t,e){this.project.updateModel(this.index,t,e).subscribe(()=>{"alpha"==t&&this.calculateAlphaRange(),this.adjustMinMax(),this.modelChanged.emit()})}onRemoveButtonClicked(){this.remove.emit()}adjustMinMax(){this.model.sigma<this.min.sigma?this.min.sigma=Math.floor(this.model.sigma):this.model.sigma>this.max.sigma&&(this.max.sigma=Math.ceil(this.model.sigma)),this.model.delta<this.min.delta?this.min.delta=Math.floor(this.model.delta):this.model.delta>this.max.delta&&(this.max.delta=Math.ceil(this.model.delta)),this.model.n<this.min.n?this.min.n=Math.floor(this.model.n):this.model.n>this.max.n&&(this.max.n=Math.ceil(this.model.n)),this.model.ci<this.min.ci?this.min.ci=Math.floor(this.model.ci):this.model.ci>this.max.ci&&(this.max.ci=Math.ceil(this.model.ci))}calculateAlphaRange(){let t=Math.floor(Math.log10(this.model.alpha));t>-2&&(t=-2),this.min.alpha=Math.pow(10,t),this.max.alpha=1-this.min.alpha}calculateSliderRange(t){let e=this.model[t],n=dk([.5*e,1.5*e],a_);this.min[t]=n[0],this.max[t]=n[1]}}return t.\u0275fac=function(e){return new(e||t)(Ws(pk),Ws(fk))},t.\u0275cmp=pe({type:t,selectors:[["t-test-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:22,vars:19,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","step","hard-min","hard-min-inclusive","hard-max","hard-max-inclusive","ngModel","ngModelChange"],["rsHelp",""],["name","sigma","label","Std. deviation (\u03c3)","step","0.1",3,"min","max","hard-min","ngModel","ngModelChange"],["class","grow-horiz",4,"ngIf"],[3,"ngIf","ngIfElse"],["nByCI",""],["deltaHelp",""],["powerHelp",""],["nHelp",""],["ciHelp",""],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["name","m","label","Ratio of control/experimental subjects",3,"min","max","hard-min","ngModel","ngModelChange"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","is-output","help-tpl","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","help-tpl","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"],[1,"grow-horiz","output"],[1,"grow-horiz","order-2","alt"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(Bs(0,KR,8,5,"div",0),Zs(1,"div",1),Zs(2,"div",2),Zs(3,"app-range-slider",3),so("ngModelChange",(function(t){return e.changeModel("alpha",t)})),Bs(4,JR,1,0,"ng-template",4),Ks(),Ks(),Ks(),Zs(5,"div",1),Zs(6,"div",2),Zs(7,"app-range-slider",5),so("ngModelChange",(function(t){return e.changeModel("sigma",t)})),il(8,"round"),Bs(9,tA,1,0,"ng-template",4),Ks(),Ks(),Ks(),Bs(10,eA,4,6,"div",6),Bs(11,nA,14,40,"ng-template",7),Bs(12,rA,14,31,"ng-template",null,8,Al),Bs(14,iA,1,0,"ng-template",null,9,Al),Bs(16,sA,1,0,"ng-template",null,10,Al),Bs(18,oA,1,0,"ng-template",null,11,Al),Bs(20,aA,1,0,"ng-template",null,12,Al)),2&t){const t=qs(13);Ys("ngIf",e.project.models.length>1),Nr(3),Ys("min",e.min.alpha)("max",e.max.alpha)("step",e.min.alpha)("hard-min",0)("hard-min-inclusive",!1)("hard-max",1)("hard-max-inclusive",!1)("ngModel",e.model.alpha),Nr(4),Ys("min",e.min.sigma)("max",e.max.sigma)("hard-min",1)("ngModel",ol(8,16,e.model.sigma,1)),Nr(3),Ys("ngIf","ind"==e.model.kind),Nr(1),Ys("ngIf",!e.isOutput("nByCI"))("ngIfElse",t)}},directives:[Iu,eR,hv,ub,tR,iv],pipes:[nR,ZR],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),t})();const cA=["tabset"];function uA(t,e){if(1&t){const t=no();Zs(0,"li",16),Zs(1,"a",17),so("click",(function(){Qe(t);const n=e.index;return lo(3).selectModel(n)})),Js(2,"i",18),Ks(),Ks()}if(2&t){const t=e.index,n=lo(3);Nr(1),So("active",t==n.project.selectedIndex),Nr(1),Co("color",n.getColor(t))}}function hA(t,e){if(1&t&&(Zs(0,"ul",14),Bs(1,uA,3,4,"li",15),Ks()),2&t){const t=lo(2);Nr(1),Ys("ngForOf",t.project.models)("ngForTrackBy",t.trackByIndex)}}function dA(t,e){if(1&t){const t=no();Zs(0,"div",19),Zs(1,"t-test-project-model",20),so("modelChanged",(function(){return Qe(t),lo(2).onModelChanged()}))("remove",(function(){Qe(t);const n=e.index;return lo(2).onModelRemove(n)})),Ks(),Ks()}if(2&t){const t=e.index,n=lo(2);So("active",t==n.project.selectedIndex)("tab",n.project.models.length>1),Nr(1),Ys("project",n.project)("index",t)}}function pA(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"div",2),Zs(2,"div",3),Zs(3,"label",4),Fo(4,"Output:"),Ks(),Zs(5,"select",5),so("ngModelChange",(function(e){return Qe(t),lo().changeOutput(e)})),Zs(6,"option",6),Fo(7,"Power"),Ks(),Zs(8,"option",7),Fo(9,"Sample size"),Ks(),Zs(10,"option",8),Fo(11,"Detectable alternative"),Ks(),Zs(12,"option",9),Fo(13,"Sample size for 95% CI"),Ks(),Ks(),Ks(),Zs(14,"button",10),so("click",(function(){return Qe(t),lo().addModel()})),Js(15,"i",11),Fo(16," Add line "),Ks(),Ks(),Bs(17,hA,2,2,"ul",12),Bs(18,dA,2,6,"div",13),Ks()}if(2&t){const t=lo();Nr(3),fo("for","t-test-project-",t.name,"-output"),Nr(2),fo("id","t-test-project-",t.name,"-output"),Ys("ngModel",t.project.getOutput()),Nr(12),Ys("ngIf",t.project.models.length>1),Nr(1),Ys("ngForOf",t.project.models)}}let fA=(()=>{class t extends t_{constructor(t,e,n,r,i){super(),this.projectService=t,this.plotOptions=e,this.palette=n,this.router=r,this.route=i}ngOnInit(){SR(this.route.data,this.route.paramMap).subscribe(t=>{let e=t[0].type,n=t[1].get("id");if(n){let t=parseInt(n)-1;this.name=`${t}`,this.project=this.projectService.getProject(e,t)}else this.project=void 0;this.project?this.selectedModel=this.project.getModel(this.project.selectedIndex):(this.selectedModel=void 0,this.router.navigate([".."],{relativeTo:this.route})),this.projectSwitched.emit(this.project)})}changeOutput(t){this.project.updateModel(0,"output",t).subscribe(()=>{this.projectChanged.emit()})}selectModel(t){this.project.selectedIndex=t,this.selectedModel=this.project.getModel(t),this.projectChanged.emit()}addModel(){let t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe(()=>{this.project.selectedIndex=this.project.models.length-1,this.projectChanged.emit()})}onModelRemove(t){this.removeModel(t)}removeModel(t){this.project.removeModel(t).subscribe(()=>{this.project.selectedIndex>=this.project.models.length&&this.project.selectedIndex--,this.projectChanged.emit()})}onModelChanged(){this.projectChanged.emit()}trackByIndex(t,e){return t}getColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}}return t.\u0275fac=function(e){return new(e||t)(Ws(Qw),Ws(pk),Ws(fk),Ws(Xm),Ws(Vg))},t.\u0275cmp=pe({type:t,selectors:[["t-test-project"]],viewQuery:function(t,e){var n;1&t&&xl(cA,!0),2&t&&wl(n=El())&&(e.tabset=n.first)},features:[Bo],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","n"],["value","delta"],["value","nByCI"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(t,e){1&t&&Bs(0,pA,19,5,"div",0),2&t&&Ys("ngIf",e.project)},directives:[Iu,Dv,hv,ub,jv,$v,Au,lA],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),t})();const gA=[{path:"t-test/paired",component:bR,data:{type:Kw.TTestPaired},children:[{path:"",component:QR,data:{kind:xR.Paired}},{path:":id",component:fA,data:{type:Kw.TTestPaired}}]},{path:"t-test/ind",component:bR,data:{type:Kw.TTestIndependent},children:[{path:"",component:QR,data:{kind:xR.Independent}},{path:":id",component:fA,data:{type:Kw.TTestIndependent}}]},{path:"z-test",component:bR,data:{type:Kw.ZTest},children:[{path:"",component:QR,data:{kind:xR.ZTest}},{path:":id",component:fA,data:{type:Kw.ZTest}}]}];let mA=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[wR],imports:[[zu,gb,Zy,Xw,hy.forChild(gA),Yw]]}),t})();var yA=function(t){return t.SampleSize="sampleSize",t.Power="power",t.DetectableAlternative="detAlt",t}({}),vA=function(t){return t.Lower="lower",t.Upper="upper",t}({}),bA=function(t){return t.Matched="matched",t.Independent="independent",t}({}),wA=function(t){return t.CaseControl="caseControl",t.Prospective="prospective",t}({}),_A=function(t){return t.ChiSquare="chiSquare",t.Fishers="fishers",t}({}),xA=function(t){return t.FailureRates="failureRates",t.RelativeRisk="relativeRisk",t.TwoProportions="twoProportions",t.OddsRatio="oddsRatio",t}({});class CA{constructor(t){t&&(this.name=t.name,this.output=t.output,this.matched=t.matched,this.case=t.case,this.method=t.method,this.expressed=t.expressed,this.alpha=t.alpha,this.power=t.power,this.phi=t.phi,this.p0=t.p0,this.p1=t.p1,this.p1Alt=t.p1Alt,this.r=t.r,this.rAlt=t.rAlt,this.n=t.n,this.m=t.m,this.psi=t.psi,this.psiAlt=t.psiAlt,this.ci=t.ci,this.ciAlt=t.ciAlt,this.detAltMode=t.detAltMode,this.ciMode=t.ciMode,this.sampleSizeVsPower=t.sampleSizeVsPower,this.sampleSizeVsDetAlt=t.sampleSizeVsDetAlt,this.powerVsSampleSize=t.powerVsSampleSize,this.powerVsDetAlt=t.powerVsDetAlt,this.detAltVsSampleSize=t.detAltVsSampleSize,this.detAltVsPower=t.detAltVsPower,this.sampDist=t.sampDist),null==this.detAltMode&&(this.detAltMode=vA.Upper)}attribs(){return{output:this.output,matched:this.matched,case:this.case,method:this.method,expressed:this.expressed,alpha:this.alpha,power:this.power,phi:this.phi,p0:this.p0,p1:this.p1,p1Alt:this.p1Alt,r:this.r,rAlt:this.rAlt,n:this.n,m:this.m,psi:this.psi,psiAlt:this.psiAlt,ciMode:this.ciMode,ci:this.ci,detAltMode:this.detAltMode}}shallowClone(){return Object.assign(new CA,this)}getDetAltParam(){let t="";if(this.matched==bA.Matched?t="psi":this.matched==bA.Independent&&(this.expressed==xA.TwoProportions?t="p1":this.expressed==xA.OddsRatio?t="psi":this.expressed==xA.RelativeRisk&&(t="r")),t.length>0&&this.detAltMode===vA.Lower){let e=`${t}Alt`;"number"==typeof this[e]&&(t=e)}return t}getCITarget(){let t=NaN;if(this.matched===bA.Matched)t=this.output===yA.DetectableAlternative&&this.detAltMode===vA.Lower?this.psiAlt:this.psi;else if(this.matched===bA.Independent){let e;e=this.output===yA.DetectableAlternative&&this.detAltMode===vA.Lower?this.p1Alt:this.p1,this.expressed===xA.TwoProportions?t=e:this.expressed===xA.OddsRatio?t=Math.exp(Math.log(e)+Math.log(1-this.p0)-Math.log(this.p0)-Math.log(1-e)):this.expressed===xA.RelativeRisk&&(t=Math.exp(Math.log(e)-Math.log(this.p0)))}return t}getCI(){return this.output===yA.DetectableAlternative&&this.detAltMode===vA.Lower?this.ciAlt:this.ci}interpretation(){let t,e,n,r,i,s,o,a="",l=this.alpha.toFixed(2),c=this.power.toFixed(2),u=this.m.toFixed(0),h=this.n.toFixed(0),d=Math.round(this.n*this.m).toString(),p=this.p0.toFixed(2);return this.p1&&(t=this.p1.toFixed(2)),this.p1Alt&&(e=this.p1Alt.toFixed(2)),this.phi&&(n=this.phi.toFixed(2)),this.psi&&(r=this.psi.toFixed(2)),this.psiAlt&&(i=this.psiAlt.toFixed(2)),this.r&&(s=this.r.toFixed(2)),this.rAlt&&(o=this.rAlt.toFixed(2)),this.matched===bA.Matched?this.output===yA.SampleSize?a=`\n          We are planning a study of matched sets of cases and controls with\n          ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is\n          ${n}.  If the true odds ratio for disease in exposed subjects\n          relative to unexposed subjects is ${r}, we will need to study ${h}\n          case patients with ${u} matched control(s) per case to be able to\n          reject the null hypothesis that this odds ratio equals 1 with\n          probability (power) ${c}.  The Type I error probability\n          associated with this test of this null hypothesis is ${l}.\n        `:this.output===yA.Power?a=`\n          We are planning a study with ${h} matched sets of cases and controls\n          and ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is ${n}.\n          If the true odds ratio for disease in exposed subjects relative to\n          unexposed subjects is ${r}, we will be able to reject the null\n          hypothesis that this odds ratio equals 1 with probability (power)\n          ${c}. The Type I error probability associated with this test of this\n          null hypothesis is ${l}.\n        `:this.output===yA.DetectableAlternative&&(a=`\n          We are planning a study with ${h} matched sets of cases and controls\n          and ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is\n          ${n}.  We will be able to detect true odds ratios for disease of\n          ${i} or ${r} in exposed subjects relative to unexposed\n          subjects with probability (power) ${c}.  The Type I error\n          probability associated with this test of the null hypothesis that\n          this odds ratio equals 1 is ${l}.\n        `):this.matched===bA.Independent&&(this.case===wA.CaseControl?this.expressed===xA.TwoProportions?this.output===yA.SampleSize?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ${p}.  If the true\n              probability of exposure among cases is ${t}, we will need to\n              study ${h} case patients and ${d} control patients to be able to\n              reject the null hypothesis that the exposure rates for case and\n              controls are equal with probability (power) ${c}.  The Type I\n              error probability associated with this test of this null\n              hypothesis is ${l}.\n            `:this.output===yA.Power?a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ${p}.  If the true probability of\n              exposure among cases is ${t}, we will be able to reject the null\n              hypothesis that the exposure rates for case and controls are\n              equal with probability (power) ${c}. The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===yA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ${p}.  We will be able to detect true\n              probabilities of exposure among cases of ${e} or ${t} with\n              probability (power) ${c}.  The Type I error probability\n              associated with this test of the null hypothesis that the\n              exposure rates for case and controls are equal is ${l}.\n            `):this.expressed===xA.OddsRatio&&(this.output===yA.SampleSize?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ${p}.  If the true\n              odds ratio for disease in exposed subjects relative to unexposed\n              subjects is ${r}, we will need to study ${h} case patients and\n              ${d} control patients to be able to reject the null hypothesis\n              that this odds ratio equals 1 with probability (power) ${c}.\n              The Type I error probability associated with this test of this\n              null hypothesis is ${l}.\n            `:this.output===yA.Power?a=`\n              We are planning a study with ${h} case patients and ${d} control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ${p}.  If the true odds ratio for disease in\n              exposed subjects relative to unexposed subjects is ${r}, we\n              will be able to reject the null hypothesis that this odds ratio\n              equals 1 with probability (power) ${c}. The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===yA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} case patients and ${d} control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ${p}.  We will be able to detect true odds\n              ratios for disease of ${i} or ${r} in exposed subjects\n              relative to unexposed subjects with probability (power) ${c}.\n              The Type I error probability associated with this test of the\n              null hypothesis that this odds ratio equals 1 is ${l}.\n            `)):this.case===wA.Prospective&&(this.expressed===xA.TwoProportions?this.output===yA.SampleSize?a=`\n              We are planning a study of independent cases and controls with ${u}\n              control(s) per case.  Prior data indicate that the failure rate\n              among controls is ${p}.  If the true failure rate for experimental\n              subjects is ${t}, we will need to study ${h} experimental subjects\n              and ${d} control subjects to be able to reject the null hypothesis\n              that the failure rates for experimental and control subjects are\n              equal with probability (power) ${c}.  The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===yA.Power?a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  If the true failure rate for\n              experimental subjects is ${t}, we will be able to reject the\n              null hypothesis that the failure rates for experimental and\n              control subjects are equal with probability (power) ${c}. The\n              Type I error probability associated with this test of this null\n              hypothesis is ${l}.\n            `:this.output===yA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  We will be able to detect true failure\n              rates of ${e} or ${t} in exposed subjects with probability (power)\n              ${c}.  The Type I error probability associated with this test of\n              the null hypothesis that the failure rates for experimental and\n              control subjects are equal is ${l}.\n            `):this.expressed===xA.RelativeRisk&&(this.output===yA.SampleSize||this.output===yA.Power?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the failure\n              rate among controls is ${p}.  If the true relative risk of\n              failure for experimental subjects relative to controls is ${s},\n              we will need to study ${h} experimental subjects and ${d}\n              control subjects to be able to reject the null hypothesis that\n              this relative risk equals 1 with probability (power) ${c}.\n              The Type I error probability associated with this test of this\n              null hypothesis is ${l}.\n            `:this.output===yA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  We will be able to detect true relative\n              risks of ${o} or ${s} in exposed subjects relative to unexposed\n              subjects with probability (power) ${c}.  The Type I error\n              probability associated with this test of the null hypothesis that\n              this relative risk equals 1 is ${l}.\n            `))),this.method===_A.ChiSquare?a+="\n          We will use an uncorrected chi-squared statistic to evaluate\n          this null hypothesis.\n        ":this.method===_A.Fishers&&(a+="\n          We will use a continuity-corrected chi-squared statistic or\n          Fisher\u2019s exact test to evaluate this null hypothesis.\n        ")),a.replace(/\s+/g," ").trim()}}let SA=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Rc.apiUrl}/dichot`}calculate(t){let e=`${this.apiUrl}/calc`,n=t.attribs(),r={headers:new xy({"Content-Type":"application/json"})};return this.http.post(e,n,r).pipe(uf(this.handleError))}plotData(t,e,n){let r=`${this.apiUrl}/plotData`,i={models:t.map(t=>t.attribs()),ranges:e};"number"==typeof n&&(i.points=n);let s={headers:new xy({"Content-Type":"application/json"})};return this.http.post(r,i,s).pipe(uf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),Rb("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ny))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var MA=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({});class TA extends vk{constructor(t){super(),this.project=t}getXParam(t){return this.getParam(t,MA.X)}getYParam(t){return this.getParam(t,MA.Y)}getPlotData(t){let e,n=this.getDataKey(t);return n&&(e=this.project.models.map(t=>t[n])),e}getSelectedIndex(){return this.project.selectedIndex}getNumModels(){return this.project.models.length}getModelNames(){return this.project.models.map(t=>t.name)}updateModel(t,e,n){return this.project.updateModel(t,e,n)}getParam(t,e){let n,r=this.project.getModel(this.project.selectedIndex);if(r.output===yA.SampleSize)if(e===MA.X){if("top-left"==t||"top-left-export"==t)n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"};else if("top-right"==t||"top-right-export"==t){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}}else e===MA.Y&&(n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"});else if(r.output===yA.Power)if(e===MA.X){if("top-left"==t||"top-left-export"==t)n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"};else if("top-right"==t||"top-right-export"==t){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}}else e===MA.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(r.output===yA.DetectableAlternative)if(e===MA.X)"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(e===MA.Y){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}return n}getDataKey(t){let e,n=this.project.getModel(this.project.selectedIndex);return n.output===yA.SampleSize?"top-left"==t||"top-left-export"==t?e="sampleSizeVsPower":"top-right"!=t&&"top-right-export"!=t||(e="sampleSizeVsDetAlt"):n.output===yA.Power?"top-left"==t||"top-left-export"==t?e="powerVsSampleSize":"top-right"!=t&&"top-right-export"!=t||(e="powerVsDetAlt"):n.output===yA.DetectableAlternative&&("top-left"==t||"top-left-export"==t?e="detAltVsSampleSize":"top-right"!=t&&"top-right-export"!=t||(e="detAltVsPower")),e}getDetAltSym(t){switch(t){case"psi":case"psiAlt":return"\u03c8";case"p1":case"p1Alt":return"p\u2081";case"r":case"rAlt":return"R"}return""}}class EA extends Ik{constructor(t){super(),this.project=t}getXParam(){let t,e=this.project.getDetAltParam();switch(e){case"psi":case"psiAlt":t={name:"psi",range:this.project.pSpaceRange,title:"Odds ratio of exposure (\u03c8)",sym:"\u03c8"};break;case"p1":case"p1Alt":t={name:"p1",range:this.project.pSpaceRange,title:"Probability of the outcome for an experimental patient (p\u2081)",sym:"p\u2081"};break;case"r":case"rAlt":t={name:"r",range:this.project.pSpaceRange,title:"Relative risk of failure for experimental subjects relative to controls (R)",sym:"R"};break;default:throw new Error(`invalid param name: ${e}`)}return t}getGroups(){return this.project.models.map(t=>{let e=t.getCI();return{ci:{lower:e[0],upper:e[1],n:t.n},target:t.getCITarget(),sampDist:t.sampDist,ciValues:t.ciValues}})}getSelectedIndex(){return this.project.selectedIndex}updateTargetValue(t){let e=this.project.getDetAltParam();return this.project.updateModel(this.project.selectedIndex,e,t)}updateCIValue(t){return this.project.updateModel(this.project.selectedIndex,"n",t.n)}setIntermediateCIValue(t){this.project.getModel(this.project.selectedIndex).n=t.n}}class kA extends o_{constructor(t){super(),this.dichotService=t,this.models=[],this.selectedIndex=0,this.changeHistory=[],this.customRanges=!1,this.fixedPSpace=s_.Fixed}getLinePlotHandler(){return new TA(this)}getCIPlotHandler(){return new EA(this)}getSelectedIndex(){return this.selectedIndex}getChangeHistory(){return this.changeHistory}getModelOutput(){return this.models[this.selectedIndex].output}getModelInterpretation(){return this.models[this.selectedIndex].interpretation()}getModelCount(){return this.models.length}getTopYRange(){switch(this.getOutput()){case yA.SampleSize:return this.sampleSizeRange;case yA.Power:return this.powerRange;case yA.DetectableAlternative:return this.detAltRange}}setTopYRange(t){switch(this.getOutput()){case yA.SampleSize:this.sampleSizeRange=t;break;case yA.Power:this.powerRange=t;break;case yA.DetectableAlternative:this.detAltRange=t}}getTopLeftXRange(){switch(this.getOutput()){case yA.SampleSize:return this.powerRange;case yA.Power:case yA.DetectableAlternative:return this.sampleSizeRange}}setTopLeftXRange(t){switch(this.getOutput()){case yA.SampleSize:this.powerRange=t;break;case yA.Power:case yA.DetectableAlternative:this.sampleSizeRange=t}}getTopRightXRange(){switch(this.getOutput()){case yA.SampleSize:case yA.Power:return this.detAltRange;case yA.DetectableAlternative:return this.powerRange}}setTopRightXRange(t){switch(this.getOutput()){case yA.SampleSize:case yA.Power:this.detAltRange=t;break;case yA.DetectableAlternative:this.powerRange=t}}getBottomXRange(){return this.pSpaceRange}setBottomXRange(t){this.pSpaceRange=t}isCITargetDraggable(){return"delta"===this.getModelOutput()}isCIBoundsDraggable(){return"n"===this.getModelOutput()}getOutput(){if(this.models.length>0)return this.models[0].output}getOutputString(){return this.models.length>0?this.models[0].output.toString():""}getDetAltParam(){return this.models.length>0?this.models[0].getDetAltParam():""}getMatched(){return this.models.length>0?this.models[0].matched.toString():""}describeMatched(){if(this.models.length>0)switch(this.models[0].matched){case bA.Matched:return"Matched";case bA.Independent:return"Independent"}return""}describeCase(){if(this.models.length>0)switch(this.models[0].case){case wA.CaseControl:return"Case control";case wA.Prospective:return"Prospective"}return""}describeExpressed(){if(this.models.length>0)switch(this.models[0].expressed){case xA.FailureRates:return"Failure rates";case xA.RelativeRisk:return"Relative risk";case xA.TwoProportions:return"Two proportions";case xA.OddsRatio:return"Odds ratio"}return""}describeMethod(){if(this.models.length>0)switch(this.models[0].method){case _A.ChiSquare:return"Uncorrected chi-square test";case _A.Fishers:return"Fisher's exact test"}return""}getModel(t){return this.models[t]}addModel(t){return this.dichotService.calculate(t).pipe(U(t=>{let e=new CA(t);return e.name=this.getModelName(this.models.length),this.models.push(e),this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"add",index:this.models.length-1,params:e.attribs()}),this.updatePlotData()}))}updateModel(t,e,n){let r=this.models[t],i={[e]:n},s=[r];return"output"===e&&(s=this.models,this.customRanges=!1),"ci"===e?i.ciMode=!0:r.ciMode&&(i.ciMode=!1),s.forEach(t=>{Object.assign(t,i)}),SR(...s.map((t,e)=>this.dichotService.calculate(t).pipe(F(e=>{Object.assign(t,e)})))).pipe(U(()=>(this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"change",index:t,key:e,params:r.attribs()}),this.updatePlotData())))}removeModel(t){return this.models.splice(t,1),this.changeHistory.push({type:"remove",index:t}),this.customRanges||this.calculateRanges(),this.updatePlotData()}updatePlotData(){return this.updatingPlotData.emit(),this.dichotService.plotData(this.models,{sampleSizeRange:this.sampleSizeRange,powerRange:this.powerRange,detAltRange:this.detAltRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(F(t=>{if(void 0===this.pointsPerPlot&&(this.pointsPerPlot=t.points),t.data.forEach((t,e)=>{Object.assign(this.models[e],t)}),this.customRanges)return;let e,n,r,i=this.getOutput();for(let s=0,o=this.models.length;s<o;s++){let t=this.models[s];switch(i){case yA.SampleSize:n=this.makeXRange(t.sampleSizeVsPower,this.sampleSizeRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),r=this.makeXRange(t.sampleSizeVsDetAlt,this.sampleSizeRange),r.description="Detectable Alternative",0==s?this.detAltRange=r:this.detAltRange.combine(r);break;case yA.Power:e=this.makeXRange(t.powerVsSampleSize,this.powerRange),e.description="Sample Size",0==s?this.sampleSizeRange=e:this.sampleSizeRange.combine(e),r=this.makeXRange(t.powerVsDetAlt,this.sampleSizeRange),r.description="Detectable Alternative",0==s?this.detAltRange=r:this.detAltRange.combine(r);break;case yA.DetectableAlternative:n=this.makeXRange(t.detAltVsPower,this.detAltRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),e=this.makeXRange(t.detAltVsSampleSize,this.detAltRange),e.description="Sample Size",0==s?this.sampleSizeRange=e:this.sampleSizeRange.combine(e)}}this.previousRanges={sampleSizeRange:this.sampleSizeRange?this.sampleSizeRange.clone():void 0,powerRange:this.powerRange?this.powerRange.clone():void 0,detAltRange:this.detAltRange?this.detAltRange.clone():void 0,pSpaceRange:this.pSpaceRange?this.pSpaceRange.clone():void 0}}))}getModelName(t){switch(t){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return`Line ${t+1}`}calculateRanges(){let t,e=[],n=[],r=[],i=[],s=this.getOutput();for(let o=0,a=this.models.length;o<a;o++){let a=this.models[o];switch(s){case yA.SampleSize:t=dk([.5*a.n,1.5*a.n],a_),(0==o||t[0]<e[0])&&(e[0]=t[0]),(0==o||t[1]>e[1])&&(e[1]=t[1]);break;case yA.Power:0==o&&(n=[.01,1]);break;case yA.DetectableAlternative:if(a.getDetAltParam(),a.case===wA.CaseControl)t=a.detAltMode===vA.Lower?[.1,.9]:[1.1,a.psi+(a.psi-1)];else if(a.expressed===xA.RelativeRisk)t=a.detAltMode===vA.Lower?[.1,.9]:[1.1,a.r+(a.r-1)];else if(a.expressed===xA.OddsRatio)t=a.detAltMode===vA.Lower?[.1,.9]:[1.1,a.psi+(a.psi-1)];else{let e;a.detAltMode===vA.Lower?(e=Math.pow(10,Math.floor(Math.log10(a.p0-a.p1Alt))),t=[a.p1Alt-e,a.p0-e]):(e=Math.pow(10,Math.floor(Math.log10(a.p1-a.p0))),t=[a.p0+e,a.p1+e])}(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1])}let l=a.getCI();if(this.fixedPSpace!==s_.Fixed||a.matched!==bA.Matched&&a.expressed!==xA.RelativeRisk&&a.expressed!==xA.OddsRatio){let e=a.getCITarget(),n=3*Math.abs(l[1]-e);t=[l[0]-n,l[1]+n]}else{t=[0,7];let e=l[1]+1;e>t[1]&&(t[1]=e)}(0==o||t[0]<i[0])&&(i[0]=t[0]),(0==o||t[1]>i[1])&&(i[1]=t[1])}e.length>0?(this.sampleSizeRange=new _R(e[0],e[1]),this.sampleSizeRange.description="Sample Size"):this.sampleSizeRange=void 0,n.length>0?(this.powerRange=new _R(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.detAltRange=new _R(r[0],r[1]),this.detAltRange.description="Detectable Alternative"):this.detAltRange=void 0,i.length>0?(this.pSpaceRange=new _R(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}makeXRange(t,e){let n=0,r=t.length-1,i=dk(t,(t,e)=>t.x-e.x);for(let o=0;o<i.length;o++)if("number"==typeof i[o].x&&i[o].y>=e.min){n=o;break}for(let o=i.length-1;o>=0;o--)if("number"==typeof i[o].x&&i[o].y<=e.max){r=o;break}let s=dk([i[n].x,i[r].x],a_);return new _R(s[0],s[1])}paramsToString(t){let e=[];for(var n in t)"ciMode"!=n&&"deltaMode"!=n&&e.push("string"==typeof t[n]?`"${n}": "${t[n]}"`:`"${n}": ${t[n]}`);return`{ ${e.join(", ")} }`}describeChanges(t,e=!0){let n;return"add"==t.type?n=`Added model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:"remove"==t.type?n=`Removed model #${t.index+1}`:"change"==t.type&&(n=e?`Changed <span class="code">${t.key}</span> in model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:`Changed ${t.key} in model #${t.index+1}: ${this.paramsToString(t.params)}`),n}resetRanges(){this.previousRanges&&Object.assign(this,this.previousRanges)}}function PA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",25),Fo(2,"Matched or independent?"),Ks(),Zs(3,"select",26),so("ngModelChange",(function(e){return Qe(t),lo().model.matched=e})),Js(4,"option"),Zs(5,"option",13),Fo(6,"Matched or paired"),Ks(),Zs(7,"option",27),Fo(8,"Independent"),Ks(),Ks(),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.model.matched)}}function RA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",28),Fo(2,"Case control?"),Ks(),Zs(3,"select",29),so("ngModelChange",(function(e){return Qe(t),lo().model.case=e})),Js(4,"option"),Zs(5,"option",30),Fo(6,"Case control"),Ks(),Zs(7,"option",31),Fo(8,"Prospective"),Ks(),Ks(),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.model.case)}}function AA(t,e){1&t&&(Zs(0,"option",37),Fo(1,"Odds ratio"),Ks())}function OA(t,e){1&t&&(Zs(0,"option",38),Fo(1,"Relative risk"),Ks())}function IA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",32),Fo(2,"How is the alternative hypothesis expressed?"),Ks(),Zs(3,"select",33),so("ngModelChange",(function(e){return Qe(t),lo().model.expressed=e})),Js(4,"option"),Zs(5,"option",34),Fo(6,"Two proportions"),Ks(),Bs(7,AA,2,0,"option",35),Bs(8,OA,2,0,"option",36),Ks(),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.model.expressed),Nr(4),Ys("ngIf","caseControl"==t.model.case),Nr(1),Ys("ngIf","prospective"==t.model.case)}}function DA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",39),Fo(2,"Uncorrected chi-square or Fisher's exact test?"),Ks(),Zs(3,"select",40),so("ngModelChange",(function(e){return Qe(t),lo().model.method=e})),Js(4,"option"),Zs(5,"option",41),Fo(6,"Uncorrected chi-square test"),Ks(),Zs(7,"option",42),Fo(8,"Fisher's exact test"),Ks(),Ks(),Ks()}if(2&t){const t=lo();Nr(3),Ys("ngModel",t.model.method)}}function jA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",49),Fo(2," Power "),Ks(),Zs(3,"input",50),so("ngModelChange",(function(e){return Qe(t),lo(2).model.power=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.power)}}function NA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",51),Fo(2," Sample size ("),Zs(3,"i"),Fo(4,"n"),Ks(),Fo(5,") "),Ks(),Zs(6,"input",52),so("ngModelChange",(function(e){return Qe(t),lo(2).model.n=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(6),Ys("ngModel",t.model.n)}}function FA(t,e){1&t&&(Zs(0,"label",53),Fo(1," Probability of exposure in controls ("),Zs(2,"i"),Fo(3,"p"),Zs(4,"sub"),Fo(5,"0"),Ks(),Ks(),Fo(6,") "),Ks())}function LA(t,e){1&t&&(Zs(0,"label",53),Fo(1," Probability of the outcome for a control patient ("),Zs(2,"i"),Fo(3,"p"),Zs(4,"sub"),Fo(5,"0"),Ks(),Ks(),Fo(6,") "),Ks())}function $A(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",54),Fo(2," Probability of the outcome for an experimental patient ("),Zs(3,"i"),Fo(4,"p"),Zs(5,"sub"),Fo(6,"1"),Ks(),Ks(),Fo(7,") "),Ks(),Zs(8,"input",55),so("ngModelChange",(function(e){return Qe(t),lo(2).model.p1=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(8),Ys("ngModel",t.model.p1)}}function VA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",56),Fo(2," Relative risk of failure for experimental subjects relative to controls ("),Zs(3,"i"),Fo(4,"R"),Ks(),Fo(5,") "),Ks(),Zs(6,"input",57),so("ngModelChange",(function(e){return Qe(t),lo(2).model.r=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(6),Ys("ngModel",t.model.r)}}function zA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",58),Fo(2," Correlation coefficient for exposure (\u03c6) "),Ks(),Zs(3,"input",59),so("ngModelChange",(function(e){return Qe(t),lo(2).model.phi=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.phi)}}function UA(t,e){if(1&t){const t=no();Zs(0,"div",24),Zs(1,"label",60),Fo(2," Odds ratio of exposure (\u03c8) "),Ks(),Zs(3,"input",61),so("ngModelChange",(function(e){return Qe(t),lo(2).model.psi=e})),Ks(),Ks()}if(2&t){const t=lo(2);Nr(3),Ys("ngModel",t.model.psi)}}function HA(t,e){if(1&t){const t=no();Zs(0,"div"),Zs(1,"div",24),Zs(2,"label",43),Fo(3," Type I Error (\u03b1) "),Ks(),Zs(4,"input",44),so("ngModelChange",(function(e){return Qe(t),lo().model.alpha=e})),Ks(),Ks(),Bs(5,jA,4,1,"div",21),Bs(6,NA,7,1,"div",21),Zs(7,"div",24),Bs(8,FA,7,0,"label",45),Bs(9,LA,7,0,"label",45),Zs(10,"input",46),so("ngModelChange",(function(e){return Qe(t),lo().model.p0=e})),Ks(),Ks(),Bs(11,$A,9,1,"div",21),Zs(12,"div",24),Zs(13,"label",47),Fo(14," Ratio of control/experimental subjects ("),Zs(15,"i"),Fo(16,"m"),Ks(),Fo(17,") "),Ks(),Zs(18,"input",48),so("ngModelChange",(function(e){return Qe(t),lo().model.m=e})),Ks(),Ks(),Bs(19,VA,7,1,"div",21),Bs(20,zA,4,1,"div",21),Bs(21,UA,4,1,"div",21),Ks()}if(2&t){const t=lo();Nr(4),Ys("ngModel",t.model.alpha),Nr(1),Ys("ngIf","power"!=t.model.output),Nr(1),Ys("ngIf","sampleSize"!=t.model.output),Nr(2),Ys("ngIf","caseControl"==t.model.case),Nr(1),Ys("ngIf","prospective"==t.model.case),Nr(1),Ys("ngModel",t.model.p0),Nr(1),Ys("ngIf","detAlt"!=t.model.output&&"independent"==t.model.matched&&"twoProportions"==t.model.expressed),Nr(7),Ys("ngModel",t.model.m),Nr(1),Ys("ngIf","detAlt"!=t.model.output&&"independent"==t.model.matched&&"prospective"==t.model.case&&"relativeRisk"==t.model.expressed),Nr(1),Ys("ngIf","matched"==t.model.matched),Nr(1),Ys("ngIf","detAlt"!=t.model.output&&("matched"==t.model.matched||"caseControl"==t.model.case&&"oddsRatio"==t.model.expressed))}}function BA(t,e){if(1&t&&(Zs(0,"div",62),Zs(1,"button",63),Fo(2," Calculate "),Ks(),Ks()),2&t){lo();const t=qs(2);Nr(1),Ys("disabled",!t.form.valid)}}let qA=(()=>{class t extends Jw{constructor(t,e){super(),this.route=t,this.dichotService=e}ngOnInit(){this.model=new CA}onSubmit(){let t=new kA(this.dichotService);t.addModel(this.model).subscribe(()=>{this.calculate.emit(t)})}onToggleHelp(){this.toggleHelp.emit()}useExample(t){switch(t){case"matched":this.model.output=yA.Power,this.model.matched=bA.Matched,this.model.case=wA.CaseControl,this.model.expressed=void 0,this.model.method=void 0,this.model.alpha=.05,this.model.n=400,this.model.p0=.3,this.model.m=1,this.model.phi=.7,this.model.psi=2;break;case"ind-1":this.model.output=yA.Power,this.model.matched=bA.Independent,this.model.case=wA.Prospective,this.model.expressed=xA.TwoProportions,this.model.method=_A.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.p1=.5,this.model.m=1;break;case"ind-2":this.model.output=yA.Power,this.model.matched=bA.Independent,this.model.case=wA.Prospective,this.model.expressed=xA.RelativeRisk,this.model.method=_A.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.r=.5,this.model.m=1;break;case"ind-3":this.model.output=yA.Power,this.model.matched=bA.Independent,this.model.case=wA.CaseControl,this.model.expressed=xA.OddsRatio,this.model.method=_A.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.psi=.5,this.model.m=1}}showCalculateButton(){return void 0!==this.model.output&&(this.model.matched===bA.Matched&&void 0!==this.model.case||this.model.matched===bA.Independent&&void 0!==this.model.case&&void 0!==this.model.expressed&&void 0!==this.model.method)}}return t.\u0275fac=function(e){return new(e||t)(Ws(Vg),Ws(SA))},t.\u0275cmp=pe({type:t,selectors:[["dichot-start"]],features:[Bo],decls:37,vars:7,consts:[[1,"d-flex","flex-column","h-100"],[1,"h-100",3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","dichot-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","dichot-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","matched"],["value","ind-1"],["value","ind-2"],["value","ind-3"],["id","dichot-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["class","form-group",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],[1,"form-group"],["for","dichot-start-matched"],["id","dichot-start-matched","required","","name","matched",1,"form-control",3,"ngModel","ngModelChange"],["value","independent"],["for","dichot-start-case"],["id","dichot-start-case","required","","name","case",1,"form-control",3,"ngModel","ngModelChange"],["value","caseControl"],["value","prospective"],["for","dichot-start-expressed"],["id","dichot-start-expressed","required","","name","expressed",1,"form-control",3,"ngModel","ngModelChange"],["value","twoProportions"],["value","oddsRatio",4,"ngIf"],["value","relativeRisk",4,"ngIf"],["value","oddsRatio"],["value","relativeRisk"],["for","dichot-start-method"],["id","dichot-start-method","required","","name","method",1,"form-control",3,"ngModel","ngModelChange"],["value","chiSquare"],["value","fishers"],["for","dichot-start-alpha"],["id","dichot-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0",4,"ngIf"],["id","dichot-start-p0","type","number","min","0.01","required","","name","p0",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-m"],["id","dichot-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-power"],["id","dichot-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-n"],["id","dichot-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0"],["for","dichot-start-p1"],["id","dichot-start-p1","type","number","min","0.01","required","","name","p1",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-r"],["id","dichot-start-r","type","number","min","0.01","required","","name","r",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-phi"],["id","dichot-start-phi","type","number","min","0","required","","name","phi",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-psi"],["id","dichot-start-psi","type","number","min","0","required","","name","psi",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){if(1&t){const t=no();Zs(0,"div",0),Zs(1,"form",1,2),so("ngSubmit",(function(){return e.onSubmit()})),Zs(3,"div",3),Zs(4,"div",4),Zs(5,"div",5),Zs(6,"div",6),Zs(7,"label",7),Fo(8," What do you want to know? "),Zs(9,"button",8),so("click",(function(){return e.onToggleHelp()})),Ks(),Ks(),Ks(),Zs(10,"div",9),Zs(11,"select",10,11),so("change",(function(){Qe(t);const n=qs(12);return e.useExample(n.value)})),Zs(13,"option",12),Fo(14,"Use an example:"),Ks(),Zs(15,"option",13),Fo(16,"Matched / Case Control"),Ks(),Zs(17,"option",14),Fo(18,"Indep. / Prospective / Two Prop."),Ks(),Zs(19,"option",15),Fo(20,"Indep. / Prospective / Rel. Risk"),Ks(),Zs(21,"option",16),Fo(22,"Indep. / Case Control / Odds Ratio"),Ks(),Ks(),Ks(),Ks(),Zs(23,"select",17),so("ngModelChange",(function(t){return e.model.output=t})),Js(24,"option"),Zs(25,"option",18),Fo(26,"Power"),Ks(),Zs(27,"option",19),Fo(28,"Sample size"),Ks(),Zs(29,"option",20),Fo(30,"Detectable alternative"),Ks(),Ks(),Ks(),Bs(31,PA,9,1,"div",21),Bs(32,RA,9,1,"div",21),Bs(33,IA,9,3,"div",21),Bs(34,DA,9,1,"div",21),Bs(35,HA,22,11,"div",22),Ks(),Bs(36,BA,3,1,"div",23),Ks(),Ks()}2&t&&(Nr(23),Ys("ngModel",e.model.output),Nr(8),Ys("ngIf",e.model.output),Nr(1),Ys("ngIf",e.model.output),Nr(1),Ys("ngIf",e.model.output&&"independent"==e.model.matched),Nr(1),Ys("ngIf",e.model.output&&"independent"==e.model.matched),Nr(1),Ys("ngIf",e.model.output&&e.model.matched&&e.model.case&&("matched"==e.model.matched||e.model.expressed&&e.model.method)),Nr(1),Ys("ngIf",e.showCalculateButton()))},directives:[hb,dv,nb,jv,$v,Dv,pb,hv,ub,Iu,Sv,iv],styles:["[_nghost-%COMP%]{height:100%}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),t})();function WA(t,e){if(1&t){const t=no();Zs(0,"div",10),Zs(1,"div",11),Zs(2,"label",12),Fo(3,"Name:"),Ks(),Zs(4,"input",13),so("ngModelChange",(function(e){return Qe(t),lo().model.name=e})),Ks(),Ks(),Zs(5,"button",14),so("click",(function(){return Qe(t),lo().onRemoveButtonClicked()})),Js(6,"i",15),Fo(7," Remove "),Ks(),Ks()}if(2&t){const t=lo();Nr(2),fo("for","dichot-project-model-",t.index,"-name"),Nr(2),fo("id","dichot-project-model-",t.index,"-name"),Ys("ngModel",t.model.name)}}function GA(t,e){1&t&&(Zs(0,"div",17),Fo(1," Probability of exposure in controls ("),Zs(2,"i"),Fo(3,"p"),Zs(4,"sub"),Fo(5,"0"),Ks(),Ks(),Fo(6,") "),Ks())}function XA(t,e){1&t&&(Zs(0,"div",17),Fo(1," Probability of the outcome for a control patient ("),Zs(2,"i"),Fo(3,"p"),Zs(4,"sub"),Fo(5,"0"),Ks(),Ks(),Fo(6,") "),Ks())}function YA(t,e){if(1&t&&(Bs(0,GA,7,0,"div",16),Bs(1,XA,7,0,"div",16)),2&t){const t=lo();Ys("ngIf","caseControl"==t.model.case),Nr(1),Ys("ngIf","prospective"==t.model.case)}}function QA(t,e){1&t&&(Zs(0,"div",17),Fo(1," Probability of the outcome for an experimental patient ("),Zs(2,"i"),Fo(3,"p"),Zs(4,"sub"),Fo(5,"1"),Ks(),Ks(),Fo(6,") "),Ks())}function ZA(t,e){if(1&t){const t=no();Zs(0,"div",2),Zs(1,"app-range-slider",20),so("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("p1",e)})),il(2,"round"),Bs(3,QA,7,0,"ng-template",7),Ks(),Ks()}if(2&t){const t=lo(2);Nr(1),Ys("min",t.min.p1)("max",t.max.p1)("hard-min",.01)("ngModel",sl(2,4,t.model.p1))}}function KA(t,e){if(1&t){const t=no();Zs(0,"div",21),Zs(1,"div",22),Zs(2,"div",17),Fo(3," Probability of the outcome for an experimental patient ("),Zs(4,"i"),Fo(5,"p"),Zs(6,"sub"),Fo(7,"1"),Ks(),Ks(),Fo(8,") "),Zs(9,"strong"),Fo(10,"(Computed value)"),Ks(),Ks(),Zs(11,"div",23),Zs(12,"div",24),Zs(13,"input",25),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(14,"label",26),Fo(15),Ks(),Ks(),Zs(16,"div"),Zs(17,"input",27),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(18,"label",26),Fo(19),Ks(),Ks(),Ks(),Ks(),Ks()}if(2&t){const t=lo(2);Nr(13),fo("id","dichot-project-model-",t.index,"-det-alt-which-lower"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Nr(1),$o(" ",t.model.p1Alt," (lower) "),Nr(2),fo("id","dichot-project-model-",t.index,"-det-alt-which-upper"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Nr(1),$o(" ",t.model.p1," (upper) ")}}function JA(t,e){if(1&t&&(Zs(0,"div",1),Bs(1,ZA,4,6,"div",18),Bs(2,KA,20,8,"div",19),Ks()),2&t){const t=lo();Nr(1),Ys("ngIf",!t.isOutput("detAlt")),Nr(1),Ys("ngIf",t.isOutput("detAlt"))}}function tO(t,e){1&t&&(Zs(0,"div",17),Fo(1," Ratio of control/experimental subjects ("),Zs(2,"i"),Fo(3,"m"),Ks(),Fo(4,") "),Ks())}function eO(t,e){1&t&&(Zs(0,"div",17),Fo(1," Relative risk of failure for experimental subjects relative to controls ("),Zs(2,"i"),Fo(3,"R"),Ks(),Fo(4,") "),Ks())}function nO(t,e){if(1&t){const t=no();Zs(0,"div",2),Zs(1,"app-range-slider",28),so("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("r",e)})),il(2,"round"),Bs(3,eO,5,0,"ng-template",7),Ks(),Ks()}if(2&t){const t=lo(2);Nr(1),Ys("min",t.min.r)("max",t.max.r)("hard-min",.01)("ngModel",sl(2,4,t.model.r))}}function rO(t,e){if(1&t){const t=no();Zs(0,"div",21),Zs(1,"div",22),Zs(2,"div",17),Fo(3," Relative risk of failure for experimental subjects relative to controls ("),Zs(4,"i"),Fo(5,"R"),Ks(),Fo(6,") "),Zs(7,"strong"),Fo(8,"(Computed value)"),Ks(),Ks(),Zs(9,"div",23),Zs(10,"div",24),Zs(11,"input",25),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(12,"label",26),Fo(13),Ks(),Ks(),Zs(14,"div"),Zs(15,"input",27),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(16,"label",26),Fo(17),Ks(),Ks(),Ks(),Ks(),Ks()}if(2&t){const t=lo(2);Nr(11),fo("id","dichot-project-model-",t.index,"-det-alt-which-lower"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Nr(1),$o(" ",t.model.rAlt," (lower) "),Nr(2),fo("id","dichot-project-model-",t.index,"-det-alt-which-upper"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Nr(1),$o(" ",t.model.r," (upper) ")}}function iO(t,e){if(1&t&&(Zs(0,"div",1),Bs(1,nO,4,6,"div",18),Bs(2,rO,18,8,"div",19),Ks()),2&t){const t=lo();Nr(1),Ys("ngIf",!t.isOutput("detAlt")),Nr(1),Ys("ngIf",t.isOutput("detAlt"))}}function sO(t,e){1&t&&(Zs(0,"div",17),Fo(1," Correlation coefficient for exposure (\u03c6) "),Ks())}function oO(t,e){if(1&t){const t=no();Zs(0,"div",1),Zs(1,"div",2),Zs(2,"app-range-slider",29),so("ngModelChange",(function(e){return Qe(t),lo().changeModel("phi",e)})),il(3,"round"),Bs(4,sO,2,0,"ng-template",7),Ks(),Ks(),Ks()}if(2&t){const t=lo();Nr(2),Ys("min",t.min.phi)("max",t.max.phi)("hard-min",.01)("ngModel",sl(3,4,t.model.phi))}}function aO(t,e){1&t&&(Zs(0,"div",17),Fo(1," Odds ratio of exposure (\u03c8) "),Ks())}function lO(t,e){if(1&t){const t=no();Zs(0,"div",2),Zs(1,"app-range-slider",30),so("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("psi",e)})),il(2,"round"),Bs(3,aO,2,0,"ng-template",7),Ks(),Ks()}if(2&t){const t=lo(2);Nr(1),Ys("min",t.min.psi)("max",t.max.psi)("hard-min",.01)("ngModel",sl(2,4,t.model.psi))}}function cO(t,e){if(1&t){const t=no();Zs(0,"div",21),Zs(1,"div",22),Zs(2,"div",17),Fo(3," Odds ratio of exposure (\u03c8) "),Zs(4,"strong"),Fo(5,"(Computed value)"),Ks(),Ks(),Zs(6,"div",23),Zs(7,"div",24),Zs(8,"input",25),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(9,"label",26),Fo(10),il(11,"number"),Ks(),Ks(),Zs(12,"div"),Zs(13,"input",27),so("ngModelChange",(function(e){return Qe(t),lo(2).model.detAltMode=e}))("ngModelChange",(function(e){return Qe(t),lo(2).changeModel("detAltMode",e)})),Ks(),Zs(14,"label",26),Fo(15),il(16,"number"),Ks(),Ks(),Ks(),Ks(),Ks()}if(2&t){const t=lo(2);Nr(8),fo("id","dichot-project-model-",t.index,"-det-alt-which-lower"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Nr(1),$o(" ",ol(11,8,t.model.psiAlt,"1.2-2")," (lower) "),Nr(3),fo("id","dichot-project-model-",t.index,"-det-alt-which-upper"),Ys("ngModel",t.model.detAltMode),Nr(1),fo("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Nr(1),$o(" ",ol(16,11,t.model.psi,"1.2-2")," (upper) ")}}function uO(t,e){if(1&t&&(Zs(0,"div",1),Bs(1,lO,4,6,"div",18),Bs(2,cO,17,14,"div",19),Ks()),2&t){const t=lo();Nr(1),Ys("ngIf",!t.isOutput("detAlt")),Nr(1),Ys("ngIf",t.isOutput("detAlt"))}}let hO=(()=>{class t{constructor(t){this.palette=t,this.modelChanged=new cl,this.remove=new cl}ngOnInit(){this.model=this.project.getModel(this.index),this.color=this.palette.getColor(this.index),this.initializeSliderRanges()}changeModel(t,e){this.project.updateModel(this.index,t,e).subscribe(()=>{"alpha"==t&&this.calculateAlphaRange(),this.updateSliderRanges(),this.modelChanged.emit()})}isOutput(t){return this.model.output===t}onRemoveButtonClicked(){this.remove.emit()}calculateAlphaRange(){let t=Math.floor(Math.log10(this.model.alpha));t>-2&&(t=-2),this.min.alpha=Math.pow(10,t),this.max.alpha=1-this.min.alpha}initializeSliderRanges(){this.min=new CA(this.model),this.max=new CA(this.model),this.calculateAlphaRange(),this.min.power=.01,this.max.power=.99,this.initializeSliderRange("n"),this.initializeSliderRange("p0"),this.initializeSliderRange("m"),this.model.matched===bA.Matched?(this.initializeSliderRange("phi"),this.initializeSliderRange("psi")):this.model.matched===bA.Independent&&(this.model.expressed===xA.TwoProportions?this.initializeSliderRange("p1"):this.model.expressed===xA.RelativeRisk?this.initializeSliderRange("r"):this.model.expressed===xA.OddsRatio&&this.initializeSliderRange("psi"))}initializeSliderRange(t){let e=this.model[t],n=dk([.5*e,1.5*e],a_);this.min[t]=n[0],this.max[t]=n[1]}updateSliderRanges(){this.updateSliderRange("n"),this.updateSliderRange("p0"),this.updateSliderRange("m"),this.model.matched===bA.Matched?(this.updateSliderRange("phi"),this.updateSliderRange("psi")):this.model.matched===bA.Independent&&(this.model.expressed===xA.TwoProportions?this.updateSliderRange("p1"):this.model.expressed===xA.RelativeRisk?this.updateSliderRange("r"):this.model.expressed===xA.OddsRatio&&this.updateSliderRange("psi"))}updateSliderRange(t){let e=this.model[t];e<this.min[t]?this.min[t]=Math.floor(e):e>this.max[t]&&(this.max[t]=Math.ceil(e))}}return t.\u0275fac=function(e){return new(e||t)(Ws(fk))},t.\u0275cmp=pe({type:t,selectors:[["dichot-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:26,vars:44,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","step","hard-min","hard-min-inclusive","hard-max","hard-max-inclusive","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","ngModel","ngModelChange"],["name","p0",3,"min","max","hard-min","ngModel","ngModelChange"],["rsLabel",""],["class","grow-horiz",4,"ngIf"],["name","m",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["class","label",4,"ngIf"],[1,"label"],["class","grow-vert range-slider",4,"ngIf"],["class","grow-vert output",4,"ngIf"],["name","p1",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"grow-vert","output"],[1,"det-alt","p-1"],[1,"d-flex","flex-row","mt-2"],[1,"ml-2","mr-4"],["type","radio","value","lower",3,"id","ngModel","ngModelChange"],[1,"pl-1",3,"for"],["type","radio","value","upper",3,"id","ngModel","ngModelChange"],["name","r",3,"min","max","hard-min","ngModel","ngModelChange"],["name","phi",3,"min","max","hard-min","ngModel","ngModelChange"],["name","psi",3,"min","max","hard-min","ngModel","ngModelChange"]],template:function(t,e){1&t&&(Bs(0,WA,8,3,"div",0),Zs(1,"div",1),Zs(2,"div",2),Zs(3,"app-range-slider",3),so("ngModelChange",(function(t){return e.changeModel("alpha",t)})),Ks(),Ks(),Ks(),Zs(4,"div",1),Zs(5,"div",2),Zs(6,"app-range-slider",4),so("ngModelChange",(function(t){return e.changeModel("n",t)})),il(7,"ceil"),Ks(),Ks(),Ks(),Zs(8,"div",1),Zs(9,"div",2),Zs(10,"app-range-slider",5),so("ngModelChange",(function(t){return e.changeModel("power",t)})),il(11,"round"),Ks(),Ks(),Ks(),Zs(12,"div",1),Zs(13,"div",2),Zs(14,"app-range-slider",6),so("ngModelChange",(function(t){return e.changeModel("p0",t)})),il(15,"round"),Bs(16,YA,2,2,"ng-template",7),Ks(),Ks(),Ks(),Bs(17,JA,3,2,"div",8),Zs(18,"div",1),Zs(19,"div",2),Zs(20,"app-range-slider",9),so("ngModelChange",(function(t){return e.changeModel("m",t)})),il(21,"round"),Bs(22,tO,5,0,"ng-template",7),Ks(),Ks(),Ks(),Bs(23,iO,3,2,"div",8),Bs(24,oO,5,6,"div",8),Bs(25,uO,3,2,"div",8)),2&t&&(Ys("ngIf",e.project.models.length>1),Nr(3),Ys("min",e.min.alpha)("max",e.max.alpha)("step",e.min.alpha)("hard-min",0)("hard-min-inclusive",!1)("hard-max",1)("hard-max-inclusive",!1)("ngModel",e.model.alpha),Nr(1),So("output",e.isOutput("sampleSize")),Nr(2),Ys("min",e.min.n)("max",e.max.n)("hard-min",1)("is-output","sampleSize"==e.model.output)("ngModel",sl(7,36,e.model.n)),Nr(2),So("output",e.isOutput("power")),Nr(2),Ys("min",e.min.power)("max",e.max.power)("hard-min",e.min.power)("hard-max",e.max.power)("is-output","power"==e.model.output)("ngModel",sl(11,38,e.model.power)),Nr(4),Ys("min",e.min.p0)("max",e.max.p0)("hard-min",.01)("ngModel",sl(15,40,e.model.p0)),Nr(3),Ys("ngIf","independent"==e.model.matched&&"twoProportions"==e.model.expressed),Nr(3),Ys("min",e.min.m)("max",e.max.m)("hard-min",.01)("ngModel",sl(21,42,e.model.m)),Nr(3),Ys("ngIf","independent"==e.model.matched&&"relativeRisk"==e.model.expressed),Nr(1),Ys("ngIf","matched"==e.model.matched),Nr(1),Ys("ngIf","matched"==e.model.matched||"caseControl"==e.model.case&&"oddsRatio"==e.model.expressed))},directives:[Iu,eR,hv,ub,JP,iv,Ev],pipes:[ZR,nR,Vu],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .det-alt[_ngcontent-%COMP%], .output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),t})();const dO=["tabset"];function pO(t,e){if(1&t&&(Zs(0,"p"),Fo(1),Ks()),2&t){const t=lo(2);Nr(1),$o(" Matched / ",t.project.describeCase()," ")}}function fO(t,e){if(1&t&&(Zs(0,"p"),Fo(1),Ks()),2&t){const t=lo(2);Nr(1),zo(" Independent / ",t.project.describeCase()," / ",t.project.describeExpressed()," / ",t.project.describeMethod()," ")}}function gO(t,e){if(1&t){const t=no();Zs(0,"li",16),Zs(1,"a",17),so("click",(function(){Qe(t);const n=e.index;return lo(3).selectModel(n)})),Js(2,"i",18),Ks(),Ks()}if(2&t){const t=e.index,n=lo(3);Nr(1),So("active",t==n.project.selectedIndex),Nr(1),Co("color",n.getColor(t))}}function mO(t,e){if(1&t&&(Zs(0,"ul",14),Bs(1,gO,3,4,"li",15),Ks()),2&t){const t=lo(2);Nr(1),Ys("ngForOf",t.project.models)("ngForTrackBy",t.trackByIndex)}}function yO(t,e){if(1&t){const t=no();Zs(0,"div",19),Zs(1,"dichot-project-model",20),so("modelChanged",(function(){return Qe(t),lo(2).onModelChanged()}))("remove",(function(){Qe(t);const n=e.index;return lo(2).onModelRemove(n)})),Ks(),Ks()}if(2&t){const t=e.index,n=lo(2);So("active",t==n.project.selectedIndex)("tab",n.project.models.length>1),Nr(1),Ys("project",n.project)("index",t)}}function vO(t,e){if(1&t){const t=no();Zs(0,"div",1),Bs(1,pO,2,1,"p",2),Bs(2,fO,2,3,"p",2),Zs(3,"div",3),Zs(4,"div",4),Zs(5,"label",5),Fo(6,"Output:"),Ks(),Zs(7,"select",6),so("ngModelChange",(function(e){return Qe(t),lo().changeOutput(e)})),Zs(8,"option",7),Fo(9,"Power"),Ks(),Zs(10,"option",8),Fo(11,"Sample size"),Ks(),Zs(12,"option",9),Fo(13,"Detectable alternative"),Ks(),Ks(),Ks(),Zs(14,"button",10),so("click",(function(){return Qe(t),lo().addModel()})),Js(15,"i",11),Fo(16," Add line "),Ks(),Ks(),Bs(17,mO,2,2,"ul",12),Bs(18,yO,2,6,"div",13),Ks()}if(2&t){const t=lo();Nr(1),Ys("ngIf","matched"==t.project.getMatched()),Nr(1),Ys("ngIf","independent"==t.project.getMatched()),Nr(3),fo("for","dichot-project-",t.name,"-output"),Nr(2),fo("id","dichot-project-",t.name,"-output"),Ys("ngModel",t.project.getOutput()),Nr(10),Ys("ngIf",t.project.models.length>1),Nr(1),Ys("ngForOf",t.project.models)}}const bO=[{path:"dichot",component:bR,data:{type:Kw.Dichot},children:[{path:"",component:qA},{path:":id",component:(()=>{class t extends t_{constructor(t,e,n,r,i){super(),this.projectService=t,this.plotOptions=e,this.palette=n,this.router=r,this.route=i}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");if(e){let t=parseInt(e)-1;this.name=`${t}`,this.project=this.projectService.getProject(Kw.Dichot,t)}else this.project=void 0;this.project?this.selectedModel=this.project.getModel(this.project.selectedIndex):(this.selectedModel=void 0,this.router.navigate([".."],{relativeTo:this.route})),this.projectSwitched.emit(this.project)})}changeOutput(t){this.project.updateModel(0,"output",t).subscribe(()=>{this.projectChanged.emit()})}selectModel(t){this.project.selectedIndex=t,this.selectedModel=this.project.getModel(t),this.projectChanged.emit()}addModel(){let t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe(()=>{this.project.selectedIndex=this.project.models.length-1,this.projectChanged.emit()})}onModelRemove(t){this.removeModel(t)}removeModel(t){this.project.removeModel(t).subscribe(()=>{this.project.selectedIndex>=this.project.models.length&&this.project.selectedIndex--,this.projectChanged.emit()})}onModelChanged(){this.projectChanged.emit()}trackByIndex(t,e){return t}getColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}}return t.\u0275fac=function(e){return new(e||t)(Ws(Qw),Ws(pk),Ws(fk),Ws(Xm),Ws(Vg))},t.\u0275cmp=pe({type:t,selectors:[["dichot-project"]],viewQuery:function(t,e){var n;1&t&&xl(dO,!0),2&t&&wl(n=El())&&(e.tabset=n.first)},features:[Bo],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[4,"ngIf"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(t,e){1&t&&Bs(0,vO,19,7,"div",0),2&t&&Ys("ngIf",e.project)},directives:[Iu,Dv,hv,ub,jv,$v,Au,hO],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),t})()}]}];let wO=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[SA],imports:[[zu,gb,Zy,Xw,hy.forChild(bO),Yw]]}),t})(),_O=(()=>{class t{constructor(){this.konami=new cl,this.konamiKeys=[38,38,40,40,37,39,37,39,66,65],this.keyIndex=0}onKeyDown(t){Rc.activateKonami&&(t.keyCode===this.konamiKeys[this.keyIndex]?(this.keyIndex++,this.keyIndex===this.konamiKeys.length&&this.konami.emit()):this.keyIndex=0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","appKonami",""]],hostBindings:function(t,e){1&t&&so("keydown",(function(t){return e.onKeyDown(t)}),!1,Un)},outputs:{konami:"konami"}}),t})();const xO=["menu"],CO=function(){return{exact:!0}};function SO(t,e){if(1&t){const t=no();Zs(0,"div",9),so("@mainState.start",(function(){return Qe(t),lo().mainAnimationStart()}))("@mainState.done",(function(){return Qe(t),lo().animationDone()})),Zs(1,"ul",10),Zs(2,"li",11),Zs(3,"a",12),so("click",(function(e){return Qe(t),lo().showTTest(),e.preventDefault()})),Fo(4,"t-test"),Ks(),Ks(),Zs(5,"li",11),Zs(6,"a",13),Fo(7,"z-test"),Ks(),Ks(),Zs(8,"li",11),Zs(9,"a",14),Fo(10,"Dichotomous"),Ks(),Ks(),Zs(11,"li",11),Zs(12,"a",15),Fo(13,"Survival"),Ks(),Ks(),Zs(14,"li",11),Zs(15,"a",16),Fo(16,"Regression"),Ks(),Ks(),Zs(17,"li",11),Zs(18,"a",17),Fo(19,"Mantel-Haenszel"),Ks(),Ks(),Zs(20,"li",11),Zs(21,"a",18),Js(22,"i",19),Ks(),Ks(),Ks(),Ks()}if(2&t){const t=lo(),e=qs(10);Ys("@mainState",t.state),Nr(12),Ys("ngbPopover",e),Nr(3),Ys("ngbPopover",e),Nr(3),Ys("ngbPopover",e),Nr(3),Ys("routerLinkActiveOptions",tl(5,CO))}}function MO(t,e){if(1&t){const t=no();Zs(0,"div",20),so("@ttestState.done",(function(){return Qe(t),lo().animationDone()})),Zs(1,"div",21),Fo(2,"t-test Design:"),Ks(),Zs(3,"ul",10),Zs(4,"li",11),Zs(5,"a",22),Fo(6,"Paired"),Ks(),Ks(),Zs(7,"li",11),Zs(8,"a",23),Fo(9,"Independent"),Ks(),Ks(),Zs(10,"li",11),Zs(11,"a",24),so("click",(function(e){return Qe(t),lo().showMain(),e.preventDefault()})),Js(12,"i",19),Ks(),Ks(),Ks(),Ks()}2&t&&(Ys("@ttestState",lo().state),Nr(11),Ys("routerLinkActiveOptions",tl(2,CO)))}function TO(t,e){1&t&&Fo(0," under development\n")}var EO=function(t){return t.Main="main",t.MainTTest="mainttest",t.TTestInit="ttestinit",t.TTest="ttest",t.TTestMain="ttestmain",t}({});let kO=(()=>{class t{constructor(t){this.router=t,this.urlInitialized=!1,this.state=EO.Main}ngOnInit(){this.router.events.pipe(Xp(t=>t instanceof jf)).subscribe(t=>{this.urlChanged(t.url)})}showTTest(){this.state===EO.Main&&(this.state=EO.MainTTest,this.popoverElement&&this.popoverElement.close())}showMain(){this.state===EO.TTest&&(this.state=EO.TTestMain)}mainAnimationStart(){if(this.state===EO.MainTTest){let t=this.menuElement.nativeElement,e=t.getBoundingClientRect();t.style.width=`${e.width}px`}}animationDone(){this.state===EO.MainTTest?this.state=EO.TTestInit:this.state===EO.TTestMain&&(this.state=EO.Main)}isMainVisible(){return this.state===EO.Main||this.state==EO.MainTTest}isTTestVisible(){return this.state===EO.TTest||this.state===EO.TTestMain||this.state===EO.TTestInit}urlChanged(t){/^\/t-test\//.test(t)?(this.state=EO.TTest,setTimeout(()=>{this.menuElement.nativeElement.style.width="auto"},1e3)):/^\/(z-test|dichot)/.test(t)?(this.state=EO.Main,this.popoverElement&&this.popoverElement.close()):(this.state=EO.Main,!this.urlInitialized&&this.popoverElement&&setTimeout(()=>{this.popoverElement&&this.popoverElement.open()},200)),this.urlInitialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ws(Xm))},t.\u0275cmp=pe({type:t,selectors:[["app-menu"]],viewQuery:function(t,e){var n;1&t&&(_l(xO,!0),xl(Ow,!0)),2&t&&(wl(n=El())&&(e.menuElement=n.first),wl(n=El())&&(e.popoverElement=n.first))},decls:11,vars:2,consts:[[1,"navbar","d-flex","flex-nowrap","flex-row","justify-content-between",2,"flex","0 0 auto"],[1,"navbar-brand"],["src","assets/ps.jpg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["routerLink",""],[1,"d-flex","flex-row","menu"],["menu",""],["class","d-flex flex-row","ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],["underdevelopmentHelp",""],["ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",1,"d-flex","flex-row"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],["routerLink","/z-test","routerLinkActive","active",1,"nav-link"],["routerLink","/dichot","routerLinkActive","active",1,"nav-link"],["href","#","popoverTitle","Survival","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Regression","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Mantel-Haenszel","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"d-flex","flex-row"],[1,"navbar-text","mr-2"],["routerLink","/t-test/paired","routerLinkActive","active",1,"nav-link"],["routerLink","/t-test/ind","routerLinkActive","active",1,"nav-link"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"]],template:function(t,e){1&t&&(Zs(0,"nav",0),Zs(1,"div",1),Js(2,"img",2),Zs(3,"a",3),Fo(4,"Power and Sample Size"),Ks(),Ks(),Zs(5,"div",4,5),Bs(7,SO,23,6,"div",6),Bs(8,MO,13,3,"div",7),Ks(),Ks(),Bs(9,TO,1,0,"ng-template",null,8,Al)),2&t&&(Nr(7),Ys("ngIf",e.isMainVisible()),Nr(1),Ys("ngIf",e.isTTestVisible()))},directives:[cw,Qm,Iu,Ow,Km],styles:[".navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.nav-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.menu[_ngcontent-%COMP%]{justify-content:end;overflow:hidden}"],data:{animation:[bh("mainState",[Ch("main, maininit",xh({opacity:1,transform:"translateX(0)"})),Sh("main => mainttest",[wh("200ms",xh({opacity:0,transform:"translateX(-100%)"}))]),Sh("void => main",[xh({opacity:0,transform:"translateX(-100%)"}),wh("200ms")])]),bh("ttestState",[Ch("ttest",xh({opacity:1,transform:"translateX(0)",flexGrow:0})),Ch("ttestinit",xh({opacity:1,transform:"translateX(0)",flexGrow:1})),Sh("ttest => ttestmain",[wh("200ms",xh({opacity:0,transform:"translateX(-100%)"}))]),Sh("ttestinit => ttest",wh("200ms")),Sh("void => ttest",[xh({opacity:0,transform:"translateX(-100%)"}),wh("200ms")])])]}}),t})();function PO(t,e){if(1&t){const t=no();Zs(0,"audio",2),so("ended",(function(){return Qe(t),lo().audioEnded()})),Js(1,"source",3),Ks()}}let RO=(()=>{class t{constructor(){this.konami=!1}ngOnInit(){}konamiCode(){this.konami=!0}audioEnded(){this.konami=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[["id","app","appKonami","",1,"container-fluid","d-flex","flex-column","h-100",3,"konami"],["autoplay","",3,"ended",4,"ngIf"],["autoplay","",3,"ended"],["src","assets/contra.mp3","type","audio/mpeg"]],template:function(t,e){1&t&&(Zs(0,"div",0),so("konami",(function(){return e.konamiCode()})),Js(1,"app-menu"),Bs(2,PO,2,0,"audio",1),Js(3,"router-outlet"),Ks()),2&t&&(Nr(2),Ys("ngIf",e.konami))},directives:[_O,kO,Iu,ey],styles:[""]}),t})();const AO=[{path:"",component:(()=>{class t{constructor(){this.commitHash=AP.substr(0,7),this.buildTimestamp="2021-02-15T13:32:18-06:00"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-welcome"]],decls:24,vars:4,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-4","d-flex","flex-column","align-items-end"],[1,"mb-3"],["src","assets/ps-large.png"],["src","assets/biostat.jpg"],[2,"font-size","smaller","text-align","center"],[1,"col-8"],[1,"mb-4"],["href","https://vbiostatps.app.vumc.org/"],["href","https://biostat.app.vumc.org/wiki/Main/PowerSampleSize"]],template:function(t,e){1&t&&(Zs(0,"div",0),Zs(1,"div",1),Zs(2,"div",2),Zs(3,"div"),Zs(4,"div",3),Js(5,"img",4),Ks(),Zs(6,"div",3),Js(7,"img",5),Ks(),Zs(8,"div",6),Fo(9),il(10,"date"),Ks(),Ks(),Ks(),Zs(11,"div",7),Zs(12,"p",8),Fo(13," PS is an interactive program for performing power and sample size calculations. It may be run as a web app at "),Zs(14,"a",9),Fo(15,"https://vbiostatps.app.vumc.org/"),Ks(),Fo(16," or downloaded for free. This version can be used for studies with dichotomous or continuous, response measures. An older version, which also handles other designs may be downloaded from "),Zs(17,"a",10),Fo(18,"http://biostat.app.vumc.org/wiki/Main/PowerSampleSize"),Ks(),Fo(19,". Work on expanding the new version to handle all of the designs from the older version are in progress. "),Ks(),Zs(20,"p"),Fo(21,"The alternative hypothesis of interest may be specified either in terms of differing means, or in terms of relative risks or odds ratios. Studies with dichotomous or continuous outcomes may involve either a matched or independent study design. The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. "),Ks(),Zs(22,"p"),Fo(23," The PS program can produce graphs to explore the relationships between power, sample size and detectable alternative hypotheses. It is often helpful to hold one of these variables constant and plot the other two against each other. The program can generate graphs of sample size versus power for a specific alternative hypothesis, sample size versus detectable alternative hypotheses for a specified power, or power versus detectable alternative hypotheses for a specified sample size. Multiple curves can be plotted on a single graphic. "),Ks(),Ks(),Ks(),Ks()),2&t&&(Nr(9),Vo(" Build version: ",e.commitHash," (",sl(10,2,e.buildTimestamp),") "))},pipes:[Lu],styles:[""]}),t})()}];let OO=(()=>{class t{}return t.\u0275mod=ye({type:t,bootstrap:[RO]}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Zw,hP,Bk,fk,pk,Qw],imports:[[yh,Fp,hy.forRoot(AO),Zy,Xw,Yw,mA,wO]]}),t})();Rc.production&&function(){if(fr)throw new Error("Cannot enable prod mode after platform setup.");pr=!1}(),gh().bootstrapModule(OO).catch(t=>console.log(t))}},[[0,0]]]);