(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},fgPD:function(t,e,n){t.exports=function(){"use strict";var t=function(t,n){return e(t.slice(),n)};function e(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var r=t.length;if(r<=1)return t;for(var i=new Array(r),s=1;s<r;s*=2){n(t,e,s,i);var o=t;t=i,i=o}return t}t.inplace=function(t,r){var i=e(t,r);return i!==t&&n(i,null,t.length,t),t};var n=function(t,e,n,r){var i,s,o,a,l,c=t.length,u=0,h=2*n;for(i=0;i<c;i+=h)for(o=(s=i+n)+n,s>c&&(s=c),o>c&&(o=c),a=i,l=s;;)if(a<s&&l<o)e(t[a],t[l])<=0?r[u++]=t[a++]:r[u++]=t[l++];else if(a<s)r[u++]=t[a++];else{if(!(l<o))break;r[u++]=t[l++]}};return t}()},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e);let i=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let s;super(),this._parentSubscriber=t;let o=this;r(e)?s=e:e&&(s=e.next,n=e.error,i=e.complete,e!==a&&(o=Object.create(e),r(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(o(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}function v(...t){return b(t)}function b(t){return 0===t.length?y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=_(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=_(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function _(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let M=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new T(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new T(t,e),t})();class T extends M{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class E extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function R(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=R(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return r=t,t=>{const e=r[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return P(t);if(I(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,r};function j(t,e,n,r,i=new E(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):D(e)(i)}class N extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(t,e))}}class L{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new $(t,this.project,this.thisArg))}}class $ extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function V(t,e){return new w(n=>{const r=new h;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function z(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(I(t))return function(t,e){return new w(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return V(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[A](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(D(t))}function U(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(U((n,r)=>z(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new H(t,n)))}class H{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new E(this,e,n),i=this.destination;i.add(r);const s=j(this,t,void 0,void 0,r);s!==r&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return U(y,t)}function W(t,e){return e?V(t,e):new w(P(t))}function G(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:q(e)(W(t,n))}function X(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Q(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Q extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Z extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return X()(this)}}const K=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(){return new M}function et(){return t=>{return X()((e=tt,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,K);return r.source=t,r.subjectFactory=n,r})(t));var e}}function nt(t){return{toString:t}.toString()}function rt(t,e,n){return nt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const it=rt("Inject",t=>({token:t})),st=rt("Optional"),ot=rt("Self"),at=rt("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ct(t){for(let e in t)if(t[e]===ct)return e;throw Error("Could not find renamed property on target object.")}function ut(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function pt(t){return ft(t,t[mt])||ft(t,t[bt])}function ft(t,e){return e&&e.token===t?e:null}function gt(t){return t&&(t.hasOwnProperty(yt)||t.hasOwnProperty(wt))?t[yt]:null}const mt=ct({"\u0275prov":ct}),yt=ct({"\u0275inj":ct}),vt=ct({"\u0275provFallback":ct}),bt=ct({ngInjectableDef:ct}),wt=ct({ngInjectorDef:ct});function _t(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(_t).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ct=ct({__forward_ref__:ct});function St(t){return t.__forward_ref__=St,t.toString=function(){return _t(this())},t}function Mt(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(Ct)&&t.__forward_ref__===St}const kt="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Pt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt="undefined"!=typeof global&&global,At=kt||Rt||Et||Pt,Ot=ct({"\u0275cmp":ct}),It=ct({"\u0275dir":ct}),Dt=ct({"\u0275pipe":ct}),jt=ct({"\u0275mod":ct}),Nt=ct({"\u0275loc":ct}),Ft=ct({"\u0275fac":ct}),Lt=ct({__NG_ELEMENT_ID__:ct});class $t{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ht({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vt=new $t("INJECTOR",-1),zt={},Ut=/\n/gm,Ht=ct({provide:String,useValue:ct});let Bt,qt=void 0;function Wt(t){const e=qt;return qt=t,e}function Gt(t){const e=Bt;return Bt=t,e}function Xt(t,e=lt.Default){if(void 0===qt)throw new Error("inject() must be called from an injection context");return null===qt?Qt(t,void 0,e):qt.get(t,e&lt.Optional?null:void 0,e)}function Yt(t,e=lt.Default){return(Bt||Xt)(Mt(t),e)}function Qt(t,e,n){const r=pt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${_t(t)}]`)}function Zt(t){const e=[];for(let n=0;n<t.length;n++){const r=Mt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof st||"Optional"===i.ngMetadataName||i===st?n|=lt.Optional:i instanceof at||"SkipSelf"===i.ngMetadataName||i===at?n|=lt.SkipSelf:i instanceof ot||"Self"===i.ngMetadataName||i===ot?n|=lt.Self:t=i instanceof it||i===it?i.token:i}e.push(Yt(t,n))}else e.push(Yt(r))}return e}class Kt{get(t,e=zt){if(e===zt){const e=new Error(`NullInjectorError: No provider for ${_t(t)}!`);throw e.name="NullInjectorError",e}return e}}class Jt{}class te{}function ee(t,e){t.forEach(t=>Array.isArray(t)?ee(t,e):e(t))}function ne(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function re(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ie(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function se(t,e,n){let r=ae(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function oe(t,e){const n=ae(t,e);if(n>=0)return t[1|n]}function ae(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const le=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ce=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),ue={},he=[];let de=0;function pe(t){return nt(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ce.Emulated,id:"c",styles:t.styles||he,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=de++,i.inputs=ve(t.inputs,r),i.outputs=ve(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(fe):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(ge):null,i})}function fe(t){return _e(t)||function(t){return t[It]||null}(t)}function ge(t){return function(t){return t[Dt]||null}(t)}const me={};function ye(t){const e={type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&nt(()=>{me[t.id]=t.type}),e}function ve(t,e){if(null==t)return ue;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const be=pe;function we(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _e(t){return t[Ot]||null}function xe(t,e){return t.hasOwnProperty(Ft)?t[Ft]:null}function Ce(t,e){const n=t[jt]||null;if(!n&&!0===e)throw new Error(`Type ${_t(t)} does not have '\u0275mod' property.`);return n}function Se(t){return Array.isArray(t)&&"object"==typeof t[1]}function Me(t){return Array.isArray(t)&&!0===t[1]}function Te(t){return 0!=(8&t.flags)}function ke(t){return 2==(2&t.flags)}function Ee(t){return 1==(1&t.flags)}function Pe(t){return null!==t.template}function Re(t){return 0!=(512&t[2])}let Ae=void 0;function Oe(t){return!!t.listen}const Ie={createRenderer:(t,e)=>void 0!==Ae?Ae:"undefined"!=typeof document?document:void 0};function De(t){for(;Array.isArray(t);)t=t[0];return t}function je(t,e){return De(e[t+19])}function Ne(t,e){return De(e[t.index])}function Fe(t,e){return t.data[e+19]}function Le(t,e){return t[e+19]}function $e(t,e){const n=e[t];return Se(n)?n:n[0]}function Ve(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ze(t){return 4==(4&t[2])}function Ue(t){return 128==(128&t[2])}function He(t,e){return null===t||null==e?null:t[e]}function Be(t){t[18]=0}const qe={lFrame:pn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function We(){return qe.bindingsEnabled}function Ge(){return qe.lFrame.lView}function Xe(){return qe.lFrame.tView}function Ye(t){qe.lFrame.contextLView=t}function Qe(){return qe.lFrame.previousOrParentTNode}function Ze(t,e){qe.lFrame.previousOrParentTNode=t,qe.lFrame.isParent=e}function Ke(){return qe.lFrame.isParent}function Je(){qe.lFrame.isParent=!1}function tn(){return qe.checkNoChangesMode}function en(t){qe.checkNoChangesMode=t}function nn(){const t=qe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rn(){return qe.lFrame.bindingIndex}function sn(){return qe.lFrame.bindingIndex++}function on(t){const e=qe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function an(t,e){const n=qe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function ln(){return qe.lFrame.currentQueryIndex}function cn(t){qe.lFrame.currentQueryIndex=t}function un(t,e){const n=dn();qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function hn(t,e){const n=dn(),r=t[1];qe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function dn(){const t=qe.lFrame,e=null===t?null:t.child;return null===e?pn(t):e}function pn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function fn(){const t=qe.lFrame;return qe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const gn=fn;function mn(){const t=fn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yn(){return qe.lFrame.selectedIndex}function vn(t){qe.lFrame.selectedIndex=t}function bn(){const t=qe.lFrame;return Fe(t.tView,t.selectedIndex)}function wn(){qe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function _n(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function xn(t,e,n){Mn(t,e,3,n)}function Cn(t,e,n,r){(3&t[2])===n&&Mn(t,e,n,r)}function Sn(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Mn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Tn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Tn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class kn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function En(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Rn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Pn(t){return 3===t||4===t||6===t}function Rn(t){return 64===t.charCodeAt(0)}function An(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||On(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function On(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function In(t){return-1!==t}function Dn(t){return 32767&t}function jn(t){return t>>16}function Nn(t,e){let n=jn(t),r=e;for(;n>0;)r=r[15],n--;return r}function Fn(t){return"string"==typeof t?t:null==t?"":""+t}function Ln(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Fn(t)}const $n=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(At))();function Vn(t){return{name:"document",target:t.ownerDocument}}function zn(t){return t instanceof Function?t():t}let Un=!0;function Hn(t){const e=Un;return Un=t,e}let Bn=0;function qn(t,e){const n=Gn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Wn(r.data,t),Wn(e,null),Wn(r.blueprint,null));const i=Xn(t,e),s=t.injectorIndex;if(In(i)){const t=Dn(i),n=Nn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Wn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Gn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Xn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Yn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[Lt]:n.charCodeAt(0)||0;null==r&&(r=n[Lt]=Bn++);const i=255&r,s=1<<i,o=64&i,a=32&i,l=e.data;128&i?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function Qn(t,e,n,r=lt.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Lt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){un(e,t);try{const t=i();if(null!=t||r&lt.Optional)return t;throw new Error(`No provider for ${Ln(n)}!`)}finally{gn()}}else if("number"==typeof i){if(-1===i)return new rr(t,e);let s=null,o=Gn(t,e),a=-1,l=r&lt.Host?e[16][6]:null;for((-1===o||r&lt.SkipSelf)&&(a=-1===o?Xn(t,e):e[o+8],nr(r,!1)?(s=e[1],o=Dn(a),e=Nn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(er(i,o,t.data)){const t=Kn(o,e,n,s,r,l);if(t!==Zn)return t}nr(r,e[1].data[o+8]===l)&&er(i,o,e)?(s=t,o=Dn(a),e=Nn(a,e)):o=-1}}}if(r&lt.Optional&&void 0===i&&(i=null),0==(r&(lt.Self|lt.Host))){const t=e[9],s=Gt(void 0);try{return t?t.get(n,i,r&lt.Optional):Qt(n,i,r&lt.Optional)}finally{Gt(s)}}if(r&lt.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ln(n)}]`)}const Zn={};function Kn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=Jn(a,o,n,null==r?ke(a)&&Un:r!=o&&3===a.type,i&lt.Host&&s===a);return null!==l?tr(e,o,l,a):Zn}function Jn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=o[l];if(t&&Pe(t)&&t.type===n)return l}return null}function tr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof kn){const o=i;if(o.resolving)throw new Error(`Circular dep for ${Ln(s[n])}`);const a=Hn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Gt(o.injectImpl)),un(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Gt(l),Hn(a),o.resolving=!1,gn()}}return i}function er(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function nr(t,e){return!(t&lt.Self||t&lt.Host&&e)}class rr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qn(this._tNode,this._lView,t,void 0,e)}}function ir(t){return nt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ft]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(Mt(n));return e?e():null};let r=xe(n);if(null===r){const t=gt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function sr(t){return t.ngDebugContext}function or(t){return t.ngOriginalError}function ar(t,...e){t.error(...e)}class lr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ar}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?sr(t)?sr(t):this._findContext(or(t)):null}_findOriginalError(t){let e=or(t);for(;e&&or(e);)e=or(e);return e}}class cr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function ur(t){return t instanceof cr?t.changingThisBreaksApplicationSecurity:t}let hr=!0,dr=!1;function pr(){return dr=!0,hr}const fr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,gr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,mr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();function yr(t){const e=function(){const t=Ge();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":function(t,e){const n=function(t){return t instanceof cr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ur(t):(n=Fn(t),(n=String(n)).match(fr)||n.match(gr)?n:(pr()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function vr(t,e){t.__ngContext__=e}function br(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function wr(){throw new Error("Cannot mix multi providers and regular providers")}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function xr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Cr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Sr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Pn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Cr(t,l,n)||""===l&&1===e.length){if(Mr(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!xr(t.attrs,c,n)){if(Mr(r))return!1;o=!0}continue}const u=Tr(8&r?"class":l,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(Mr(r))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,c,0)||2&r&&c!==t){if(Mr(r))return!1;o=!0}}}}else{if(!o&&!Mr(r)&&!Mr(l))return!1;if(o&&Mr(l))continue;o=!1,r=l|1&r}}return Mr(r)||o}function Mr(t){return 0==(1&t)}function Tr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function kr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Sr(t,e[r],n))return!0;return!1}function Er(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Pr(t,e){return t?":not("+e.trim()+")":e}function Rr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Mr(o)||(e+=Pr(s,i),i=""),r=o,s=s||!Mr(r);n++}return""!==i&&(e+=Pr(s,i)),e}const Ar={};function Or(t){const e=t[3];return Me(e)?e[3]:e}function Ir(t){Dr(Xe(),Ge(),yn()+t,tn())}function Dr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&xn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Cn(e,r,0,n)}vn(n)}function jr(t,e){return t<<17|e<<2}function Nr(t){return t>>17&32767}function Fr(t){return 2|t}function Lr(t){return(131068&t)>>2}function $r(t,e){return-131069&t|e<<2}function Vr(t){return 1|t}function zr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];cn(i),n.contentQueries(2,e[s],s)}}}function Ur(t,e,n){return Oe(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Hr(t,e,n,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Be(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Br(t,e,n,r,i,s){const o=n+19,a=t.data[o]||function(t,e,n,r,i,s){const o=Qe(),a=Ke(),l=a?o:o&&o.parent,c=t.data[n]=ti(0,l&&l!==e?l:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return Ze(a,!0),a}function qr(t,e,n){hn(e,e[6]);try{const r=t.viewQuery;null!==r&&Ci(1,r,n);const i=t.template;null!==i&&Xr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zr(t,e),t.staticViewQueries&&Ci(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)vi(t,e[n])}(e,s)}finally{e[2]&=-5,mn()}}function Wr(t,e,n,r){const i=e[2];if(256==(256&i))return;hn(e,e[6]);const s=tn();try{Be(e),qe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Xr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&xn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Cn(e,n,0,null),Sn(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Me(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];Ue(n)&&Wr(r,n,r.template,n[8])}0!=(1&n)&&mi(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&zr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&xn(e,n)}else{const n=t.contentHooks;null!==n&&Cn(e,n,1),Sn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,vn(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(an(r,i),o(2,e[i])),i++)}}}finally{vn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Ci(2,l,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&xn(e,n)}else{const n=t.viewHooks;null!==n&&Cn(e,n,2),Sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{mn()}}function Gr(t,e,n,r){const i=e[10],s=!tn(),o=ze(e);try{s&&!o&&i.begin&&i.begin(),o&&qr(t,e,r),Wr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Xr(t,e,n,r,i){const s=yn();try{vn(-1),2&r&&e.length>19&&Dr(t,e,0,tn()),n(r,i)}finally{vn(s)}}function Yr(t,e,n){if(Te(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Qr(t,e,n){We()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||qn(n,e),vr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Pe(r);s&&di(e,n,r);const l=tr(e,t,a,n);vr(l,e),null!==o&&pi(0,a-i,l,r,0,o),s&&($e(n.index,e)[8]=l)}}(t,e,n,Ne(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{vn(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?oi(r,i):o&&s.push(null)}}finally{vn(-1)}}(t,e,n))}function Zr(t,e,n=Ne){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Kr(t){return t.tView||(t.tView=Jr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Jr(t,e,n,r,i,s,o,a,l,c){const u=19+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c}}function ti(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,s,o,a){const l=Ne(e,n);let c,u=e.inputs;var h;!a&&null!=u&&(c=u[r])?(Ei(t,n,c,r,i),ke(e)&&function(t,e){const n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.tagName||"",r):i,Oe(s)?s.setProperty(l,r,i):Rn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ri(t,e,n,r){let i=!1;if(We()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];kr(n,o.selectors,!1)&&(i||(i=[]),Yn(qn(n,e),t,o.type),Pe(o)?(2&n.flags&&br(n),li(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,ui(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ai(t,n,s.length);let a=!1,l=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=An(n.mergedAttrs,c.hostAttrs),hi(t,e,c),ci(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),l=!0),ii(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],e=t.inputs;s.push(null!==i?fi(e,i):null),o=ei(e,l,o),a=ei(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),si(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=An(n.mergedAttrs,n.attrs),i}function ii(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function si(t,e,n){for(let r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function oi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ai(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function li(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ci(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pe(e)&&(n[""]=t)}}function ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=xe(n.type)),i=new kn(r,Pe(n),null);t.blueprint.push(i),e.push(i)}function di(t,e,n){const r=Ne(e,t),i=Kr(n),s=t[10],o=bi(t,Hr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function pi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function fi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function gi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function mi(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];Wr(e,t,e.template,t[8])}}}function yi(t,e){const n=$e(e,t);if(Ue(n)&&80&n[2]){const t=n[1];Wr(t,n,t.template,n[8])}}function vi(t,e){const n=$e(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),qr(r,n,n[8])}function bi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function wi(t){for(;t;){t[2]|=64;const e=Or(t);if(Re(t)&&!e)return t;t=e}return null}function _i(t,e,n){const r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw ki(e,i),i}finally{r.end&&r.end()}}function xi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ve(n),i=r[1];Gr(i,r,i.template,n)}}(t[8])}function Ci(t,e,n){cn(0),e(t,n)}const Si=(()=>Promise.resolve(null))();function Mi(t){return t[7]||(t[7]=[])}function Ti(t){return t.cleanup||(t.cleanup=[])}function ki(t,e){const n=t[9],r=n?n.get(lr,null):null;r&&r.handleError(e)}function Ei(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Pi(t,e,n){const r=je(e,t),i=t[11];Oe(i)?i.setValue(r,n):r.textContent=n}function Ri(t,e){const n=e[3];return-1===t.index?Me(n)?n:null:n}function Ai(t,e){const n=Ri(t,e);return n?Hi(e[11],n[7]):null}function Oi(t,e,n,r,i){if(null!=r){let s,o=!1;Me(r)?s=r:Se(r)&&(o=!0,r=r[0]);const a=De(r);0===t&&null!==n?null==i?zi(e,n,a):Vi(e,n,a,i||null):1===t&&null!==n?Vi(e,n,a,i||null):2===t?function(t,e,n){const r=Hi(t,e);r&&function(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==De(n)&&Oi(e,t,r,s,i);for(let o=9;o<n.length;o++){const i=n[o];Xi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ii(t,e,n,r){const i=Ai(t.node,e);i&&Xi(t,e,e[11],n?1:2,i,r)}function Di(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function ji(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Di(i,r),e>0&&(t[n-1][4]=r[4]);const s=re(t,9+e);Ii(r[1],r,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ni(t,e){if(!(256&e[2])){const n=e[11];Oe(n)&&n.destroyNode&&Xi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(Se(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Se(e)&&Li(e[1],e),e=Fi(e,t);null===e&&(e=t),Se(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fi(t,e){let n;return Se(t)&&(n=t[6])&&2===n.type?Ri(n,t):t[3]===e?null:t[3]}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];t instanceof kn||n[r+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):De(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Oe(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Me(e[3])){r!==e[3]&&Di(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function $i(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Ai(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ne(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==ce.ShadowDom&&n!==ce.Native)return null}return Ne(r,n)}function Vi(t,e,n,r){Oe(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function zi(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function Ui(t,e,n,r){null!==r?Vi(t,e,n,r):zi(t,e,n)}function Hi(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function Bi(t,e){if(2===t.type){const n=Ri(t,e);return null===n?null:Wi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?Ne(t,e):null}function qi(t,e,n,r){const i=$i(t,r,e);if(null!=i){const t=e[11],s=Bi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ui(t,i,n[e],s);else Ui(t,i,n,s)}}function Wi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Ne(n,e);if(0===r)return Wi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Me(t)?Wi(-1,t):De(t)}}{const r=e[16],i=r[6],s=Or(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Gi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;o&&0===e&&(a&&vr(De(a),r),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Gi(t,e,n.child,r,i,s,!1),Oi(e,t,i,a,s)):1===l?Yi(t,e,r,n,i,s):Oi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Xi(t,e,n,r,i,s){Gi(n,r,t.node.child,e,i,s,!1)}function Yi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Oi(e,t,i,a[l],s);else Gi(t,e,a,o[3],i,s,!0)}function Qi(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zi(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ki{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(De(o)),Me(o))for(let e=9;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6],o=Or(e);let a=s.projection[r.projection];null!==a&&null!==o&&t(o[1],o,a,i,!0)}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ni(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,Mi(n=this._lView).push(r),e.firstCreatePass&&Ti(e).push(n[7].length-1,null)}markForCheck(){wi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){_i(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){en(!0);try{_i(t,e,n)}finally{en(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Xi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ji extends Ki{constructor(t){super(t),this._view=t}detectChanges(){xi(this._view)}checkNoChanges(){!function(t){en(!0);try{xi(t)}finally{en(!1)}}(this._view)}get context(){return null}}let ts,es,ns;function rs(t,e,n){return ts||(ts=class extends t{}),new ts(Ne(e,n))}function is(t,e,n,r){return es||(es=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Hr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),qr(e,n,t);const i=new Ki(n);return i._tViewNode=n[6],i}}),0===n.type?new es(r,n,rs(e,n,r)):null}function ss(t,e,n,r){let i;ns||(ns=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return rs(e,this._hostTNode,this._hostView)}get injector(){return new rr(this._hostTNode,this._hostView)}get parentInjector(){const t=Xn(this._hostTNode,this._hostView),e=Nn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=jn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return In(t)&&null!=n?new rr(n,e):new rr(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Jt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Me(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ns(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-9?(e[4]=n[i],ne(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ii(r,n,!0,Wi(i,this._lContainer)),t.attachToViewContainerRef(this),ne(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=ji(t,e);n&&Ni(n[1],n)})(this._lContainer,e),re(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=re(this._lContainer[8],e)?new Ki(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Me(s))i=s,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=De(s);else if(t=r[11].createComment(""),Re(r)){const e=r[11],i=Ne(n,r);Vi(e,Hi(e,i),t,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(e,i))}else qi(r[1],r,t,n);r[n.index]=i=gi(s,r,t,n),bi(r,i)}return new ns(i,n,r)}let os=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>as(),t})();const as=function(t=!1){return function(t,e,n){if(!n&&ke(t)){const n=$e(t.index,e);return new Ki(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ki(e[16],e):null}(Qe(),Ge(),t)},ls=new $t("Set Injector scope."),cs={},us={},hs=[];let ds=void 0;function ps(){return void 0===ds&&(ds=new Kt),ds}function fs(t,e=null,n=null,r){return new gs(t,n,e||ps(),r)}class gs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ee(e,n=>this.processProvider(n,t,e)),ee([t],t=>this.processInjectorType(t,[],i)),this.records.set(Vt,vs(void 0,this));const s=this.records.get(ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:_t(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zt,n=lt.Default){this.assertNotDestroyed();const r=Wt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof $t)&&pt(t);e=n&&this.injectableDefInScope(n)?vs(ms(t),cs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?ps():this.parent).get(t,e=n&lt.Optional&&e===zt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(_t(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=_t(e);if(Array.isArray(e))i=e.map(_t).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):_t(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ut,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Wt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(_t(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=Mt(t)))return!1;let r=gt(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=gt(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ee(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ee(r,t=>this.processProvider(t,n,r||hs))}}this.injectorDefTypes.add(s),this.records.set(s,vs(r.factory,cs));const a=r.providers;if(null!=a&&!o){const e=t;ee(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ws(t=Mt(t))?t:Mt(t&&t.provide);const i=function(t,e,n){return bs(t)?vs(void 0,t.useValue):vs(ys(t,e,n),cs)}(t,e,n);if(ws(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&wr()}else{let e=this.records.get(r);e?void 0===e.multi&&wr():(e=vs(void 0,cs,!0),e.factory=()=>Zt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===us?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(_t(t)):e.value===cs&&(e.value=us,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ms(t){const e=pt(t),n=null!==e?e.factory:xe(t);if(null!==n)return n;const r=gt(t);if(null!==r)return r.factory;if(t instanceof $t)throw new Error(`Token ${_t(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ie(e,"?");throw new Error(`Can't resolve all parameters for ${_t(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[mt]||t[bt]||t[vt]&&t[vt]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ys(t,e,n){let r=void 0;if(ws(t)){const e=Mt(t);return xe(e)||ms(e)}if(bs(t))r=()=>Mt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Zt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Yt(Mt(t.useExisting));else{const i=Mt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${_t(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return xe(i)||ms(i);r=()=>new i(...Zt(t.deps))}var i;return r}function vs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bs(t){return null!==t&&"object"==typeof t&&Ht in t}function ws(t){return"function"==typeof t}const _s=function(t,e,n){return function(t,e=null,n=null,r){const i=fs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let xs=(()=>{class t{static create(t,e){return Array.isArray(t)?_s(t,e,""):_s(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=zt,t.NULL=new Kt,t.\u0275prov=ht({token:t,providedIn:"any",factory:()=>Yt(Vt)}),t.__NG_ELEMENT_ID__=-1,t})();const Cs=new $t("AnalyzeForEntryComponents");let Ss=new Map;const Ms=new Set;function Ts(t){return"string"==typeof t?t:t.text()}function ks(t,e){let n=t.styles,r=t.classes,i=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=xt(r,t):2==i&&(n=xt(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Es=null;function Ps(){if(!Es){const t=At.Symbol;if(t&&t.iterator)Es=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Es=n)}}}return Es}function Rs(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class As{constructor(t){this.wrapped=t}static wrap(t){return new As(t)}static unwrap(t){return As.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof As}}function Os(t){return!!Is(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ps()in t)}function Is(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ds(t,e,n){return t[e]=n}function js(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ns(t,e,n,r){const i=js(t,e,n);return js(t,e+1,r)||i}function Fs(t,e,n,r){const i=Ge();return js(i,sn(),e)&&(Xe(),function(t,e,n,r,i,s){const o=Ne(t,e),a=e[11];if(null==r)Oe(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Fn(r):i(r,t.tagName||"",n);Oe(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(bn(),i,t,e,n,r)),Fs}function Ls(t,e,n,r){return js(t,sn(),n)?e+Fn(n)+r:Ar}function $s(t,e,n,r,i,s){const o=Ns(t,rn(),n,i);return on(2),o?e+Fn(n)+r+Fn(i)+s:Ar}function Vs(t,e,n,r,i,s,o,a){const l=Ge(),c=Xe(),u=t+19,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const c=e.consts,u=Br(e,n[6],t,0,o||null,He(c,a));ri(e,n,u,He(c,l)),_n(e,u);const h=u.tViews=Jr(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=ti(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,r,i,s,o):c.data[u];Ze(h,!1);const d=l[11].createComment("");qi(c,l,d,h),vr(d,l),bi(l,l[u]=gi(d,l,d,h)),Ee(h)&&Qr(c,l,h),null!=o&&Zr(l,h,a)}function zs(t){return Le(qe.lFrame.contextLView,t)}function Us(t,e=lt.Default){const n=Ge();return null==n?Yt(t,e):Qn(Qe(),n,Mt(t),e)}function Hs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Pn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Qe(),t)}function Bs(){throw new Error("invalid")}function qs(t,e,n){const r=Ge();return js(r,sn(),e)&&ni(Xe(),bn(),r,t,e,r[11],n,!1),qs}function Ws(t,e,n,r,i){const s=i?"class":"style";Ei(t,n,e.inputs[s],s,r)}function Gs(t,e,n,r){const i=Ge(),s=Xe(),o=19+t,a=i[11],l=i[o]=Ur(e,a,qe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,l=He(a,s),c=Br(e,n[6],t,3,i,l);return ri(e,n,c,He(a,o)),null!==c.mergedAttrs&&ks(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];Ze(c,!0);const u=c.mergedAttrs;null!==u&&En(a,l,u);const h=c.classes;null!==h&&Zi(a,l,h);const d=c.styles;null!==d&&Qi(a,l,d),qi(s,i,l,c),0===qe.lFrame.elementDepthCount&&vr(l,i),qe.lFrame.elementDepthCount++,Ee(c)&&(Qr(s,i,c),Yr(s,c,i)),null!==r&&Zr(i,c)}function Xs(){let t=Qe();Ke()?Je():(t=t.parent,Ze(t,!1));const e=t;qe.lFrame.elementDepthCount--;const n=Xe();n.firstCreatePass&&(_n(n,t),Te(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Ws(n,e,Ge(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Ws(n,e,Ge(),e.styles,!1)}function Ys(t,e,n,r){Gs(t,e,n,r),Xs()}function Qs(t,e,n){const r=Ge(),i=Xe(),s=t+19,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=He(s,r),a=Br(e,n[6],t,4,"ng-container",o);return null!==o&&ks(a,o),ri(e,n,a,He(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];Ze(o,!0);const a=r[s]=r[11].createComment("");qi(i,r,a,o),vr(a,r),Ee(o)&&(Qr(i,r,o),Yr(i,o,r)),null!=n&&Zr(r,o)}function Zs(){let t=Qe();const e=Xe();Ke()?Je():(t=t.parent,Ze(t,!1)),e.firstCreatePass&&(_n(e,t),Te(t)&&e.queries.elementEnd(t))}function Ks(){return Ge()}function Js(t){return!!t&&"function"==typeof t.then}function to(t){return!!t&&"function"==typeof t.subscribe}function eo(t,e,n=!1,r){const i=Ge(),s=Xe(),o=Qe();return function(t,e,n,r,i,s,o=!1,a){const l=Ee(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=Mi(e);let h=!0;if(3===r.type){const d=Ne(r,e),p=a?a(d):ue,f=p.target||d,g=u.length,m=a?t=>a(De(t[r.index])).target:r.index;if(Oe(n)){let o=null;if(!a&&l&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=ro(r,e,s,!1);const t=n.listen(p.name||f,i,s);u.push(s,t),c&&c.push(i,m,g,g+1)}}else s=ro(r,e,s,!0),f.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,g,o)}const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),eo}function no(t,e,n){try{return!1!==e(n)}catch(r){return ki(t,r),!1}}function ro(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&wi(o);let a=no(e,n,s),l=i.__ngNextListenerFn__;for(;l;)a=no(e,l,s)&&a,l=l.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function io(t=1){return function(t){return(qe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qe.lFrame.contextLView))[8]}(t)}function so(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?kr(t,s,!0):Er(r,s))return i}else n=i}return n}function oo(t){const e=Ge()[16][6];if(!e.projection){const n=e.projection=ie(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?so(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function ao(t,e=0,n){const r=Ge(),i=Xe(),s=Br(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),Je(),function(t,e,n){Yi(e[11],0,e,n,$i(t,n,e),Bi(n.parent||e[6],e))}(i,r,s)}function lo(t,e,n){return co(t,"",e,"",n),lo}function co(t,e,n,r,i){const s=Ge(),o=Ls(s,e,n,r);return o!==Ar&&ni(Xe(),bn(),s,t,o,s[11],i,!1),co}function uo(t,e,n,r,i,s,o){const a=Ge(),l=$s(a,e,n,r,i,s);return l!==Ar&&ni(Xe(),bn(),a,t,l,a[11],o,!1),uo}const ho=[];function po(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Nr(s):Lr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];fo(t[a],e)&&(l=!0,t[a+1]=r?Vr(n):Fr(n)),a=r?Nr(n):Lr(n)}l&&(t[n+1]=r?Fr(s):Vr(s))}function fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ae(t,e)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mo(t){return t.substring(go.key,go.keyEnd)}function yo(t,e){const n=go.textEnd;return n===e?-1:(e=go.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,go.key=e,n),vo(t,e,n))}function vo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function bo(t,e,n){return Co(t,e,n,!1),bo}function wo(t,e){return Co(t,e,null,!0),wo}function _o(t){So(se,xo,t,!0)}function xo(t,e){for(let n=function(t){return function(t){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=t.length}(t),yo(t,vo(t,0,go.textEnd))}(e);n>=0;n=yo(e,n))se(t,mo(e),!0)}function Co(t,e,n,r){const i=Ge(),s=Xe(),o=on(2);if(s.firstUpdatePass&&To(s,t,o,r),e!==Ar&&js(i,o,e)){let a;null==n&&(a=function(){const t=qe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Po(s,s.data[yn()+19],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=_t(ur(t)))),t}(e,n),r,o)}}function So(t,e,n,r){const i=Xe(),s=on(2);i.firstUpdatePass&&To(i,null,s,r);const o=Ge();if(n!==Ar&&js(o,s,n)){const a=i.data[yn()+19];if(Oo(a,r)&&!Mo(i,s)){let t=r?a.classes:a.styles;null!==t&&(n=xt(t,n||"")),Ws(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Ar&&(i=ho);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const d=l<i.length?i[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f=null,g=void 0;u===h?(l+=2,c+=2,d!==p&&(f=h,g=p)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,g=p),null!==f&&Po(t,e,n,r,f,g,o,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ho;const r=[],i=ur(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Mo(t,e){return e>=t.expandoStartIndex}function To(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[yn()+19],o=Mo(t,n);Oo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Eo(n=ko(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ko(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Lr(r))return t[Nr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ko(null,t,e,n[1],r),n=Eo(n,e.attrs,r),function(t,e,n,r){t[Nr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Eo(r,t[s].hostAttrs,n);return Eo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Nr(o),l=Lr(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ae(t,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const e=Nr(t[a+1]);t[r+1]=jr(e,a),0!==e&&(t[e+1]=$r(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=jr(a,0),0!==a&&(t[a+1]=$r(t[a+1],r)),a=r;else t[r+1]=jr(l,0),0===a?a=r:t[l+1]=$r(t[l+1],r),l=r;u&&(t[r+1]=Fr(t[r+1])),po(t,c,r,!0),po(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ae(s,e)>=0&&(n[r+1]=Vr(n[r+1]))}(e,c,t,r,s),o=jr(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ko(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Eo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Eo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),se(t,o,!!n||e[++s]))}return void 0===t?null:t}function Po(t,e,n,r,i,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];Ao(1==(1&c)?Ro(l,e,n,i,Lr(c),o):void 0)||(Ao(s)||function(t){return 2==(2&t)}(c)&&(s=Ro(l,null,n,i,a,o)),function(t,e,n,r,i){const s=Oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,je(yn(),n),i,s))}function Ro(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[i+1];u===Ar&&(u=c?ho:void 0);let h=c?oe(u,r):l===r?u:void 0;if(s&&!Ao(h)&&(h=oe(e,r)),Ao(h)&&(a=h,o))return a;const d=t[i+1];i=o?Nr(d):Lr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=oe(t,r))}return a}function Ao(t){return void 0!==t}function Oo(t,e){return 0!=(t.flags&(e?16:32))}function Io(t,e=""){const n=Ge(),r=Xe(),i=t+19,s=r.firstCreatePass?Br(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Oe(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);qi(r,n,o,s),Ze(s,!1)}function Do(t){return jo("",t,""),Do}function jo(t,e,n){const r=Ge(),i=Ls(r,t,e,n);return i!==Ar&&Pi(r,yn(),i),jo}function No(t,e,n,r,i){const s=Ge(),o=$s(s,t,e,n,r,i);return o!==Ar&&Pi(s,yn(),o),No}function Fo(t,e,n,r,i,s,o){const a=Ge(),l=function(t,e,n,r,i,s,o,a){const l=function(t,e,n,r,i){const s=Ns(t,e,n,r);return js(t,e+2,i)||s}(t,rn(),n,i,o);return on(3),l?e+Fn(n)+r+Fn(i)+s+Fn(o)+a:Ar}(a,t,e,n,r,i,s,o);return l!==Ar&&Pi(a,yn(),l),Fo}function Lo(t,e,n){const r=Ge();return js(r,sn(),e)&&ni(Xe(),bn(),r,t,e,r[11],n,!0),Lo}function $o(t,e){const n=Ve(t)[1],r=n.data.length-1;_n(n,{directiveStart:r,directiveEnd:r+1})}function Vo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Pe(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=zo(t.inputs),e.declaredInputs=zo(t.declaredInputs),e.outputs=zo(t.outputs);const n=i.hostBindings;n&&Bo(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Uo(t,s),o&&Ho(t,o),ut(t.inputs,i.inputs),ut(t.declaredInputs,i.declaredInputs),ut(t.outputs,i.outputs),Pe(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Vo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=An(i.hostAttrs,n=An(n,i.hostAttrs))}}(r)}function zo(t){return t===ue?{}:t===he?[]:t}function Uo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ho(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Bo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class qo{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Wo(t){t.type.prototype.ngOnChanges&&(t.setInput=Go,t.onChanges=function(){const t=Xo(this),e=t&&t.current;if(e){const n=t.previous;if(n===ue)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Go(t,e,n,r){const i=Xo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ue,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new qo(l&&l.currentValue,e,o===ue),t[r]=e}function Xo(t){return t.__ngSimpleChanges__||null}function Yo(t,e,n,r,i){if(t=Mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yo(t[s],e,n,r,i);else{const s=Xe(),o=Ge();let a=ws(t)?t:Mt(t.provide),l=ys(t);const c=Qe(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(ws(t)||!t.multi){const r=new kn(l,i,Us),p=Ko(a,e,i?u:u+d,h);-1===p?(Yn(qn(c,o),s,a),Qo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Ko(a,e,u+d,h),f=Ko(a,e,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(i&&!m||!i&&!g){Yn(qn(c,o),s,a);const u=function(t,e,n,r,i){const s=new kn(t,n,Us);return s.multi=[],s.index=e,s.componentProviders=0,Zo(s,i,r&&!n),s}(i?ta:Jo,n.length,i,r,l);!i&&m&&(n[f].providerFactory=u),Qo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(u),o.push(u)}else Qo(s,t,p>-1?p:f),Zo(n[i?f:p],l,!i&&r);!i&&r&&m&&n[f].componentProviders++}}}function Qo(t,e,n){if(ws(e)||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;r&&(t.destroyHooks||(t.destroyHooks=[])).push(n,r)}}function Zo(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Ko(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Jo(t,e,n,r){return ea(this.multi,[])}function ta(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=tr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ea(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ea(i,s);return s}function ea(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function na(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Xe();if(r.firstCreatePass){const i=Pe(t);Yo(n,r.data,r.blueprint,i,!0),Yo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Wo.ngInherit=!0;class ra{}class ia{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${_t(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let sa=(()=>{class t{}return t.NULL=new ia,t})(),oa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>aa(t),t})();const aa=function(t){return rs(t,Qe(),Ge())};class la{}const ca=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(),t})();const ha=function(){const t=Ge(),e=$e(Qe().index,t);return function(t){const e=t[11];if(Oe(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Se(e)?e:t)};let da=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>null}),t})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fa=new pa("9.1.0");class ga{constructor(){}supports(t){return Os(t)}create(t){return new ya(t)}}const ma=(t,e)=>e;class ya{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ma}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<_a(n,r,i)?e:n,o=_a(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Os(t))throw new Error(`Error trying to diff '${_t(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Rs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Rs(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ps()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Rs(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Rs(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Rs(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Rs(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new va(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ba{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Rs(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class wa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ba,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _a(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xa{constructor(){}supports(t){return t instanceof Map||Is(t)}create(){return new Ca}}class Ca{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Is(t)))throw new Error(`Error trying to diff '${_t(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Rs(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new ga])}),t})(),Ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new at,new st]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new t([new xa])}),t})();const ka=[new xa],Ea=new Ma([new ga]),Pa=new Ta(ka);let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Aa(t,oa),t})();const Aa=function(t,e){return is(t,e,Qe(),Ge())};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ia(t,oa),t})();const Ia=function(t,e){return ss(t,e,Qe(),Ge())},Da={};class ja extends sa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=_e(t);return new La(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Fa=new $t("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$n});class La extends ra{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Rr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Da,i);return s!==Da||r===Da?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(la,Ie),o=i.get(da,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===ce.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:$n,clean:Si,playerHandler:null,flags:0},p=Jr(0,-1,null,1,0,null,null,null,null,null),f=Hr(null,p,d,u,null,null,s,a,o,i);let g,m;hn(f,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[19]=t;const a=Br(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ks(a,l),null!==t&&(En(i,t,l),null!==a.classes&&Zi(i,t,a.classes),null!==a.styles&&Qi(i,t,a.styles)));const c=r.createRenderer(t,e),u=Hr(n,Kr(e),null,e.onPush?64:16,n[19],a,r,c,void 0);return o.firstCreatePass&&(Yn(qn(a,n),o,e.type),li(o,a),ui(a,n.length,1)),bi(n,u),n[19]=u}(c,this.componentDef,f,s,a);if(c)if(n)En(a,c,["ng-version",fa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&En(a,c,t),e&&e.length>0&&Zi(a,c,e.join(" "))}m=Fe(f[1],0),e&&(m.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Qe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ai(t,r,1),hi(t,e,n));const i=tr(e,t,e.length-1,r);vr(i,e);const s=Ne(r,e);return s&&vr(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=Qe();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){vn(a.index-19);const t=n[1];ii(t,e),si(t,n,e.hostVars),oi(e,o)}return o}(t,this.componentDef,f,d,[$o]),qr(p,f,null)}finally{mn()}const y=new $a(this.componentType,g,rs(oa,m,f),f,m);return n&&!h||(y.hostView._tViewNode.child=m),y}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Ji(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=ti(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var Va=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let za={};function Ua(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ha(e);if(n)return n;const r=e.split("-")[0];if(n=Ha(r),n)return n;if("en"===r)return Va;throw new Error(`Missing locale data for the locale "${t}".`)}function Ha(t){return t in za||(za[t]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[t]),za[t]}const Ba=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let qa="en-US";function Wa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(qa=t.toLowerCase().replace(/_/g,"-"))}const Ga=new Map;class Xa extends Jt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const n=Ce(t),r=t[Nt]||null;r&&Wa(r),this._bootstrapComponents=zn(n.bootstrap),this._r3Injector=fs(t,e,[{provide:Jt,useValue:this},{provide:sa,useValue:this.componentFactoryResolver}],_t(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xs.THROW_IF_NOT_FOUND,n=lt.Default){return t===xs||t===Jt||t===Vt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ya extends te{constructor(t){super(),this.moduleType=t,null!==Ce(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${_t(e)} vs ${_t(e.name)}`)})(t,Ga.get(t),e),Ga.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Xa(this.moduleType,t)}}function Qa(t,e,n){const r=nn()+t,i=Ge();return i[r]===Ar?Ds(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Za(t,e,n,r){return Ja(Ge(),nn(),t,e,n,r)}function Ka(t,e){const n=t[e];return n===Ar?void 0:n}function Ja(t,e,n,r,i,s){const o=e+n;return js(t,o,i)?Ds(t,o+1,s?r.call(s,i):r(i)):Ka(t,o+1)}function tl(t,e){const n=Xe();let r;const i=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=xe(r.type)),o=Gt(Us),a=s();return Gt(o),function(t,e,n,r){const i=n+19;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Ge(),t,a),a}function el(t,e,n){const r=Ge(),i=Le(r,t);return il(r,rl(r,t)?Ja(r,nn(),e,i.transform,n,i):i.transform(n))}function nl(t,e,n,r){const i=Ge(),s=Le(i,t);return il(i,rl(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return Ns(t,a,i,s)?Ds(t,a+2,o?r.call(o,i,s):r(i,s)):Ka(t,a+2)}(i,nn(),e,s.transform,n,r,s):s.transform(n,r))}function rl(t,e){return t[1].data[e+19].pure}function il(t,e){return As.isWrapped(e)&&(e=As.unwrap(e),t[rn()]=Ar),e}class sl extends M{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof h&&t.add(o),o}}function ol(){return this._results[Ps()]()}class al{constructor(){this.dirty=!0,this._results=[],this.changes=new sl,this.length=0;const t=Ps(),e=al.prototype;e[t]||(e[t]=ol)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ll{constructor(t){this.queryList=t,this.matches=null}clone(){return new ll(this.queryList)}setDirty(){this.queryList.setDirty()}}class cl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new cl(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Tl(t,e).matches&&this.queries[e].setDirty()}}class ul{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class hl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new hl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new dl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,pl(e,n[r]))}else{const n=this.metadata.predicate;n===Ra?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Jn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===oa||r===Oa||r===Ra&&0===e.type)this.addMatch(e.index,-2);else{const n=Jn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function pl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function fl(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?rs(oa,t,e):0===t.type?is(Ra,oa,t,e):null}(e,t):-2===n?function(t,e,n){return n===oa?rs(oa,e,t):n===Ra?is(Ra,oa,e,t):n===Oa?ss(Oa,oa,e,t):void 0}(t,e,r):tr(t,t[1],n,e)}function gl(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:fl(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function ml(t){const e=Ge(),n=Xe(),r=ln();cn(r+1);const i=Tl(n,r);if(t.dirty&&ze(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=gl(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):gl(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function yl(t,e,n){bl(Xe(),Ge(),t,e,n,!0)}function vl(t,e,n){bl(Xe(),Ge(),t,e,n,!1)}function bl(t,e,n,r,i,s){t.firstCreatePass&&(Ml(t,new ul(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Sl(t,e)}function wl(t,e,n,r){xl(Xe(),Ge(),e,n,r,!1,Qe(),t)}function _l(t,e,n,r){xl(Xe(),Ge(),e,n,r,!0,Qe(),t)}function xl(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Ml(t,new ul(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Sl(t,e)}function Cl(){return t=Ge(),e=ln(),t[5].queries[e].queryList;var t,e}function Sl(t,e){const n=new al;!function(t,e,n,r){const i=Mi(e);i.push(n),t.firstCreatePass&&Ti(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new cl),e[5].queries.push(new ll(n))}function Ml(t,e,n){null===t.queries&&(t.queries=new hl),t.queries.track(new dl(e,n))}function Tl(t,e){return t.queries.getByIndex(e)}function kl(t,e){return is(Ra,oa,t,e)}const El=new $t("Application Initializer");let Pl=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Yt(El,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Rl=new $t("AppId"),Al={provide:Rl,useFactory:function(){return`${Ol()}${Ol()}${Ol()}`},deps:[]};function Ol(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Il=new $t("Platform Initializer"),Dl=new $t("Platform ID"),jl=new $t("appBootstrapListener");let Nl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Fl=new $t("LocaleId"),Ll=new $t("DefaultCurrencyCode");class $l{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Vl=function(t){return new Ya(t)},zl=Vl,Ul=function(t){return Promise.resolve(Vl(t))},Hl=function(t){const e=Vl(t),n=zn(Ce(t).declarations).reduce((t,e)=>{const n=_e(e);return n&&t.push(new La(n)),t},[]);return new $l(e,n)},Bl=Hl,ql=function(t){return Promise.resolve(Hl(t))};let Wl=(()=>{class t{constructor(){this.compileModuleSync=zl,this.compileModuleAsync=Ul,this.compileModuleAndAllComponentsSync=Bl,this.compileModuleAndAllComponentsAsync=ql}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Gl=new $t("compilerOptions"),Xl=(()=>Promise.resolve(0))();function Yl(t){"undefined"==typeof Zone?Xl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ql{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sl(!1),this.onMicrotaskEmpty=new sl(!1),this.onStable=new sl(!1),this.onError=new sl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=At.requestAnimationFrame,e=At.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(At,()=>{t.lastRequestAnimationFrameId=-1,tc(t),Jl(t)}),tc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return ec(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),nc(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return ec(t),e.invoke(r,i,s,o,a)}finally{nc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,tc(t),Jl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ql.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ql.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Kl,Zl,Zl);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Zl(){}const Kl={};function Jl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ec(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nc(t){t._nesting--,Jl(t)}class rc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sl,this.onMicrotaskEmpty=new sl,this.onStable=new sl,this.onError=new sl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ic=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ql.assertNotInAngularZone(),Yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ql))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),sc=(()=>{class t{constructor(){this._applications=new Map,lc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class oc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ac,lc=new oc,cc=function(t,e,n){const r=t.get(Gl,[]).concat(e),i=new Ya(n);if(0===Ss.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=At.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=xs.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(Ts))}return e}return Ss.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(i).then(()=>function(t){Ms.delete(t)}(n));e.push(l)}),Ss=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const uc=new $t("AllowMultipleToken");class hc{constructor(t,e){this.name=t,this.token=e}}function dc(t,e,n=[]){const r=`Platform: ${e}`,i=new $t(r);return(e=[])=>{let s=pc();if(!s||s.injector.get(uc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ls,useValue:"platform"});!function(t){if(ac&&!ac.destroyed&&!ac.injector.get(uc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ac=t.get(fc);const e=t.get(Il,null);e&&e.forEach(t=>t())}(xs.create({providers:t,name:r}))}return function(t){const e=pc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function pc(){return ac&&!ac.destroyed?ac:null}let fc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new rc:("zone.js"===t?void 0:t)||new Ql({enableLongStackTrace:pr(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ql,useValue:n}];return n.run(()=>{const e=xs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(lr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>yc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Pl);return t.runInitializers(),t.donePromise.then(()=>(Wa(i.injector.get(Fl,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=gc({},e);return cc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(mc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${_t(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Yt(xs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function gc(t,e){return Array.isArray(e)?e.reduce(gc,t):Object.assign(Object.assign({},t),e)}let mc=(()=>{class t{constructor(t,e,n,r,i,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=pr(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ql.assertNotInAngularZone(),Yl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ql.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,a.pipe(et()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ra?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Jt),i=n.create(xs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(ic,null);return s&&i.injector.get(sc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),pr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;yc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(jl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),yc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Yt(Ql),Yt(Nl),Yt(xs),Yt(lr),Yt(sa),Yt(Pl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function yc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class vc{}class bc{}const wc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _c=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||wc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>xc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>xc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Wl),Yt(bc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function xc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Cc=dc(null,"core",[{provide:Dl,useValue:"unknown"},{provide:fc,deps:[xs]},{provide:sc,deps:[]},{provide:Nl,deps:[]}]),Sc=[{provide:mc,useClass:mc,deps:[Ql,Nl,xs,lr,sa,Pl]},{provide:Fa,deps:[Ql],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pl,useClass:Pl,deps:[[new st,El]]},{provide:Wl,useClass:Wl,deps:[]},Al,{provide:Ma,useFactory:function(){return Ea},deps:[]},{provide:Ta,useFactory:function(){return Pa},deps:[]},{provide:Fl,useFactory:function(t){return Wa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new it(Fl),new st,new at]]},{provide:Ll,useValue:"USD"}];let Mc=(()=>{class t{constructor(t){}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(mc))},providers:Sc}),t})();const Tc={production:!0,apiUrl:"/ps-backend"};let kc=null;function Ec(){return kc}const Pc=new $t("DocumentToken");let Rc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Ac,token:t,providedIn:"platform"}),t})();function Ac(){return Yt(Ic)}const Oc=new $t("Location Initialized");let Ic=(()=>{class t extends Rc{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ec().getLocation(),this._history=Ec().getHistory()}getBaseHrefFromDOM(){return Ec().getBaseHref(this._doc)}onPopState(t){Ec().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ec().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Dc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Dc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc))},t.\u0275prov=ht({factory:jc,token:t,providedIn:"platform"}),t})();function Dc(){return!!window.history.pushState}function jc(){return new Ic(Yt(Pc))}function Nc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Fc(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Lc(t){return t&&"?"!==t[0]?"?"+t:t}let $c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:Vc,token:t,providedIn:"root"}),t})();function Vc(t){const e=Yt(Pc).location;return new Uc(Yt(Rc),e&&e.origin||"")}const zc=new $t("appBaseHref");let Uc=(()=>{class t extends $c{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Lc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+Lc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+Lc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Rc),Yt(zc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Hc=(()=>{class t extends $c{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Nc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+Lc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+Lc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Yt(Rc),Yt(zc,8))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Bc=(()=>{class t{constructor(t,e){this._subject=new sl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Fc(Wc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Lc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Wc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Yt($c),Yt(Rc))},t.normalizeQueryParams=Lc,t.joinWithSlash=Nc,t.stripTrailingSlash=Fc,t.\u0275prov=ht({factory:qc,token:t,providedIn:"root"}),t})();function qc(){return new Bc(Yt($c),Yt(Rc))}function Wc(t){return t.replace(/\/index.html$/,"")}const Gc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Xc=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),Yc=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Qc=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Zc=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Kc(t,e){return ru(Ua(t)[Ba.DateFormat],e)}function Jc(t,e){return ru(Ua(t)[Ba.TimeFormat],e)}function tu(t,e){return ru(Ua(t)[Ba.DateTimeFormat],e)}function eu(t,e){const n=Ua(t),r=n[Ba.NumberSymbols][e];if(void 0===r){if(e===Zc.CurrencyDecimal)return n[Ba.NumberSymbols][Zc.Decimal];if(e===Zc.CurrencyGroup)return n[Ba.NumberSymbols][Zc.Group]}return r}function nu(t){if(!t[Ba.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ba.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ru(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function iu(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const su=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ou={},au=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,lu=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),cu=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),uu=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function hu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function du(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function pu(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case cu.FullYear:return e.getFullYear();case cu.Month:return e.getMonth();case cu.Date:return e.getDate();case cu.Hours:return e.getHours();case cu.Minutes:return e.getMinutes();case cu.Seconds:return e.getSeconds();case cu.FractionalSeconds:return e.getMilliseconds();case cu.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===cu.Hours)0===a&&-12===n&&(a=12);else if(t===cu.FractionalSeconds)return l=e,du(a,3).substr(0,l);var l;const c=eu(o,Zc.MinusSign);return du(a,e,c,r,i)}}function fu(t,e,n=Xc.Format,r=!1){return function(i,s){return function(t,e,n,r,i,s){switch(n){case uu.Months:return function(t,e,n){const r=Ua(t),i=ru([r[Ba.MonthsFormat],r[Ba.MonthsStandalone]],e);return ru(i,n)}(e,i,r)[t.getMonth()];case uu.Days:return function(t,e,n){const r=Ua(t),i=ru([r[Ba.DaysFormat],r[Ba.DaysStandalone]],e);return ru(i,n)}(e,i,r)[t.getDay()];case uu.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const t=function(t){const e=Ua(t);return nu(e),(e[Ba.ExtraData][2]||[]).map(t=>"string"==typeof t?iu(t):[iu(t[0]),iu(t[1])])}(e),n=function(t,e,n){const r=Ua(t);nu(r);const i=ru([r[Ba.ExtraData][0],r[Ba.ExtraData][1]],e)||[];return ru(i,n)||[]}(e,i,r);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:l,minutes:c}=t[1];o>=r&&a>=i&&(o<l||o===l&&a<c)&&(s=n[e])}else{const{hours:r,minutes:i}=t;r===o&&i===a&&(s=n[e])}}),s)return s}return function(t,e,n){const r=Ua(t),i=ru([r[Ba.DayPeriodsFormat],r[Ba.DayPeriodsStandalone]],e);return ru(i,n)}(e,i,r)[o<12?0:1];case uu.Eras:return function(t,e){return ru(Ua(t)[Ba.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function gu(t){return function(e,n,r){const i=-1*r,s=eu(n,Zc.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case lu.Short:return(i>=0?"+":"")+du(o,2,s)+du(Math.abs(i%60),2,s);case lu.ShortGMT:return"GMT"+(i>=0?"+":"")+du(o,1,s);case lu.Long:return"GMT"+(i>=0?"+":"")+du(o,2,s)+":"+du(Math.abs(i%60),2,s);case lu.Extended:return 0===r?"Z":(i>=0?"+":"")+du(o,2,s)+":"+du(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function mu(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return du(i,t,eu(r,Zc.MinusSign))}}const yu={};function vu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function bu(t){return t instanceof Date&&!isNaN(t.valueOf())}class wu{}let _u=(()=>{class t extends wu{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Ua(t)[Ba.PluralCase]}(e||this.locale)(t)){case Gc.Zero:return"zero";case Gc.One:return"one";case Gc.Two:return"two";case Gc.Few:return"few";case Gc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function xu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class Cu{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Su=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){pr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Cu(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Mu(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Mu(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Us(Oa),Us(Ra),Us(Ma))},t.\u0275dir=be({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Mu{constructor(t,e){this.record=t,this.view=e}}let Tu=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Eu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Eu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Us(Oa),Us(Ra))},t.\u0275dir=be({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ku{constructor(){this.$implicit=null,this.ngIf=null}}function Eu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${_t(e)}'.`)}let Pu=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Us(Oa))},t.\u0275dir=be({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Wo]}),t})(),Ru=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(bu(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(su))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),c=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,c),e}(n)}const e=new Date(t);if(!bu(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return Ua(t)[Ba.LocaleId]}(e);if(ou[r]=ou[r]||{},ou[r][n])return ou[r][n];let i="";switch(n){case"shortDate":i=Kc(e,Qc.Short);break;case"mediumDate":i=Kc(e,Qc.Medium);break;case"longDate":i=Kc(e,Qc.Long);break;case"fullDate":i=Kc(e,Qc.Full);break;case"shortTime":i=Jc(e,Qc.Short);break;case"mediumTime":i=Jc(e,Qc.Medium);break;case"longTime":i=Jc(e,Qc.Long);break;case"fullTime":i=Jc(e,Qc.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=hu(tu(e,Qc.Short),[n,r]);break;case"medium":const s=t(e,"mediumTime"),o=t(e,"mediumDate");i=hu(tu(e,Qc.Medium),[s,o]);break;case"long":const a=t(e,"longTime"),l=t(e,"longDate");i=hu(tu(e,Qc.Long),[a,l]);break;case"full":const c=t(e,"fullTime"),u=t(e,"fullDate");i=hu(tu(e,Qc.Full),[c,u])}return i&&(ou[r][n]=i),i}(n,e)||e;let s,o=[];for(;e;){if(s=au.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=vu(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(vu(e,r)-r))}(i,r));let l="";return o.forEach(t=>{const e=function(t){if(yu[t])return yu[t];let e;switch(t){case"G":case"GG":case"GGG":e=fu(uu.Eras,Yc.Abbreviated);break;case"GGGG":e=fu(uu.Eras,Yc.Wide);break;case"GGGGG":e=fu(uu.Eras,Yc.Narrow);break;case"y":e=pu(cu.FullYear,1,0,!1,!0);break;case"yy":e=pu(cu.FullYear,2,0,!0,!0);break;case"yyy":e=pu(cu.FullYear,3,0,!1,!0);break;case"yyyy":e=pu(cu.FullYear,4,0,!1,!0);break;case"M":case"L":e=pu(cu.Month,1,1);break;case"MM":case"LL":e=pu(cu.Month,2,1);break;case"MMM":e=fu(uu.Months,Yc.Abbreviated);break;case"MMMM":e=fu(uu.Months,Yc.Wide);break;case"MMMMM":e=fu(uu.Months,Yc.Narrow);break;case"LLL":e=fu(uu.Months,Yc.Abbreviated,Xc.Standalone);break;case"LLLL":e=fu(uu.Months,Yc.Wide,Xc.Standalone);break;case"LLLLL":e=fu(uu.Months,Yc.Narrow,Xc.Standalone);break;case"w":e=mu(1);break;case"ww":e=mu(2);break;case"W":e=mu(1,!0);break;case"d":e=pu(cu.Date,1);break;case"dd":e=pu(cu.Date,2);break;case"E":case"EE":case"EEE":e=fu(uu.Days,Yc.Abbreviated);break;case"EEEE":e=fu(uu.Days,Yc.Wide);break;case"EEEEE":e=fu(uu.Days,Yc.Narrow);break;case"EEEEEE":e=fu(uu.Days,Yc.Short);break;case"a":case"aa":case"aaa":e=fu(uu.DayPeriods,Yc.Abbreviated);break;case"aaaa":e=fu(uu.DayPeriods,Yc.Wide);break;case"aaaaa":e=fu(uu.DayPeriods,Yc.Narrow);break;case"b":case"bb":case"bbb":e=fu(uu.DayPeriods,Yc.Abbreviated,Xc.Standalone,!0);break;case"bbbb":e=fu(uu.DayPeriods,Yc.Wide,Xc.Standalone,!0);break;case"bbbbb":e=fu(uu.DayPeriods,Yc.Narrow,Xc.Standalone,!0);break;case"B":case"BB":case"BBB":e=fu(uu.DayPeriods,Yc.Abbreviated,Xc.Format,!0);break;case"BBBB":e=fu(uu.DayPeriods,Yc.Wide,Xc.Format,!0);break;case"BBBBB":e=fu(uu.DayPeriods,Yc.Narrow,Xc.Format,!0);break;case"h":e=pu(cu.Hours,1,-12);break;case"hh":e=pu(cu.Hours,2,-12);break;case"H":e=pu(cu.Hours,1);break;case"HH":e=pu(cu.Hours,2);break;case"m":e=pu(cu.Minutes,1);break;case"mm":e=pu(cu.Minutes,2);break;case"s":e=pu(cu.Seconds,1);break;case"ss":e=pu(cu.Seconds,2);break;case"S":e=pu(cu.FractionalSeconds,1);break;case"SS":e=pu(cu.FractionalSeconds,2);break;case"SSS":e=pu(cu.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=gu(lu.Short);break;case"ZZZZZ":e=gu(lu.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=gu(lu.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=gu(lu.Long);break;default:return null}return yu[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(e,n,i||this.locale,r)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${_t(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Us(Fl))},t.\u0275pipe=we({name:"date",type:t,pure:!0}),t})(),Au=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"json",type:t,pure:!1}),t})(),Ou=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[{provide:wu,useClass:_u}]}),t})(),Iu=(()=>{class t{}return t.\u0275prov=ht({token:t,providedIn:"root",factory:()=>new Du(Yt(Pc),window,Yt(lr))}),t})();class Du{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class ju extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new ju,kc||(kc=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Fu||(Fu=document.querySelector("base"),Fu)?Fu.getAttribute("href"):null;return null==e?null:(n=e,Nu||(Nu=document.createElement("a")),Nu.setAttribute("href",n),"/"===Nu.pathname.charAt(0)?Nu.pathname:"/"+Nu.pathname);var n}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return xu(document.cookie,t)}}let Nu,Fu=null;const Lu=new $t("TRANSITION_ID"),$u=[{provide:El,useFactory:function(t,e,n){return()=>{n.get(Pl).donePromise.then(()=>{const n=Ec();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Lu,Pc,xs],multi:!0}];class Vu{static init(){var t;t=new Vu,lc=t}addToWindow(t){At.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(t=>{const e=At.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ec().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const zu=new $t("EventManagerPlugins");let Uu=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Yt(zu),Yt(Ql))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Hu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ec().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Bu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),qu=(()=>{class t extends Bu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ec().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gu=/%COMP%/g;function Xu(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Xu(t,i,n):(i=i.replace(Gu,t),n.push(i))}return n}function Yu(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Qu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Zu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ce.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Ku(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ce.Native:case ce.ShadowDom:return new Ju(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Xu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Yt(Uu),Yt(qu),Yt(Rl))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Zu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Wu[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Wu[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Wu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&ca.DashCase?t.style.setProperty(e,n,r&ca.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&ca.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yu(n)):this.eventManager.addEventListener(t,e,Yu(n))}}class Ku extends Zu{constructor(t,e,n,r){super(t),this.component=n;const i=Xu(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Gu,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Gu,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Ju extends Zu{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===ce.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=Xu(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let th=(()=>{class t extends Hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const eh=["alt","control","meta","shift"],nh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ih={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let sh=(()=>{class t extends Hu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ec().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(eh.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&rh.hasOwnProperty(e)&&(e=rh[e]))}return nh[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),eh.forEach(r=>{r!=n&&(0,ih[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const oh=dc(Cc,"browser",[{provide:Dl,useValue:"browser"},{provide:Il,useValue:function(){ju.makeCurrent(),Vu.init()},multi:!0},{provide:Pc,useFactory:function(){return function(t){Ae=t}(document),document},deps:[]}]),ah=[[],{provide:ls,useValue:"root"},{provide:lr,useFactory:function(){return new lr},deps:[]},{provide:zu,useClass:th,multi:!0,deps:[Pc,Ql,Dl]},{provide:zu,useClass:sh,multi:!0,deps:[Pc]},[],{provide:Qu,useClass:Qu,deps:[Uu,qu,Rl]},{provide:la,useExisting:Qu},{provide:Bu,useExisting:qu},{provide:qu,useClass:qu,deps:[Pc]},{provide:ic,useClass:ic,deps:[Ql]},{provide:Uu,useClass:Uu,deps:[zu,Ql]},[]];let lh=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Rl,useValue:e.appId},{provide:Lu,useExisting:Rl},$u]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(t,12))},providers:ah,imports:[Ou,Mc]}),t})();"undefined"!=typeof window&&window;class ch{}function uh(t,e){return{type:7,name:t,definitions:e,options:{}}}function hh(t,e=null){return{type:4,styles:e,timings:t}}function dh(t,e=null){return{type:2,steps:t,options:e}}function ph(t){return{type:6,styles:t,offset:null}}function fh(t,e,n){return{type:0,name:t,styles:e,options:n}}function gh(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function mh(t){Promise.resolve(null).then(t)}class yh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mh(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class vh{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?mh(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function bh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wh(t){switch(t.length){case 0:return new yh;case 1:return t[0];default:return new vh(t)}}function _h(t,e,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==l,u=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function xh(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Ch(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Ch(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Ch(n,"destroy",t)))}}function Ch(t,e,n){const r=n.totalTime,i=Sh(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Sh(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Mh(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Th(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let kh=(t,e)=>!1,Eh=(t,e)=>!1,Ph=(t,e,n)=>[];const Rh=bh();(Rh||"undefined"!=typeof Element)&&(kh=(t,e)=>t.contains(e),Eh=(()=>{if(Rh||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Eh}})(),Ph=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ah=null,Oh=!1;function Ih(t){Ah||(Ah=("undefined"!=typeof document?document.body:null)||{},Oh=!!Ah.style&&"WebkitAppearance"in Ah.style);let e=!0;return Ah.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ah.style,!e&&Oh)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ah.style),e}const Dh=Eh,jh=kh,Nh=Ph;function Fh(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Lh=(()=>{class t{validateStyleProperty(t){return Ih(t)}matchesElement(t,e){return Dh(t,e)}containsElement(t,e){return jh(t,e)}query(t,e,n){return Nh(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new yh(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),$h=(()=>{class t{}return t.NOOP=new Lh,t})();function Vh(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:zh(parseFloat(e[1]),e[2])}function zh(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Uh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=zh(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=zh(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Hh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Bh(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Hh(t,n);return n}function qh(t,e,n){return n?e+":"+n+";":""}function Wh(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=qh(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=qh(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Gh(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ed(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),bh()&&Wh(t))}function Xh(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ed(e);t.style[n]=""}),bh()&&Wh(t))}function Yh(t){return Array.isArray(t)?1==t.length?t[0]:dh(t):t}const Qh=new RegExp("{{\\s*(.+?)\\s*}}","g");function Zh(t){let e=[];if("string"==typeof t){let n;for(;n=Qh.exec(t);)e.push(n[1]);Qh.lastIndex=0}return e}function Kh(t,e,n){const r=t.toString(),i=r.replace(Qh,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Jh(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const td=/-+([a-z0-9])/g;function ed(t){return t.replace(td,(...t)=>t[1].toUpperCase())}function nd(t,e){return 0===t||0===e}function rd(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=sd(t,e)}))}}return e}function id(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function sd(t,e){return window.getComputedStyle(t)[e]}function od(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(cd(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(cd(o,i))}(t,n,e)):n.push(t),n}const ad=new Set(["true","1"]),ld=new Set(["false","0"]);function cd(t,e){const n=ad.has(t)||ld.has(t),r=ad.has(e)||ld.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?ad.has(t):ld.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?ad.has(e):ld.has(e)),o&&a}}const ud=new RegExp("s*:selfs*,?","g");function hd(t,e,n){return new dd(t).build(e,n)}class dd{constructor(t){this._driver=t}build(t,e){const n=new pd(e);return this._resetContextStyleTimingState(n),id(this,Yh(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(fd(t)){const e=t;Object.keys(e).forEach(t=>{Zh(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Jh(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=id(this,Yh(t.animation),e);return{type:1,matchers:od(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:gd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>id(this,t,e)),options:gd(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=id(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:gd(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return md(Uh(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=md(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Uh(r,e),md(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:ph({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=ph(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(fd(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Zh(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(fd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(fd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:id(this,Yh(t.animation),e),options:gd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gd(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ud,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Mh(e.collectedStyles,e.currentQuerySelector,{});const o=id(this,Yh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:gd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Uh(t.timings,e.errors,!0);return{type:12,animation:id(this,Yh(t.animation),e),timings:n,options:null}}}class pd{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fd(t){return!Array.isArray(t)&&"object"==typeof t}function gd(t){var e;return t?(t=Hh(t)).params&&(t.params=(e=t.params)?Hh(e):null):t={},t}function md(t,e,n){return{duration:t,delay:e,easing:n}}function yd(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class vd{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bd=new RegExp(":enter","g"),wd=new RegExp(":leave","g");function _d(t,e,n,r,i,s={},o={},a,l,c=[]){return(new xd).buildKeyframes(t,e,n,r,i,s,o,a,l,c)}class xd{buildKeyframes(t,e,n,r,i,s,o,a,l,c=[]){l=l||new vd;const u=new Sd(t,e,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),id(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[yd(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Vh(n.duration):null,s=null!=n.delay?Vh(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),id(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cd);const t=Vh(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>id(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Vh(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),id(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Uh(e.params?Kh(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Vh(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cd);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),id(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;id(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Cd={};class Sd{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Md(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Vh(n.duration)),null!=n.delay&&(r.delay=Vh(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Kh(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Sd(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Cd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Td(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(bd,"."+this._enterClassName)).replace(wd,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Md{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Md(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):Bh(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Kh(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Bh(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?Jh(t.values()):[],s=e.size?Jh(e.values()):[];if(n){const t=r[0],e=Hh(t);t.offset=0,e.offset=1,r=[t,e]}return yd(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Td extends Md{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Bh(t[0],!1);a.offset=0,i.push(a);const l=Bh(t[0],!1);l.offset=kd(o),i.push(l);const c=t.length-1;for(let r=1;r<=c;r++){let o=Bh(t[r],!1);o.offset=kd((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return yd(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function kd(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ed{}class Pd extends Ed{normalizePropertyName(t,e){return ed(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Rd[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Rd=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ad(t,e,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Od={};class Id{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Od,d=this.buildStyles(n,o&&o.params||Od,u),p=a&&a.params||Od,f=this.buildStyles(r,p,u),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),p)},w=c?[]:_d(t,e,this.ast.animation,i,s,d,f,b,l,u);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),u.length)return Ad(e,this._triggerName,n,r,v,d,f,[],[],m,y,_,u);w.forEach(t=>{const n=t.element,r=Mh(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Mh(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const x=Jh(g.values());return Ad(e,this._triggerName,n,r,v,d,f,w,x,m,y,_)}}class Dd{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Hh(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Kh(s,r,e)),n[t]=s})}}),n}}class jd{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Dd(t.style,t.options&&t.options.params||{})}),Nd(this.states,"true","1"),Nd(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Id(t,e,this.states))}),this.fallbackTransition=new Id(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Nd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Fd=new vd;class Ld{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=hd(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=_h(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=_d(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Fd,r),s.forEach(t=>{const e=Mh(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=wh(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Sh(e,"","","");return xh(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const $d=[],Vd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ud{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Hh(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Hd=new Ud("void");class Bd{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zd(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Mh(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Mh(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Zd(t,"ng-trigger"),Zd(t,"ng-trigger-"+e),a[e]=Hd),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Wd(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Zd(t,"ng-trigger"),Zd(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Ud(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Hd),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Xh(t,n),Gh(t,r)})}return}const c=Mh(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Zd(t,"ng-animate-queued"),s.onStart(()=>{Kd(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&wh(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Hd,o=new Ud("void"),a=new Wd(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Vd||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Zd(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Sh(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,xh(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qd{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Bd(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Gd(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Gd(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zd(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kd(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Gd(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Gd(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Vd,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Zd(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?wh(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new vd,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Qd(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Zd(t,n))});const g=[],m=new Set,y=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const t=this.collectedLeaveElements[R],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=Qd(h,Array.from(m));b.forEach((t,e)=>{const n="ng-leave"+f++;v.set(e,n),t.forEach(t=>Zd(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Kd(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Kd(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>Xh(i,f.fromStyles)),e.onDestroy(()=>Gh(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>Mh(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));_.push(f)});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Mh(x,e,[]).push(t),t.destroy()})});const S=g.filter(t=>tp(t,a,l)),M=new Map;Yd(M,this.driver,y,l,"*").forEach(t=>{tp(t,a,l)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{Yd(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=M.get(t),n=T.get(t);M.set(t,Object.assign(Object.assign({},e),n))});const k=[],E=[],P={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Gh(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=P;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,i,T,M);if(s.setRealPlayer(n),t===P)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=wh(e)),r.push(s)}}else Xh(e,o.fromStyles),s.onDestroy(()=>Gh(e,o.toStyles)),E.push(s),c.has(e)&&r.push(s)}),E.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=wh(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let R=0;R<g.length;R++){const t=g[R],e=t.__ng_removed;if(Kd(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Jd(this,t,r):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,l=Mh(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Xh(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new yh(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof vh?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||$d).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=_h(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&u.add(h),p){const e=new Wd(t,o,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{Mh(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Zd(t,"ng-animating"));const d=wh(h);return d.onDestroy(()=>{c.forEach(t=>Kd(t,"ng-animating")),Gh(a,e.toStyles)}),u.forEach(t=>{Mh(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new yh(t.duration,t.delay)}}class Wd{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new yh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>xh(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Mh(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Gd(t){return t&&1===t.nodeType}function Xd(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yd(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Xd(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=zd,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Xd(t,s[a++])),o}function Qd(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Zd(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Kd(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Jd(t,e,n){wh(n).onDone(()=>t.processLeaveNode(e))}function tp(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ep{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qd(t,e,n),this._timelineEngine=new Ld(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=hd(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new jd(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Th(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Th(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function np(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ip(e[0]),e.length>1&&(r=ip(e[e.length-1]))):e&&(n=ip(e)),n||r?new rp(t,n,r):null}let rp=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Gh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gh(this._element,this._initialStyles),this._endStyles&&(Gh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Xh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xh(this._element,this._endStyles),this._endStyles=null),Gh(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ip(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];sp(i)&&(e=e||{},e[i]=t[i])}return e}function sp(t){return"display"===t||"position"===t}class op{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=dp(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),hp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),up(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ap(this._element,this._name,"paused")}resume(){ap(this._element,this._name,"running")}setPosition(t){const e=lp(this._element,this._name);this._position=t*this._duration,hp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),up(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=dp(t,"").split(","),r=cp(n,e);r>=0&&(n.splice(r,1),hp(t,"",n.join(",")))}(this._element,this._name))}}function ap(t,e,n){hp(t,"PlayState",n,lp(t,e))}function lp(t,e){const n=dp(t,"");return n.indexOf(",")>0?cp(n.split(","),e):cp([n],e)}function cp(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function up(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function hp(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function dp(t,e){return t.style["animation"+e]}class pp{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new op(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:sd(this.element,n))})}this.currentSnapshot=t}}class fp extends yh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Fh(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class gp{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ih(t)}matchesElement(t,e){return Dh(t,e)}containsElement(t,e){return jh(t,e)}query(t,e,n){return Nh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Fh(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof pp),l={};nd(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=rd(t,e,l));if(0==n)return new fp(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=np(t,e),p=new pp(t,e,u,n,r,i,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class mp{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:sd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class yp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vp().toString()),this._cssKeyframesDriver=new gp}validateStyleProperty(t){return Ih(t)}matchesElement(t,e){return Dh(t,e)}containsElement(t,e){return jh(t,e)}query(t,e,n){return Nh(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(t=>t instanceof mp);nd(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=np(t,e=rd(t,e=e.map(t=>Bh(t,!1)),l));return new mp(t,e,a,u)}}function vp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let bp=(()=>{class t extends ch{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ce.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?dh(t):t;return xp(this._renderer,null,e,"register",[n]),new wp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Yt(la),Yt(Pc))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class wp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new _p(this._id,t,e||{},this._renderer)}}class _p{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xp(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function xp(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Cp=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Sp("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Mp(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Yt(la),Yt(ep),Yt(Ql))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Sp{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Mp extends Sp{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Tp=(()=>{class t extends ep{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc),Yt($h),Yt(Ed))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const kp=[{provide:$h,useFactory:function(){return"function"==typeof vp()?new yp:new gp}},{provide:new $t("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:ch,useClass:bp},{provide:Ed,useFactory:function(){return new Pd}},{provide:ep,useClass:Tp},{provide:la,useFactory:function(t,e,n){return new Cp(t,e,n)},deps:[Qu,ep,Ql]}];let Ep=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:kp,imports:[lh]}),t})();function Pp(...t){let e=t[t.length-1];return k(e)?(t.pop(),V(t,e)):W(t)}class Rp extends M{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const Ap=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),Op={};class Ip{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Dp(t,this.resultSelector))}}class Dp extends N{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Op),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(j(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===Op?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const jp=new w(t=>t.complete());function Np(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):jp}function Fp(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?z(n):Np()).subscribe(e)})}function Lp(){return q(1)}function $p(t,e){return function(n){return n.lift(new Vp(t,e))}}class Vp{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new zp(t,this.predicate,this.thisArg))}}class zp extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Up=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Hp(t){return function(e){return 0===t?Np():e.lift(new Bp(t))}}class Bp{constructor(t){if(this.total=t,this.total<0)throw new Up}call(t,e){return e.subscribe(new qp(t,this.total))}}class qp extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Wp(t=Yp){return e=>e.lift(new Gp(t))}class Gp{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Xp(t,this.errorFactory))}}class Xp extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Yp(){return new Ap}function Qp(t=null){return e=>e.lift(new Zp(t))}class Zp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kp(t,this.defaultValue))}}class Kp extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Jp(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$p((e,n)=>t(e,n,r)):y,Hp(1),n?Qp(e):Wp(()=>new Ap))}function tf(t){return function(e){const n=new ef(t),r=e.lift(n);return n.caught=r}}class ef{constructor(t){this.selector=t}call(t,e){return e.subscribe(new nf(t,this.selector,this.caught))}}class nf extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new E(this,void 0,void 0);this.add(r);const i=j(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function rf(t){return e=>0===t?Np():e.lift(new sf(t))}class sf{constructor(t){if(this.total=t,this.total<0)throw new Up}call(t,e){return e.subscribe(new of(t,this.total))}}class of extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function af(t,e){const n=arguments.length>=2;return r=>r.pipe(t?$p((e,n)=>t(e,n,r)):y,rf(1),n?Qp(e):Wp(()=>new Ap))}class lf{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new cf(t,this.predicate,this.thisArg,this.source))}}class cf extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function uf(t,e){return"function"==typeof e?n=>n.pipe(uf((n,r)=>z(t(n,r)).pipe(F((t,i)=>e(n,t,r,i))))):e=>e.lift(new hf(t))}class hf{constructor(t){this.project=t}call(t,e){return e.subscribe(new df(t,this.project))}}class df extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new E(this,e,n),s=this.destination;s.add(i),this.innerSubscription=j(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function pf(...t){return Lp()(Pp(...t))}function ff(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new gf(t,e,n))}}class gf{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new mf(t,this.accumulator,this.seed,this.hasSeed))}}class mf extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function yf(t,e){return U(t,e,1)}function vf(){}function bf(t,e,n){return function(r){return r.lift(new wf(t,e,n))}}class wf{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new _f(t,this.nextOrObserver,this.error,this.complete))}}class _f extends f{constructor(t,e,n,i){super(t),this._tapNext=vf,this._tapError=vf,this._tapComplete=vf,this._tapError=n||vf,this._tapComplete=i||vf,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||vf,this._tapError=e.error||vf,this._tapComplete=e.complete||vf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class xf{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Cf(t,this.callback))}}class Cf extends f{constructor(t,e){super(t),this.add(new h(e))}}class Sf{constructor(t,e){this.id=t,this.url=e}}class Mf extends Sf{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tf extends Sf{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kf extends Sf{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ef extends Sf{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pf extends Sf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rf extends Sf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Af extends Sf{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Of extends Sf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class If extends Sf{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Df{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jf{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nf{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ff{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lf{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $f{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vf{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let zf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ys(0,"router-outlet")},directives:function(){return[Wm]},encapsulation:2}),t})();class Uf{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Hf(t){return new Uf(t)}function Bf(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qf(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Wf{constructor(t,e){this.routes=t,this.module=e}}function Gf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Xf(r,Yf(e,r))}}function Xf(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Gf(t.children,e)}function Yf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Qf(t){const e=t.children&&t.children.map(Qf),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=zf),n}function Zf(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Kf(t[i],e[i]))return!1;return!0}function Kf(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Jf(t){return Array.prototype.concat.apply([],t)}function tg(t){return t.length>0?t[t.length-1]:null}function eg(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ng(t){return to(t)?t:Js(t)?z(Promise.resolve(t)):Pp(t)}function rg(t,e,n){return n?function(t,e){return Zf(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ag(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kf(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!ag(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!ag(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!ag(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class ig{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return hg.serialize(this)}}class sg{constructor(t,e){this.segments=t,this.children=e,this.parent=null,eg(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dg(this)}}class og{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Hf(this.parameters)),this._parameterMap}toString(){return vg(this)}}function ag(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function lg(t,e){let n=[];return eg(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),eg(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class cg{}class ug{parse(t){const e=new Cg(t);return new ig(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return dg(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return eg(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=lg(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${dg(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${fg(e)}=${fg(t)}`).join("&"):`${fg(e)}=${fg(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const hg=new ug;function dg(t){return t.segments.map(t=>vg(t)).join("/")}function pg(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fg(t){return pg(t).replace(/%3B/gi,";")}function gg(t){return pg(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mg(t){return decodeURIComponent(t)}function yg(t){return mg(t.replace(/\+/g,"%20"))}function vg(t){return`${gg(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${gg(t)}=${gg(e[t])}`).join("")}`;var e}const bg=/^[^\/()?;=#]+/;function wg(t){const e=t.match(bg);return e?e[0]:""}const _g=/^[^=?&#]+/,xg=/^[^?&#]+/;class Cg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sg([],{}):new sg([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new sg(t,e)),n}parseSegment(){const t=wg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new og(mg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=wg(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=wg(this.remaining);t&&(n=t,this.capture(n))}t[mg(e)]=mg(n)}parseQueryParam(t){const e=function(t){const e=t.match(_g);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(xg);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=yg(e),i=yg(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=wg(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new sg([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sg{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Mg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Tg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Tg(t,this._root).map(t=>t.value)}}function Mg(t,e){if(t===e.value)return e;for(const n of e.children){const e=Mg(t,n);if(e)return e}return null}function Tg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tg(t,n);if(r.length)return r.unshift(e),r}return[]}class kg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Eg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Pg extends Sg{constructor(t,e){super(t),this.snapshot=e,jg(this,t)}toString(){return this.snapshot.toString()}}function Rg(t,e){const n=function(t,e){const n=new Ig([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Dg("",new kg(n,[]))}(t,e),r=new Rp([new og("",{})]),i=new Rp({}),s=new Rp({}),o=new Rp({}),a=new Rp(""),l=new Ag(r,i,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new Pg(new kg(l,[]),n)}class Ag{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>Hf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>Hf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Og(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ig{constructor(t,e,n,r,i,s,o,a,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dg extends Sg{constructor(t,e){super(e),this.url=t,jg(this,e)}toString(){return Ng(this._root)}}function jg(t,e){e.value._routerState=t,e.children.forEach(e=>jg(t,e))}function Ng(t){const e=t.children.length>0?` { ${t.children.map(Ng).join(", ")} } `:"";return`${t.value}${e}`}function Fg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zf(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Zf(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zf(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Zf(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Lg(t,e){var n,r;return Zf(t.params,e.params)&&ag(n=t.url,r=e.url)&&n.every((t,e)=>Zf(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Lg(t.parent,e.parent))}function $g(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vg(t,e,n,r,i){let s={};return r&&eg(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ig(n.root===t?e:function t(e,n,r){const i={};return eg(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new sg(e.segments,i)}(n.root,t,e),s,i)}class zg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&$g(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==tg(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ug{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Bg(t,e,n){if(t||(t=new sg([],{})),0===t.segments.length&&t.hasChildren())return qg(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=Hg(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Yg(o,a,e))return s;r+=2}else{if(!Yg(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new sg(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new sg(t.segments.slice(r.pathIndex),t.children),qg(e,0,i)}return r.match&&0===i.length?new sg(t.segments,{}):r.match&&!t.hasChildren()?Wg(t,e,n):r.match?qg(t,0,i):Wg(t,e,n)}function qg(t,e,n){if(0===n.length)return new sg(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return eg(r,(n,r)=>{null!==n&&(i[r]=Bg(t.children[r],e,n))}),eg(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new sg(t.segments,i)}}function Wg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Gg(n[i].outlets);return new sg(r,t)}if(0===i&&$g(n[0])){r.push(new og(t.segments[e].path,n[0])),i++;continue}const s=Hg(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&$g(o)?(r.push(new og(s,Xg(o))),i+=2):(r.push(new og(s,{})),i++)}return new sg(r,{})}function Gg(t){const e={};return eg(t,(t,n)=>{null!==t&&(e[n]=Wg(new sg([],{}),0,t))}),e}function Xg(t){const e={};return eg(t,(t,n)=>e[n]=`${t}`),e}function Yg(t,e,n){return t==n.path&&Zf(e,n.parameters)}class Qg{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Fg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Eg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),eg(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Eg(t),i=t.value.component?n.children:e;eg(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Eg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new $f(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Ff(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Fg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Zg(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Zg(t){Fg(t.value),t.children.forEach(Zg)}function Kg(t){return"function"==typeof t}function Jg(t){return t instanceof ig}class tm{constructor(t){this.segmentGroup=t||null}}class em{constructor(t){this.urlTree=t}}function nm(t){return new w(e=>e.error(new tm(t)))}function rm(t){return new w(e=>e.error(new em(t)))}function im(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class sm{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Jt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(tf(t=>{if(t instanceof em)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof tm)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(tf(t=>{if(t instanceof tm)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new sg([],{primary:t}):t;return new ig(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new sg([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Pp({});const n=[],r=[],i={};return eg(t,(t,s)=>{const o=e(s,t).pipe(F(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),Pp.apply(null,n.concat(r)).pipe(Lp(),Jp(),F(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){return Pp(...n).pipe(F(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(tf(t=>{if(t instanceof tm)return Pp(null);throw t}))),Lp(),af(t=>!!t),tf((t,n)=>{if(t instanceof Ap||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Pp(new sg([],{}));throw new tm(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return cm(r)!==s?nm(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):nm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?rm(i):this.lineralizeSegments(n,i).pipe(U(n=>{const i=new sg(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=om(e,r,i);if(!o)return nm(e);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?rm(u):this.lineralizeSegments(r,u).pipe(U(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new sg(r,{})))):Pp(new sg(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=om(e,n,r);if(!i)return nm(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(U(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>lm(t,e,n)&&"primary"!==cm(n))}(t,n,r)?{segmentGroup:am(new sg(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==cm(r)&&(n[cm(r)]=new sg([],{}));return n}(r,new sg(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>lm(t,e,n))}(t,n,r)?{segmentGroup:am(new sg(t.segments,function(t,e,n,r){const i={};for(const s of n)lm(t,e,s)&&!r[cm(s)]&&(i[cm(s)]=new sg([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(F(t=>new sg(s,t))):0===r.length&&0===o.length?Pp(new sg(s,{})):this.expandSegment(n,i,r,o,"primary",!0).pipe(F(t=>new sg(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Pp(new Wf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Pp(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?z(r).pipe(F(r=>{const i=t.get(r);let s;if(function(t){return t&&Kg(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Kg(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return ng(s)})).pipe(Lp(),(i=t=>!0===t,t=>t.lift(new lf(i,void 0,t)))):Pp(!0);var i}(t.injector,e,n).pipe(U(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Bf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Pp(new Wf([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Pp(n);if(r.numberOfChildren>1||!r.children.primary)return im(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ig(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return eg(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return eg(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new sg(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function om(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||qf)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function am(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new sg(t.segments.concat(e.segments),e.children)}return t}function lm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function cm(t){return t.outlet||"primary"}class um{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hm{constructor(t,e){this.component=t,this.route=e}}function dm(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Eg(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ag(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ag(t.url,e.url)||!Zf(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lg(t,e)||!Zf(t.queryParams,e.queryParams);case"paramsChange":default:return!Lg(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new um(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:r,i,s),c&&s.canDeactivateChecks.push(new hm(l&&l.outlet&&l.outlet.component||null,a))}else a&&fm(n,l,s),s.canActivateChecks.push(new um(i)),t(e,null,o.component?l?l.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),eg(o,(t,e)=>fm(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function pm(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function fm(t,e,n){const r=Eg(t),i=t.value;eg(r,(t,r)=>{fm(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new hm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const gm=Symbol("INITIAL_VALUE");function mm(){return uf(t=>function(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),W(t,n).lift(new Ip(e))}(...t.map(t=>t.pipe(rf(1),function(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>pf(t,n,e)):e=>pf(t,e)}(gm)))).pipe(ff((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==gm)return t;if(r===gm&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jg(r))return r}return t},t)},gm),$p(t=>t!==gm),F(t=>Jg(t)?t:!0===t),rf(1)))}function ym(t,e){return null!==t&&e&&e(new Lf(t)),Pp(!0)}function vm(t,e){return null!==t&&e&&e(new Nf(t)),Pp(!0)}function bm(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Pp(r.map(r=>Fp(()=>{const i=pm(r,e,n);let s;if(function(t){return t&&Kg(t.canActivate)}(i))s=ng(i.canActivate(e,t));else{if(!Kg(i))throw new Error("Invalid CanActivate guard");s=ng(i(e,t))}return s.pipe(af())}))).pipe(mm()):Pp(!0)}function wm(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Fp(()=>Pp(e.guards.map(i=>{const s=pm(i,e.node,n);let o;if(function(t){return t&&Kg(t.canActivateChild)}(s))o=ng(s.canActivateChild(r,t));else{if(!Kg(s))throw new Error("Invalid CanActivateChild guard");o=ng(s(r,t))}return o.pipe(af())})).pipe(mm())));return Pp(i).pipe(mm())}class _m{}class xm{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Mm(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ig([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kg(n,e),i=new Dg(this.url,r);return this.inheritParamsAndData(i._root),Pp(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Og(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=lg(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof _m))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new _m}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new _m;if((t.outlet||"primary")!==r)throw new _m;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?tg(n).parameters:{};i=new Ig(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Em(t),r,t.component,t,Cm(e),Sm(e)+n.length,Pm(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new _m;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||qf)(n,t,e);if(!r)throw new _m;const i={};eg(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Ig(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Em(t),r,t.component,t,Cm(e),Sm(e)+s.length,Pm(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Mm(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new kg(i,t)]}if(0===a.length&&0===c.length)return[new kg(i,[])];const u=this.processSegment(a,l,c,"primary");return[new kg(i,u)]}}function Cm(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Mm(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Tm(t,e,n)&&"primary"!==km(n))}(t,n,r)){const i=new sg(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==km(s)){const n=new sg([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[km(s)]=n}return i}(t,e,r,new sg(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Tm(t,e,n))}(t,n,r)){const s=new sg(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Tm(t,n,a)&&!i[km(a)]){const n=new sg([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[km(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new sg(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Tm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function km(t){return t.outlet||"primary"}function Em(t){return t.data||{}}function Pm(t){return t.resolve||{}}function Rm(t,e,n,r){const i=pm(t,e,r);return ng(i.resolve?i.resolve(e,n):i(e,n))}function Am(t){return function(e){return e.pipe(uf(e=>{const n=t(e);return n?z(n).pipe(F(()=>e)):z([e])}))}}class Om{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Im=new $t("ROUTES");class Dm{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Wf(Jf(r.injector.get(Im)).map(Qf),r)}))}loadModuleFactory(t){return"string"==typeof t?z(this.loader.load(t)):ng(t()).pipe(U(t=>t instanceof te?Pp(t):z(this.compiler.compileModuleAsync(t))))}}class jm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Nm(t){throw t}function Fm(t,e,n){return e.parse("/")}function Lm(t,e){return Pp(null)}let $m=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=Nm,this.malformedUriErrorHandler=Fm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Lm,afterPreactivation:Lm},this.urlHandlingStrategy=new jm,this.routeReuseStrategy=new Om,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Jt),this.console=i.get(Nl);const l=i.get(Ql);this.isNgZoneEnabled=l instanceof Ql,this.resetConfig(a),this.currentUrlTree=new ig(new sg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Dm(s,o,t=>this.triggerEvent(new Df(t)),t=>this.triggerEvent(new jf(t))),this.routerState=Rg(this.currentUrlTree,this.rootComponentType),this.transitions=new Rp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe($p(t=>0!==t.id),F(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),uf(t=>{let n=!1,r=!1;return Pp(t).pipe(bf(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),uf(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Pp(t).pipe(uf(t=>{const n=this.transitions.getValue();return e.next(new Mf(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?jp:[t]}),uf(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(uf(t=>function(t,e,n,r,i){return new sm(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(F(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),bf(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(U(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new xm(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(F(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),bf(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),bf(t=>{const n=new Pf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Mf(n,this.serializeUrl(r),i,s);e.next(a);const l=Rg(r,this.rootComponentType).snapshot;return Pp(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),jp}),Am(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),bf(t=>{const e=new Rf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign(Object.assign({},t),{guards:dm(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(U(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Pp(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return z(t).pipe(U(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Pp(s.map(s=>{const o=pm(s,e,i);let a;if(function(t){return t&&Kg(t.canDeactivate)}(o))a=ng(o.canDeactivate(t,e,n,r));else{if(!Kg(o))throw new Error("Invalid CanDeactivate guard");a=ng(o(t,e,n,r))}return a.pipe(af())})).pipe(mm()):Pp(!0)}(t.component,t.route,n,e,r)),af(t=>!0!==t,!0))}(o,r,i,t).pipe(U(n=>n&&"boolean"==typeof n?function(t,e,n,r){return z(e).pipe(yf(e=>z([vm(e.route.parent,r),ym(e.route,r),wm(t,e.path,n),bm(t,e.route,n)]).pipe(Lp(),af(t=>!0!==t,!0))),af(t=>!0!==t,!0))}(r,s,t,e):Pp(n)),F(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),bf(t=>{if(Jg(t.guardsResult)){const e=Bf(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),bf(t=>{const e=new Af(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),$p(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new kf(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Am(t=>{if(t.guards.canActivateChecks.length)return Pp(t).pipe(bf(t=>{const e=new Of(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(U(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?z(i).pipe(yf(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Pp({});if(1===i.length){const s=i[0];return Rm(t[s],e,n,r).pipe(F(t=>({[s]:t})))}const s={};return z(i).pipe(U(i=>Rm(t[i],e,n,r).pipe(F(t=>(s[i]=t,t))))).pipe(Jp(),F(()=>s))}(t._resolve,t,e,r).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Og(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return v(ff(t,e),Hp(1),Qp(e))(n)}:function(e){return v(ff((e,n,r)=>t(e,n,r+1)),Hp(1))(e)}}((t,e)=>t),F(e=>t)):Pp(t)}))}),bf(t=>{const e=new If(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Am(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),F(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new kg(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Ag(new Rp((i=n.value).url),new Rp(i.params),new Rp(i.queryParams),new Rp(i.fragment),new Rp(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new kg(r,s)}}var i}(t,e._root,n?n._root:void 0);return new Pg(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),bf(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),F(t=>(new Qg(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),bf({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new kf(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new xf(i))),tf(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jg(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new kf(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ef(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return jp}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Gf(t),this.config=t.map(Qf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;pr()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:i;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=s?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Vg(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new zg(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return eg(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new zg(n,e,r)}(n);if(s.toRoot())return Vg(e.root,new sg([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Ug(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ug(n.snapshot._urlSegment,!0,0);const r=$g(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Ug(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?qg(o.segmentGroup,o.index,s.commands):Bg(o.segmentGroup,o.index,s.commands);return Vg(o.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){pr()&&this.isNgZoneEnabled&&!Ql.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Jg(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Jg(t))return rg(this.currentUrlTree,t,e);const n=this.parseUrl(t);return rg(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Tf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;i?(o=i.resolve,a=i.reject,l=i.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){Bs()},t.\u0275dir=be({type:t}),t})(),Vm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){pr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:Um(this.skipLocationChange),replaceUrl:Um(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Um(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Um(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Us($m),Us(Ag),Hs("tabindex"),Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&eo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),zm=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Tf&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){pr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:Um(this.skipLocationChange),replaceUrl:Um(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Um(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Um(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Us($m),Us(Ag),Us($c))},t.\u0275dir=be({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&eo("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(Lo("href",e.href,yr),Fs("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Wo]}),t})();function Um(t){return""===t||!!t}let Hm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Tf&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(Us($m),Us(oa),Us(ua),Us(Vm,8),Us(zm,8))},t.\u0275dir=be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(wl(n,Vm,!0),wl(n,zm,!0)),2&t&&(ml(r=Cl())&&(e.links=r),ml(r=Cl())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Wo]}),t})();class Bm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qm,this.attachRef=null}}class qm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Bm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Wm=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new sl,this.deactivateEvents=new sl,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gm(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Us(qm),Us(Oa),Us(sa),Hs("name"),Us(os))},t.\u0275dir=be({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Gm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ag?this.route:t===qm?this.childContexts:this.parent.get(t,e)}}class Xm{}class Ym{preload(t,e){return Pp(null)}}let Qm=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Dm(e,n,e=>t.triggerEvent(new Df(e)),e=>t.triggerEvent(new jf(e)))}setUpPreloading(){this.subscription=this.router.events.pipe($p(t=>t instanceof Tf),yf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Jt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return z(n).pipe(q(),F(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Yt($m),Yt(vc),Yt(Wl),Yt(xs),Yt(Xm))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Zm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vf&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Vf(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){Bs()},t.\u0275dir=be({type:t}),t})();const Km=new $t("ROUTER_CONFIGURATION"),Jm=new $t("ROUTER_FORROOT_GUARD"),ty=[Bc,{provide:cg,useClass:ug},{provide:$m,useFactory:function(t,e,n,r,i,s,o,a={},l,c){const u=new $m(null,t,e,n,r,i,s,Jf(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=Ec();u.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[cg,qm,Bc,xs,vc,Wl,Im,Km,[class{},new st],[class{},new st]]},qm,{provide:Ag,useFactory:function(t){return t.routerState.root},deps:[$m]},{provide:vc,useClass:_c},Qm,Ym,class{preload(t,e){return e().pipe(tf(()=>Pp(null)))}},{provide:Km,useValue:{enableTracing:!1}}];function ey(){return new hc("Router",$m)}let ny=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ty,oy(e),{provide:Jm,useFactory:sy,deps:[[$m,new st,new at]]},{provide:Km,useValue:n||{}},{provide:$c,useFactory:iy,deps:[Rc,[new it(zc),new st],Km]},{provide:Zm,useFactory:ry,deps:[$m,Iu,Km]},{provide:Xm,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ym},{provide:hc,multi:!0,useFactory:ey},[ay,{provide:El,multi:!0,useFactory:ly,deps:[ay]},{provide:uy,useFactory:cy,deps:[ay]},{provide:jl,multi:!0,useExisting:uy}]]}}static forChild(e){return{ngModule:t,providers:[oy(e)]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)(Yt(Jm,8),Yt($m,8))}}),t})();function ry(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Zm(t,e,n)}function iy(t,e,n={}){return n.useHash?new Hc(t,e):new Uc(t,e)}function sy(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function oy(t){return[{provide:Cs,multi:!0,useValue:t},{provide:Im,multi:!0,useValue:t}]}let ay=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new M}appInitializer(){return this.injector.get(Oc,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get($m),r=this.injector.get(Km);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Pp(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Km),n=this.injector.get(Qm),r=this.injector.get(Zm),i=this.injector.get($m),s=this.injector.get(mc);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Yt(xs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();function ly(t){return t.appInitializer.bind(t)}function cy(t){return t.bootstrapListener.bind(t)}const uy=new $t("Router Initializer");class hy{}class dy{}class py{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof py?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new py;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof py?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fy{encodeKey(t){return gy(t)}encodeValue(t){return gy(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function gy(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class my{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fy,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new my({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function yy(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function vy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function by(t){return"undefined"!=typeof FormData&&t instanceof FormData}class wy{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new py),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new my,this.urlWithParams=e}serializeBody(){return null===this.body?null:yy(this.body)||vy(this.body)||by(this.body)||"string"==typeof this.body?this.body:this.body instanceof my?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||by(this.body)?null:vy(this.body)?this.body.type||null:yy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof my?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new wy(e,n,i,{params:l,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const _y=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class xy{constructor(t,e=200,n="OK"){this.headers=t.headers||new py,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Cy extends xy{constructor(t={}){super(t),this.type=_y.ResponseHeader}clone(t={}){return new Cy({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Sy extends xy{constructor(t={}){super(t),this.type=_y.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Sy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class My extends xy{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ty(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let ky=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof wy)r=t;else{let i=void 0;i=n.headers instanceof py?n.headers:new py(n.headers);let s=void 0;n.params&&(s=n.params instanceof my?n.params:new my({fromObject:n.params})),r=new wy(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Pp(r).pipe(yf(t=>this.handler.handle(t)));if(t instanceof wy||"events"===n.observe)return i;const s=i.pipe($p(t=>t instanceof Sy));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(F(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new my).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ty(n,e))}post(t,e,n={}){return this.request("POST",t,Ty(n,e))}put(t,e,n={}){return this.request("PUT",t,Ty(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Yt(hy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class Ey{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Py=new $t("HTTP_INTERCEPTORS");let Ry=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const Ay=/^\)\]\}',?\n/;class Oy{}let Iy=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Dy=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new py(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Cy({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(Ay,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=t,c&&(c=!1,l={error:u,text:l})}}c?(e.next(new Sy({body:l,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new My({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new My({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let l=!1;const c=r=>{l||(e.next(s()),l=!0);let i={type:_y.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},u=t=>{let n={type:_y.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),e.next({type:_y.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Yt(Oy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const jy=new $t("XSRF_COOKIE_NAME"),Ny=new $t("XSRF_HEADER_NAME");class Fy{}let Ly=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Yt(Pc),Yt(Dl),Yt(jy))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),$y=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(Fy),Yt(Ny))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Vy=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Py,[]);this.chain=t.reduceRight((t,e)=>new Ey(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Yt(dy),Yt(xs))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),zy=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$y,useClass:Ry}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:jy,useValue:e.cookieName}:[],e.headerName?{provide:Ny,useValue:e.headerName}:[]]}}}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[$y,{provide:Py,useExisting:$y,multi:!0},{provide:Fy,useClass:Ly},{provide:jy,useValue:"XSRF-TOKEN"},{provide:Ny,useValue:"X-XSRF-TOKEN"}]}),t})(),Uy=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[ky,{provide:hy,useClass:Vy},Dy,{provide:dy,useExisting:Dy},Iy,{provide:Oy,useExisting:Iy}],imports:[[zy.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();function Hy(t,e){return new w(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=z(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const By=new $t("NgValueAccessor"),qy={provide:By,useExisting:St(()=>Wy),multi:!0};let Wy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&eo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[na([qy])]}),t})();const Gy={provide:By,useExisting:St(()=>Yy),multi:!0},Xy=new $t("CompositionEventMode");let Yy=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ec()?Ec().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa),Us(Xy,8))},t.\u0275dir=be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&eo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[na([Gy])]}),t})(),Qy=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t}),t})(),Zy=(()=>{class t extends Qy{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ky(e||t)},t.\u0275dir=be({type:t,features:[Vo]}),t})();const Ky=ir(Zy);function Jy(){throw new Error("unimplemented")}class tv extends Qy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Jy()}get asyncValidator(){return Jy()}}class ev{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let nv=(()=>{class t extends ev{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(tv,2))},t.\u0275dir=be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&wo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Vo]}),t})(),rv=(()=>{class t extends ev{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Us(Zy,2))},t.\u0275dir=be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&wo("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Vo]}),t})();function iv(t){return null==t||0===t.length}const sv=new $t("NgValidators"),ov=new $t("NgAsyncValidators"),av=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lv{static min(t){return e=>{if(iv(e.value)||iv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(iv(e.value)||iv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return iv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return iv(t.value)||av.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(iv(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return lv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(iv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(cv);return 0==e.length?null:function(t){return hv(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(cv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Hy(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Hy(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Hy(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return Hy(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(uv)).pipe(F(hv))}}}function cv(t){return null!=t}function uv(t){const e=Js(t)?z(t):t;if(!to(e))throw new Error("Expected validator to return Promise or Observable.");return e}function hv(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function dv(t){return t.validate?e=>t.validate(e):t}function pv(t){return t.validate?e=>t.validate(e):t}const fv={provide:By,useExisting:St(()=>gv),multi:!0};let gv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&eo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[na([fv])]}),t})();const mv={provide:By,useExisting:St(()=>vv),multi:!0};let yv=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),vv=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(tv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa),Us(yv),Us(xs))},t.\u0275dir=be({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&eo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[na([mv])]}),t})();const bv={provide:By,useExisting:St(()=>wv),multi:!0};let wv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&eo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[na([bv])]}),t})();const _v='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',xv='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Cv={provide:By,useExisting:St(()=>Mv),multi:!0};function Sv(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Mv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Rs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Sv(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&eo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[na([Cv])]}),t})(),Tv=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Sv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Us(oa),Us(ua),Us(Mv,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const kv={provide:By,useExisting:St(()=>Pv),multi:!0};function Ev(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Pv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Rs}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Us(ua),Us(oa))},t.\u0275dir=be({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&eo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[na([kv])]}),t})(),Rv=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Ev(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ev(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Us(oa),Us(ua),Us(Pv,9))},t.\u0275dir=be({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Av(t,e){return[...e.path,t]}function Ov(t,e){t||Dv(e,"Cannot find control with"),e.valueAccessor||Dv(e,"No value accessor for form control with"),t.validator=lv.compose([t.validator,e.validator]),t.asyncValidator=lv.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Iv(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Iv(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Iv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Dv(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function jv(t){return null!=t?lv.compose(t.map(dv)):null}function Nv(t){return null!=t?lv.composeAsync(t.map(pv)):null}const Fv=[Wy,wv,gv,Mv,Pv,vv];function Lv(t){const e=Vv(t)?t.validators:t;return Array.isArray(e)?jv(e):e||null}function $v(t,e){const n=Vv(e)?e.asyncValidators:t;return Array.isArray(n)?Nv(n):n||null}function Vv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class zv{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Lv(t)}setAsyncValidators(t){this.asyncValidator=$v(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=uv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Hv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Bv&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new sl,this.statusChanges=new sl}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Uv extends zv{constructor(t=null,e,n){super(Lv(e),$v(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Hv extends zv{constructor(t,e,n){super(Lv(e),$v(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Uv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Bv extends zv{constructor(t,e,n){super(Lv(e),$v(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Uv?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const qv={provide:Zy,useExisting:St(()=>Gv)},Wv=(()=>Promise.resolve(null))();let Gv=(()=>{class t extends Zy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new sl,this.form=new Hv({},jv(t),Nv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wv.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Ov(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this._directives,t)})}addFormGroup(t){Wv.then(()=>{const e=this._findContainer(t.path),n=new Hv({});(function(t,e){null==t&&Dv(e,"Cannot find control with"),t.validator=lv.compose([t.validator,e.validator]),t.asyncValidator=lv.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Wv.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Us(sv,10),Us(ov,10))},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&eo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[na([qv]),Vo]}),t})(),Xv=(()=>{class t extends Zy{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Av(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return jv(this._validators)}get asyncValidator(){return Nv(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Yv(e||t)},t.\u0275dir=be({type:t,features:[Vo]}),t})();const Yv=ir(Xv);class Qv{static modelParentException(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${_v}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${xv}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${_v}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${xv}`)}}const Zv={provide:Zy,useExisting:St(()=>Kv)};let Kv=(()=>{class t extends Xv{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Gv||Qv.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Us(Zy,5),Us(sv,10),Us(ov,10))},t.\u0275dir=be({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[na([Zv]),Vo]}),t})();const Jv={provide:tv,useExisting:St(()=>eb)},tb=(()=>Promise.resolve(null))();let eb=(()=>{class t extends tv{constructor(t,e,n,r){super(),this.control=new Uv,this._registered=!1,this.update=new sl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Dv(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===Yy?n=e:(s=e,Fv.some(t=>s.constructor===t)?(r&&Dv(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Dv(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(Dv(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Rs(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Av(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return jv(this._rawValidators)}get asyncValidator(){return Nv(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ov(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Kv)&&this._parent instanceof Xv?Qv.formGroupNameException():this._parent instanceof Kv||this._parent instanceof Gv||Qv.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Qv.missingNameException()}_updateValue(t){tb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;tb.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Us(Zy,9),Us(sv,10),Us(ov,10),Us(By,10))},t.\u0275dir=be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[na([Jv]),Vo,Wo]}),t})(),nb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const rb={provide:sv,useExisting:St(()=>ib),multi:!0};let ib=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?lv.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Fs("required",e.required?"":null)},inputs:{required:"required"},features:[na([rb])]}),t})(),sb=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),ob=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[yv],imports:[sb]}),t})();class ab extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class lb extends ab{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let cb=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class ub extends cb{constructor(t,e=cb.now){super(t,()=>ub.delegate&&ub.delegate!==this?ub.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return ub.delegate&&ub.delegate!==this?ub.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const hb=new ub(lb);function db(t,e,n,i){return r(n)&&(i=n,n=void 0),i?db(t,e,n).pipe(F(t=>l(t)?i(...t):i(t))):new w(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}class pb{call(t,e){return e.subscribe(new fb(t))}}class fb extends N{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=j(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function gb(t){return e=>e.lift(new mb(t))}class mb{constructor(t){this.notifier=t}call(t,e){const n=new yb(t),r=j(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class yb extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function vb(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new bb(t,n))}}class bb{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new wb(t,this.observables,this.project))}}class wb extends N{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++){let t=e[i];this.add(j(this,t,t,i))}}notifyNext(t,e,n,r,i){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function _b(t,e){return new w(e?n=>e.schedule(xb,0,{error:t,subscriber:n}):e=>e.error(t))}function xb({error:t,subscriber:e}){e.error(t)}let Cb=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Pp(this.value);case"E":return _b(this.error);case"C":return Np()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Sb(t,e=hb){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Mb(r,e))}class Mb{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Tb(t,this.delay,this.scheduler))}}class Tb extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Tb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new kb(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Cb.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Cb.createComplete()),this.unsubscribe()}}class kb{constructor(t,e){this.time=t,this.notification=e}}$localize`:@@ngb.alert.closef4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`;const Eb=["*"];$localize`:@@ngb.carousel.previous680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.carousel.nextf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-monthc3b08b07b5ab98e7cdcf18df39355690ab7d38848586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month4bd046985cfe13040d5ef0cd881edce0968a111a3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month1dbc84807f35518112f62e5775d1daebd3d8462b2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year8ceb09d002bf0c5d1cac171dfbffe1805d2b39628852264961585484321:Select year`;const Pb=["dialog"];function Rb(t,e){1&t&&Io(0),2&t&&Do(io(2).title)}function Ab(t,e){}function Ob(t,e){if(1&t&&(Gs(0,"h3",3),Vs(1,Rb,1,1,"ng-template",null,4,kl),Vs(3,Ab,0,0,"ng-template",5),Xs()),2&t){const t=zs(2),e=io();Ir(3),qs("ngTemplateOutlet",e.isTitleTemplate()?e.title:t)("ngTemplateOutletContext",e.context)}}function Ib(t,e){}function Db(t,e){if(1&t){const t=Ks();Gs(0,"li",4),Gs(1,"a",5),eo("click",(function(n){Ye(t);const r=e.$implicit;return io().select(r.id),n.preventDefault()})),Io(2),Vs(3,Ib,0,0,"ng-template",6),Xs(),Xs()}if(2&t){const t=e.$implicit,n=io();Ir(1),wo("active",t.id===n.activeId)("disabled",t.disabled),qs("id",t.id),Fs("tabindex",t.disabled?"-1":void 0)("aria-controls",n.destroyOnHide&&t.id!==n.activeId?null:t.id+"-panel")("aria-selected",t.id===n.activeId)("aria-disabled",t.disabled),Ir(1),jo(" ",t.title,""),Ir(1),qs("ngTemplateOutlet",(null==t.titleTpl?null:t.titleTpl.templateRef)||null)}}function jb(t,e){}function Nb(t,e){if(1&t&&(Gs(0,"div",8),Vs(1,jb,0,0,"ng-template",6),Xs()),2&t){const t=io().$implicit,e=io();"tab-pane ",n=t.id===e.activeId?"active":null,"",So(se,xo,Ls(Ge(),"tab-pane ",n,""),!0),co("id","",t.id,"-panel"),Fs("aria-labelledby",t.id),Ir(1),qs("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}var n}function Fb(t,e){if(1&t&&Vs(0,Nb,2,6,"div",7),2&t){const t=e.$implicit,n=io();qs("ngIf",!n.destroyOnHide||t.id===n.activeId)}}function Lb(t){return null!=t}$localize`:@@ngb.pagination.first656506dfd46380956a655f919f1498d018f75ca06867721956102594380:`,$localize`:@@ngb.pagination.previous6e52b6ee77a4848d899dd21b591c6fd499e3aef36479320895410098858:`,$localize`:@@ngb.pagination.nextba9cbb4ff311464308a3627e4f1c3345d9fe6d7d5458177150283468089:`,$localize`:@@ngb.pagination.last49f27a460bc97e7e00be5b37098bfa79884fc7d95277020320267646988:`,$localize`:@@ngb.pagination.first-ariaf2f852318759c6396b5d3d17031d53817d7b38cc2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria680d5c75b7fd8d37961083608b9fcdc4167b4c434452427314943113135:Previous`,$localize`:@@ngb.pagination.next-ariaf732c304c7433e5a83ffcd862c3dce709a0f49823885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria5c729788ba138508aca1bec050b610f7bf81db3e4882268002141858767:Last`,$localize`:@@ngb.progressbar.value04d611d19c117c60c9e14d0a04399a027184bc775214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HHce676ab1d6d98f85c836381cf100a4a91ef95a1f4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours3bbce5fef7e1151da052a4e529453edb340e39128070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM72c8edf6a50068a05bde70991e36b1e881f4ca541647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes41e62daa962947c0d23ded0981975d1bddf0bf385531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hourscb74bc1d625a6c1742f0d7d47306cf495780c2185939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours147c7a19429da7d999e247d22e33fee370b1691b3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutesf5a4a3bc05e053f6732475d0e74875ec01c3a348180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutesc1a6899e529c096da5b660385d4e77fe1f7ad2717447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SSebe38d36a40a2383c5fefa9b4608ffbda08bd4a33628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds912322ecee7d659d04dcf494a70e22e49d334b265364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds5db47ac104294243a70eb9124fbea9d0004ddf69753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM8d6e691e10306c1b34c6b26805151aaea320ef7f3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM69a1f176a93998876952adac57c3bc3863b6105e4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-ariaf4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c87819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let $b=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Vb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),zb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Ub=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Hb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})();var Bb=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const qb=(t,e)=>!!e&&e.some(e=>e.contains(t)),Wb=(t,e)=>!e||null!=function(t,e){return e?t.closest(e):null}(t,e),Gb=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();const Xb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Yb(t){const e=Array.from(t.querySelectorAll(Xb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}class Qb{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),u=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,p=0;switch(i){case"top":d=o.top-(e.offsetHeight+l+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+u+h);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,y=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=y&&f.bottom<=m}}const Zb=/\s+/,Kb=new Qb;let Jb=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou,ob]]}),t})(),tw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["",8,"navbar"]]}),t})(),ew=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),nw=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})();class rw{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class iw{constructor(t,e,n,r,i,s){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=r,this._componentFactoryResolver=i,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes)),this._windowRef}close(){var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(t,e){if(t){if(t instanceof Ra){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new rw([n.rootNodes],n)}return new rw([[this._renderer.createText(`${t}`)]])}return new rw([])}}const sw=()=>{};let ow=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):sw}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(Yt(Pc))},t.\u0275prov=ht({factory:function(){return new t(Yt(Pc))},token:t,providedIn:"root"}),t})(),aw=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&_o("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class lw{close(t){}dismiss(t){}}class cw{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var uw=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let hw=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new M,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new sl}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{db(t,"keydown").pipe(gb(this._closed$),$p(t=>t.which===Bb.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(uw.ESC))}));let e=!1;db(this._dialogEl.nativeElement,"mousedown").pipe(gb(this._closed$),bf(()=>e=!1),uf(()=>db(t,"mouseup").pipe(gb(this._closed$),rf(1))),$p(({target:e})=>t===e)).subscribe(()=>{e=!0}),db(t,"click").pipe(gb(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(uw.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Yb(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(Us(Pc),Us(oa),Us(Ql))},t.\u0275cmp=pe({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&yl(Pb,!0),2&t&&ml(n=Cl())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(t,e){2&t&&(Fs("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy),_o("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Eb,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(oo(),Gs(0,"div",0,1),Gs(2,"div",2),ao(3),Xs(),Xs()),2&t&&_o("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),dw=(()=>{let t=class{constructor(t,e,n,r,i,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=s,this._activeWindowCmptHasChanged=new M,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=db(e,"focusin").pipe(gb(n),F(t=>t.target));db(e,"keydown").pipe(gb(n),$p(t=>t.which===Bb.Tab),vb(t)).subscribe(([t,n])=>{const[r,i]=Yb(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&db(e,"click").pipe(gb(n),vb(t),F(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Lb(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const l=new lw,c=this._getContentRef(t,r.injector||e,n,l,r);let u=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),d=new cw(h,c,u,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),u&&u.instance&&this._applyBackdropOptions(u.instance,r),d}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(aw).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(hw).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Lb(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Lb(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,r,i){return n?n instanceof Ra?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,r,i):new rw([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new rw([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new rw([[e]])}_createFromComponent(t,e,n,r,i){const s=t.resolveComponentFactory(n),o=xs.create({providers:[{provide:lw,useValue:r}],parent:e}),a=s.create(o),l=a.location.nativeElement;return i.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new rw([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(Yt(mc),Yt(xs),Yt(Pc),Yt(ow),Yt(la),Yt(Ql))},t.\u0275prov=ht({factory:function(){return new t(Yt(mc),Yt(Vt),Yt(Pc),Yt(ow),Yt(la),Yt(Ql))},token:t,providedIn:"root"}),t})(),pw=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(Yt(sa),Yt(xs),Yt(dw),Yt(nw))},t.\u0275prov=ht({factory:function(){return new t(Yt(sa),Yt(Vt),Yt(dw),Yt(nw))},token:t,providedIn:"root"}),t})(),fw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[pw]}),t})(),gw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),mw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})();class yw{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const vw={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},bw=t=>t>0?Sb(t):t=>t;let ww=(()=>{let t=class{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),_w=0,xw=(()=>{let t=class{isTitleTemplate(){return this.title instanceof Ra}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(Lo("id",e.id),_o("popover"+(e.popoverClass?" "+e.popoverClass:"")))},inputs:{title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:Eb,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(oo(),Ys(0,"div",0),Vs(1,Ob,4,2,"h3",1),Gs(2,"div",2),ao(3),Xs()),2&t&&(Ir(1),qs("ngIf",null!=e.title))},directives:[Tu,Pu],styles:["ngb-popover-window.bs-popover-bottom>.arrow,ngb-popover-window.bs-popover-top>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-bottom-left>.arrow,ngb-popover-window.bs-popover-top-left>.arrow{left:2em}ngb-popover-window.bs-popover-bottom-right>.arrow,ngb-popover-window.bs-popover-top-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}"],encapsulation:2,changeDetection:0}),t})(),Cw=(()=>{let t=class{constructor(t,e,n,r,i,s,o,a,l,c){this._elementRef=t,this._renderer=e,this._ngZone=o,this._document=a,this._changeDetector=l,this.shown=new sl,this.hidden=new sl,this._ngbPopoverWindowId=`ngb-popover-${_w++}`,this._windowRef=null,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new iw(xw,n,i,e,r,c),this._zoneSubscription=o.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,r,i){let s=Array.isArray(n)?n:n.split(Zb);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,l=t=>{const[e,n]=t.split("-"),r=[];return r.push(`bs-popover-${e}`),n&&r.push(`bs-popover-${e}-${n}`),r.forEach(t=>{a.add(t)}),r};o.forEach(t=>{a.remove(`bs-popover-${t}`)});let c=s.findIndex(t=>"auto"===t);c>=0&&o.forEach((function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(c++,1,t)}));const u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let h=null,d=!1;for(h of s){let n=l(h);if(Kb.positionElements(t,e,h,r)){d=!0;break}n.forEach(t=>{a.remove(t)})}d||(h=s[0],l(h),Kb.positionElements(t,e,h,r))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}_isDisabled(){return!!this.disablePopover||!this.ngbPopover&&!this.popoverTitle}open(t){this._windowRef||this._isDisabled()||(this._windowRef=this._popupService.open(this.ngbPopover,t),this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=t,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,r,i,s,o,a){var c;n&&t.runOutsideAngular((c=()=>{const c=db(e,"keydown").pipe(gb(i),$p(t=>t.which===Bb.Escape),bf(t=>t.preventDefault())),u=db(e,"mousedown").pipe(F(t=>{const e=t.target;return 2!==t.button&&!qb(e,o)&&("inside"===n?qb(e,s)&&Wb(e,a):"outside"===n?!qb(e,s):Wb(e,a)||!qb(e,s))}),gb(i));(function(...t){if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return W(t,void 0).lift(new pb)})([c,db(e,"mouseup").pipe(vb(u),$p(([t,e])=>e),Sb(0),gb(i))]).subscribe(()=>t.run(r))},Gb?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,r,i,s,o=0,a=0){const l=function(t,e=vw){const n=(t||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new yw(n[0],n[1])}),i=r.filter(t=>t.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===l.length&&l[0].isManual())return()=>{};const c=function(t,e,n,r){return new w(i=>{const s=[],o=()=>i.next(!0),a=()=>i.next(!1),l=()=>i.next(!r());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,l)):s.push(t.listen(e,n.open,o),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,l,r).pipe(function(t,e,n){return r=>{let i=null;const s=r.pipe(F(t=>({open:t})),$p(t=>{const e=n();return e===t.open||i&&i.open!==e?(i&&i.open!==t.open&&(i=null),!1):(i=t,!0)}),et());return G(s.pipe($p(t=>t.open),bw(t)),s.pipe($p(t=>!t.open),bw(e))).pipe($p(t=>t===i&&(i=null,t.open!==n())),F(t=>t.open))}}(o,a,r)).subscribe(t=>t?i():s());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:e,disablePopover:n,popoverClass:r}){r&&this.isOpen()&&(this._windowRef.instance.popoverClass=r.currentValue),(t||e||n)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}};return t.\u0275fac=function(e){return new(e||t)(Us(oa),Us(ua),Us(xs),Us(sa),Us(Oa),Us(ww),Us(Ql),Us(Pc),Us(os),Us(mc))},t.\u0275dir=be({type:t,selectors:[["","ngbPopover",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Wo]}),t})(),Sw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Mw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Tw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),kw=(()=>{let t=class{constructor(){this.justify="start",this.orientation="horizontal",this.type="tabs"}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ew=0,Pw=(()=>{let t=class{constructor(t){this.templateRef=t}};return t.\u0275fac=function(e){return new(e||t)(Us(Ra))},t.\u0275dir=be({type:t,selectors:[["ng-template","ngbTabTitle",""]]}),t})(),Rw=(()=>{let t=class{constructor(t){this.templateRef=t}};return t.\u0275fac=function(e){return new(e||t)(Us(Ra))},t.\u0275dir=be({type:t,selectors:[["ng-template","ngbTabContent",""]]}),t})(),Aw=(()=>{let t=class{constructor(){this.id=`ngb-tab-${Ew++}`,this.disabled=!1}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.contentTpl=this.contentTpls.first}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["ngb-tab"]],contentQueries:function(t,e,n){var r;1&t&&(wl(n,Pw,!1),wl(n,Rw,!1)),2&t&&(ml(r=Cl())&&(e.titleTpls=r),ml(r=Cl())&&(e.contentTpls=r))},inputs:{id:"id",disabled:"disabled",title:"title"}}),t})(),Ow=(()=>{let t=class{constructor(t){this.destroyOnHide=!0,this.tabChange=new sl,this.type=t.type,this.justify=t.justify,this.orientation=t.orientation}set justify(t){this.justifyClass="fill"===t||"justified"===t?`nav-${t}`:`justify-content-${t}`}select(t){let e=this._getTabById(t);if(e&&!e.disabled&&this.activeId!==e.id){let t=!1;this.tabChange.emit({activeId:this.activeId,nextId:e.id,preventDefault:()=>{t=!0}}),t||(this.activeId=e.id)}}ngAfterContentChecked(){let t=this._getTabById(this.activeId);this.activeId=t?t.id:this.tabs.length?this.tabs.first.id:null}_getTabById(t){let e=this.tabs.filter(e=>e.id===t);return e.length?e[0]:null}};return t.\u0275fac=function(e){return new(e||t)(Us(kw))},t.\u0275cmp=pe({type:t,selectors:[["ngb-tabset"]],contentQueries:function(t,e,n){var r;1&t&&wl(n,Aw,!1),2&t&&ml(r=Cl())&&(e.tabs=r)},inputs:{destroyOnHide:"destroyOnHide",type:"type",justify:"justify",orientation:"orientation",activeId:"activeId"},outputs:{tabChange:"tabChange"},exportAs:["ngbTabset"],decls:4,vars:4,consts:[["role","tablist"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],["ngFor","",3,"ngForOf"],[1,"nav-item"],["href","","role","tab",1,"nav-link",3,"id","click"],[3,"ngTemplateOutlet"],["role","tabpanel",3,"class","id",4,"ngIf"],["role","tabpanel",3,"id"]],template:function(t,e){1&t&&(Gs(0,"ul",0),Vs(1,Db,4,11,"li",1),Xs(),Gs(2,"div",2),Vs(3,Fb,1,1,"ng-template",3),Xs()),2&t&&(_o("nav nav-"+e.type+("horizontal"==e.orientation?" "+e.justifyClass:" flex-column")),Ir(1),qs("ngForOf",e.tabs),Ir(2),qs("ngForOf",e.tabs))},directives:[Su,Pu,Tu],encapsulation:2}),t})(),Iw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Dw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),jw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})(),Nw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)}}),t})(),Fw=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou]]}),t})();const Lw=[$b,Vb,zb,Ub,Hb,Jb,ew,fw,gw,mw,Sw,Mw,Tw,Dw,jw,Nw,Fw,Iw];let $w=(()=>{let t=class{};return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[Lw,$b,Vb,zb,Ub,Hb,Jb,ew,fw,gw,mw,Sw,Mw,Tw,Dw,jw,Nw,Fw,Iw]}),t})(),Vw=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},imports:[[Ou,ob,$w]]}),t})(),zw=(()=>{class t{constructor(){this.projects=[]}addProject(t,e){void 0===this.projects[t]&&(this.projects[t]=[]),this.projects[t].push(e)}getProjects(t){return void 0===this.projects[t]&&(this.projects[t]=[]),this.projects[t]}numProjects(t){return this.getProjects(t).length}getProject(t,e){return this.getProjects(t)[e]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),Uw=(()=>{class t{constructor(){this.onResize=new sl,window.addEventListener("resize",t=>{this.onResize.emit()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Hw=function(t){return t[t.TTestPaired=0]="TTestPaired",t[t.TTestIndependent=1]="TTestIndependent",t[t.ZTest=2]="ZTest",t[t.Dichot=3]="Dichot",t}({});let Bw=(()=>{class t{constructor(){this.calculate=new sl,this.toggleHelp=new sl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],outputs:{calculate:"calculate",toggleHelp:"toggleHelp"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),qw=(()=>{class t{constructor(){this.projectChanged=new sl,this.projectSwitched=new sl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["ng-component"]],outputs:{projectChanged:"projectChanged",projectSwitched:"projectSwitched"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();const Ww=["main"];function Gw(t,e){if(1&t){const t=Ks();Gs(0,"div",1,2),Gs(2,"div",3),eo("mousedown",(function(e){return Ye(t),io().mousedown(e)}))("mouseup",(function(e){return Ye(t),io().mouseup(e)}))("mousemove",(function(e){return Ye(t),io().mousemove(e)})),Io(3),Gs(4,"button",4),eo("click",(function(){return Ye(t),io().close()})),Xs(),Xs(),Gs(5,"div",5),ao(6),Xs(),Xs()}if(2&t){const t=io();bo("top",t.yOffset?t.yOffset+"px":t.startYOffset)("left",t.xOffset?t.xOffset+"px":t.startXOffset),Ir(3),jo(" ",t.title," ")}}const Xw=["*"];let Yw=(()=>{class t{constructor(){this.startEnabled=!1,this.startXOffset="20px",this.startYOffset="20px",this.onDragStart=new sl,this.onDragEnd=new sl,this.enabled=!1,this.dragging=!1}ngOnInit(){this.enabled=this.startEnabled}open(){this.enabled=!0}toggle(){this.enabled=!this.enabled}close(){this.enabled=!1}isOpen(){return this.enabled}mousedown(t){this.startDragging();let e=this.mainElement.nativeElement.getBoundingClientRect();this.xOffset=e.left+window.pageXOffset,this.yOffset=e.top+window.pageYOffset,this.lastX=t.pageX,this.lastY=t.pageY}mouseup(t){this.stopDragging()}mousemove(t){if(this.dragging){if(0==(1&t.buttons))return void this.stopDragging();this.xOffset+=t.pageX-this.lastX,this.yOffset+=t.pageY-this.lastY,this.lastX=t.pageX,this.lastY=t.pageY}}startDragging(){this.dragging=!0,this.onDragStart.emit()}stopDragging(){this.dragging=!1,this.onDragEnd.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-draggable-dialog"]],viewQuery:function(t,e){var n;1&t&&vl(Ww,!0),2&t&&ml(n=Cl())&&(e.mainElement=n.first)},inputs:{title:"title",content:"content",startEnabled:["start-enabled","startEnabled"],startXOffset:["start-x-offset","startXOffset"],startYOffset:["start-y-offset","startYOffset"]},outputs:{onDragStart:"drag-start",onDragEnd:"drag-end"},ngContentSelectors:Xw,decls:1,vars:1,consts:[["class","dialog",3,"top","left",4,"ngIf"],[1,"dialog"],["main",""],[1,"header",3,"mousedown","mouseup","mousemove"],["type","button",1,"close","fa","fa-times-circle",3,"click"],[1,"content"]],template:function(t,e){1&t&&(oo(),Vs(0,Gw,7,5,"div",0)),2&t&&qs("ngIf",e.enabled)},directives:[Tu],styles:[".dialog[_ngcontent-%COMP%]{display:block;position:absolute;z-index:100;background-color:#fff;border:1px solid #888;border-radius:10px;box-shadow:5px 5px 25px #888;top:20px;left:20px;width:25vw;min-width:300px}.dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-size:larger;font-weight:700;background-color:#e5e5e5;border-bottom:1px solid #ccc;padding:10px;border-radius:10px 10px 0 0;cursor:move}.dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{float:right;margin:5px}.dialog[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;height:50vh;padding:5px;margin:0 5px}"]}),t})();var Qw=function(t){return t[t.Fixed=0]="Fixed",t[t.NotFixed=1]="NotFixed",t[t.NA=2]="NA",t}({});class Zw{constructor(){this.updatingPlotData=new sl,this.customRanges=!1,this.fixedPSpace=Qw.NA}getPointsPerPlot(){return this.pointsPerPlot}setPointsPerPlot(t){this.pointsPerPlot=t}getCustomRanges(){return this.customRanges}setCustomRanges(t){this.customRanges=t,t||this.resetRanges()}getFixedPSpace(){return this.fixedPSpace}setFixedPSpace(t){this.fixedPSpace=t,this.calculateRanges()}}var Kw=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Jw=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Kw(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)<0?r=s+1:i=s}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)>0?i=s:r=s+1}return r}}},t_=Jw(Kw).right,e_=function(t,e){var n,r,i,s=t.length,o=-1;if(null==e){for(;++o<s;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<s;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<s;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<s;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},n_=Math.sqrt(50),r_=Math.sqrt(10),i_=Math.sqrt(2);function s_(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=n_?10:s>=r_?5:s>=i_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=n_?10:s>=r_?5:s>=i_?2:1)}var o_=Array.prototype.slice,a_=function(t){return t};function l_(t){return"translate("+(t+.5)+",0)"}function c_(t){return"translate(0,"+(t+.5)+")"}function u_(t){return function(e){return+t(e)}}function h_(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function d_(){return!this.__axis}function p_(t,e){var n=[],r=null,i=null,s=6,o=6,a=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?l_:c_;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,p=null==i?e.tickFormat?e.tickFormat.apply(e,n):a_:i,f=Math.max(s,0)+a,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?h_:u_)(e.copy()),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(d,e).order(),x=_.exit(),C=_.enter().append("g").attr("class","tick"),S=_.select("line"),M=_.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(C),S=S.merge(C.append("line").attr("stroke","currentColor").attr(c+"2",l*s)),M=M.merge(C.append("text").attr("fill","currentColor").attr(c,l*f).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),_=_.transition(h),S=S.transition(h),M=M.transition(h),x=x.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),C.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),x.remove(),w.attr("d",4===t||2==t?o?"M"+l*o+","+m+"H0.5V"+y+"H"+l*o:"M0.5,"+m+"V"+y:o?"M"+m+","+l*o+"V0.5H"+y+"V"+l*o:"M"+m+",0.5H"+y),_.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),S.attr(c+"2",l*s),M.attr(c,l*f).text(p),b.filter(d_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=o_.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:o_.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:o_.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(s=o=+t,h):s},h.tickSizeInner=function(t){return arguments.length?(s=+t,h):s},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function f_(t){return p_(3,t)}var g_={value:function(){}};function m_(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new y_(r)}function y_(t){this._=t}function v_(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function b_(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function w_(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=g_,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}y_.prototype=m_.prototype={constructor:y_,on:function(t,e){var n,r=this._,i=v_(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=w_(r[n],t.name,e);else if(null==e)for(n in r)r[n]=w_(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=b_(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new y_(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var __=m_;function x_(){}var C_=function(t){return null==t?x_:function(){return this.querySelector(t)}};function S_(){return[]}var M_=function(t){return null==t?S_:function(){return this.querySelectorAll(t)}},T_=function(t){return function(){return this.matches(t)}},k_=function(t){return new Array(t.length)};function E_(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function P_(t,e,n,r,i,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new E_(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function R_(t,e,n,r,i,s,o){var a,l,c,u={},h=e.length,d=s.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=c="$"+o.call(l,l.__data__,a,e),c in u?i[a]=l:u[c]=l);for(a=0;a<d;++a)(l=u[c="$"+o.call(t,s[a],a,s)])?(r[a]=l,l.__data__=s[a],u[c]=null):n[a]=new E_(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u[p[a]]===l&&(i[a]=l)}function A_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}E_.prototype={constructor:E_,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var O_="http://www.w3.org/1999/xhtml",I_={svg:"http://www.w3.org/2000/svg",xhtml:O_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},D_=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),I_.hasOwnProperty(e)?{space:I_[e],local:t}:t};function j_(t){return function(){this.removeAttribute(t)}}function N_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function F_(t,e){return function(){this.setAttribute(t,e)}}function L_(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function V_(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var z_=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function U_(t){return function(){this.style.removeProperty(t)}}function H_(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B_(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function q_(t,e){return t.style.getPropertyValue(e)||z_(t).getComputedStyle(t,null).getPropertyValue(e)}function W_(t){return function(){delete this[t]}}function G_(t,e){return function(){this[t]=e}}function X_(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Y_(t){return t.trim().split(/^|\s+/)}function Q_(t){return t.classList||new Z_(t)}function Z_(t){this._node=t,this._names=Y_(t.getAttribute("class")||"")}function K_(t,e){for(var n=Q_(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function J_(t,e){for(var n=Q_(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function tx(t){return function(){K_(this,t)}}function ex(t){return function(){J_(this,t)}}function nx(t,e){return function(){(e.apply(this,arguments)?K_:J_)(this,t)}}function rx(){this.textContent=""}function ix(t){return function(){this.textContent=t}}function sx(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ox(){this.innerHTML=""}function ax(t){return function(){this.innerHTML=t}}function lx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function cx(){this.nextSibling&&this.parentNode.appendChild(this)}function ux(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function hx(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===O_&&e.documentElement.namespaceURI===O_?e.createElement(t):e.createElementNS(n,t)}}function dx(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Z_.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var px=function(t){var e=D_(t);return(e.local?dx:hx)(e)};function fx(){return null}function gx(){var t=this.parentNode;t&&t.removeChild(this)}function mx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var vx={},bx=null;function wx(t,e,n){return t=_x(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function _x(t,e,n){return function(r){var i=bx;bx=r;try{t.call(this,this.__data__,e,n)}finally{bx=i}}}function xx(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Cx(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Sx(t,e,n){var r=vx.hasOwnProperty(t.type)?wx:_x;return function(i,s,o){var a,l=this.__on,c=r(e,s,o);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function Mx(t,e,n,r){var i=bx;t.sourceEvent=bx,bx=t;try{return e.apply(n,r)}finally{bx=i}}function Tx(t,e,n){var r=z_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function kx(t,e){return function(){return Tx(this,t,e)}}function Ex(t,e){return function(){return Tx(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(vx={mouseenter:"mouseover",mouseleave:"mouseout"}));var Px=[null];function Rx(t,e){this._groups=t,this._parents=e}function Ax(){return new Rx([[document.documentElement]],Px)}Rx.prototype=Ax.prototype={constructor:Rx,select:function(t){"function"!=typeof t&&(t=C_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(s=a[u])&&(o=t.call(s,s.__data__,u,a))&&("__data__"in s&&(o.__data__=s.__data__),c[u]=o);return new Rx(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=M_(t));for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new Rx(r,i)},filter:function(t){"function"!=typeof t&&(t=T_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new Rx(r,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),u=-1,this.each((function(t){f[++u]=t})),f;var n,r=e?R_:P_,i=this._parents,s=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=s.length,a=new Array(o),l=new Array(o),c=new Array(o),u=0;u<o;++u){var h=i[u],d=s[u],p=d.length,f=t.call(h,h&&h.__data__,u,i),g=f.length,m=l[u]=new Array(g),y=a[u]=new Array(g);r(h,d,m,y,c[u]=new Array(p),f,e);for(var v,b,w=0,_=0;w<g;++w)if(v=m[w]){for(w>=_&&(_=w+1);!(b=y[_])&&++_<g;);v._next=b||null}}return(a=new Rx(a,i))._enter=l,a._exit=c,a},enter:function(){return new Rx(this._enter||this._groups.map(k_),this._parents)},exit:function(){return new Rx(this._exit||this._groups.map(k_),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new Rx(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=A_);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),u=0;u<l;++u)(o=a[u])&&(c[u]=o);c.sort(e)}return new Rx(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=D_(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?N_:j_:"function"==typeof e?n.local?V_:$_:n.local?L_:F_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?U_:"function"==typeof e?B_:H_)(t,e,null==n?"":n)):q_(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?W_:"function"==typeof e?X_:G_)(t,e)):this.node()[t]},classed:function(t,e){var n=Y_(t+"");if(arguments.length<2){for(var r=Q_(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?nx:e?tx:ex)(n,e))},text:function(t){return arguments.length?this.each(null==t?rx:("function"==typeof t?sx:ix)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ox:("function"==typeof t?lx:ax)(t)):this.node().innerHTML},raise:function(){return this.each(cx)},lower:function(){return this.each(ux)},append:function(t){var e="function"==typeof t?t:px(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:px(t),r=null==e?fx:"function"==typeof e?e:C_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(gx)},clone:function(t){return this.select(t?yx:mx)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=xx(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?Sx:Cx,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ex:kx)(t,e))}};var Ox=Ax,Ix=function(t){return"string"==typeof t?new Rx([[document.querySelector(t)]],[document.documentElement]):new Rx([[t]],Px)};function Dx(){bx.stopImmediatePropagation()}var jx=function(){bx.preventDefault(),bx.stopImmediatePropagation()},Nx=function(t){var e=t.document.documentElement,n=Ix(t).on("dragstart.drag",jx,!0);"onselectstart"in e?n.on("selectstart.drag",jx,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Fx=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Lx(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $x(){}var Vx="\\s*([+-]?\\d+)\\s*",zx="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ux="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hx=/^#([0-9a-f]{3,8})$/,Bx=new RegExp("^rgb\\("+[Vx,Vx,Vx]+"\\)$"),qx=new RegExp("^rgb\\("+[Ux,Ux,Ux]+"\\)$"),Wx=new RegExp("^rgba\\("+[Vx,Vx,Vx,zx]+"\\)$"),Gx=new RegExp("^rgba\\("+[Ux,Ux,Ux,zx]+"\\)$"),Xx=new RegExp("^hsl\\("+[zx,Ux,Ux]+"\\)$"),Yx=new RegExp("^hsla\\("+[zx,Ux,Ux,zx]+"\\)$"),Qx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zx(){return this.rgb().formatHex()}function Kx(){return this.rgb().formatRgb()}function Jx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tC(e):3===n?new iC(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new iC(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new iC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Bx.exec(t))?new iC(e[1],e[2],e[3],1):(e=qx.exec(t))?new iC(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wx.exec(t))?eC(e[1],e[2],e[3],e[4]):(e=Gx.exec(t))?eC(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Xx.exec(t))?lC(e[1],e[2]/100,e[3]/100,1):(e=Yx.exec(t))?lC(e[1],e[2]/100,e[3]/100,e[4]):Qx.hasOwnProperty(t)?tC(Qx[t]):"transparent"===t?new iC(NaN,NaN,NaN,0):null}function tC(t){return new iC(t>>16&255,t>>8&255,255&t,1)}function eC(t,e,n,r){return r<=0&&(t=e=n=NaN),new iC(t,e,n,r)}function nC(t){return t instanceof $x||(t=Jx(t)),t?new iC((t=t.rgb()).r,t.g,t.b,t.opacity):new iC}function rC(t,e,n,r){return 1===arguments.length?nC(t):new iC(t,e,n,null==r?1:r)}function iC(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function sC(){return"#"+aC(this.r)+aC(this.g)+aC(this.b)}function oC(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function aC(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function lC(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new uC(t,e,n,r)}function cC(t){if(t instanceof uC)return new uC(t.h,t.s,t.l,t.opacity);if(t instanceof $x||(t=Jx(t)),!t)return new uC;if(t instanceof uC)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new uC(o,a,l,t.opacity)}function uC(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hC(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function dC(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}Fx($x,Jx,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zx,formatHex:Zx,formatHsl:function(){return cC(this).formatHsl()},formatRgb:Kx,toString:Kx}),Fx(iC,rC,Lx($x,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new iC(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new iC(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sC,formatHex:sC,formatRgb:oC,toString:oC})),Fx(uC,(function(t,e,n,r){return 1===arguments.length?cC(t):new uC(t,e,n,null==r?1:r)}),Lx($x,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new uC(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new uC(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new iC(hC(t>=240?t-240:t+120,i,r),hC(t,i,r),hC(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pC=function(t){return function(){return t}};function fC(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):pC(isNaN(t)?e:t)}var gC=function t(e){var n=function(t){return 1==(t=+t)?fC:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):pC(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=rC(t)).r,(e=rC(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=fC(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function mC(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=rC(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}mC((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1];return dC((n-r/e)*e,r>0?t[r-1]:2*i-s,i,s,r<e-1?t[r+2]:2*s-i)}})),mC((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return dC((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}}));var yC=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(s){for(n=0;n<r;++n)i[n]=t[n]*(1-s)+e[n]*s;return i}};function vC(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,s=new Array(i),o=new Array(r);for(n=0;n<i;++n)s[n]=kC(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=s[n](t);return o}}var bC,wC,_C=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},xC=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},CC=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=kC(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},SC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MC=new RegExp(SC.source,"g"),TC=function(t,e){var n,r,i,s=SC.lastIndex=MC.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=SC.exec(t))&&(r=MC.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:xC(n,r)})),s=MC.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})},kC=function(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?pC(e):("number"===i?xC:"string"===i?(n=Jx(e))?(e=n,gC):TC:e instanceof Jx?gC:e instanceof Date?_C:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?vC:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?CC:xC:yC))(t,e)},EC=function(){for(var t,e=bx;t=e.sourceEvent;)e=t;return e},PC=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},RC=function(t,e,n){arguments.length<3&&(n=e,e=EC().changedTouches);for(var r,i=0,s=e?e.length:0;i<s;++i)if((r=e[i]).identifier===n)return PC(t,r);return null},AC=function(t){var e=EC();return e.changedTouches&&(e=e.changedTouches[0]),PC(t,e)},OC=0,IC=0,DC=0,jC=0,NC=0,FC=0,LC="object"==typeof performance&&performance.now?performance:Date,$C="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function VC(){return NC||($C(zC),NC=LC.now()+FC)}function zC(){NC=0}function UC(){this._call=this._time=this._next=null}function HC(t,e,n){var r=new UC;return r.restart(t,e,n),r}function BC(){NC=(jC=LC.now())+FC,OC=IC=0;try{!function(){VC(),++OC;for(var t,e=bC;e;)(t=NC-e._time)>=0&&e._call.call(null,t),e=e._next;--OC}()}finally{OC=0,function(){for(var t,e,n=bC,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:bC=e);wC=t,WC(r)}(),NC=0}}function qC(){var t=LC.now(),e=t-jC;e>1e3&&(FC-=e,jC=t)}function WC(t){OC||(IC&&(IC=clearTimeout(IC)),t-NC>24?(t<1/0&&(IC=setTimeout(BC,t-LC.now()-FC)),DC&&(DC=clearInterval(DC))):(DC||(jC=LC.now(),DC=setInterval(qC,1e3)),OC=1,$C(BC)))}UC.prototype=HC.prototype={constructor:UC,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?VC():+n)+(null==e?0:+e),this._next||wC===this||(wC?wC._next=this:bC=this,wC=this),this._call=t,this._time=n,WC()},stop:function(){this._call&&(this._call=null,this._time=1/0,WC())}};var GC=function(t,e,n){var r=new UC;return r.restart((function(n){r.stop(),t(n+e)}),e=null==e?0:+e,n),r},XC=__("start","end","cancel","interrupt"),YC=[],QC=function(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(l){var c,u,h,d;if(1!==n.state)return a();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return GC(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(GC((function(){3===n.state&&(n.state=4,n.timer.restart(o,n.delay,n.time),o(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=HC((function(t){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:XC,tween:YC,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})};function ZC(t,e){var n=JC(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function KC(t,e){var n=JC(t,e);if(n.state>3)throw new Error("too late; already running");return n}function JC(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var tS,eS,nS,rS,iS=180/Math.PI,sS={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},oS=function(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*iS,skewX:Math.atan(l)*iS,scaleX:o,scaleY:a}};function aS(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:xC(t,i)},{i:l-2,x:xC(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:xC(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:xC(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,l),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:xC(t,n)},{i:a-2,x:xC(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var lS=aS((function(t){return"none"===t?sS:(tS||(tS=document.createElement("DIV"),eS=document.documentElement,nS=document.defaultView),tS.style.transform=t,t=nS.getComputedStyle(eS.appendChild(tS),null).getPropertyValue("transform"),eS.removeChild(tS),t=t.slice(7,-1).split(","),oS(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),cS=aS((function(t){return null==t?sS:(rS||(rS=document.createElementNS("http://www.w3.org/2000/svg","g")),rS.setAttribute("transform",t),(t=rS.transform.baseVal.consolidate())?oS((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):sS)}),", ",")",")");function uS(t,e){var n,r;return function(){var i=KC(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function hS(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=KC(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function dS(t,e,n){var r=t._id;return t.each((function(){var t=KC(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return JC(t,r).value[e]}}var pS=function(t,e){var n;return("number"==typeof e?xC:e instanceof Jx?gC:(n=Jx(e))?(e=n,gC):TC)(t,e)};function fS(t){return function(){this.removeAttribute(t)}}function gS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mS(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}}function yS(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}function vS(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttribute(t)}}function bS(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function wS(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _S(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function xS(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_S(t,i)),n}return i._value=e,i}function CS(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&wS(t,i)),n}return i._value=e,i}function SS(t,e){return function(){ZC(this,t).delay=+e.apply(this,arguments)}}function MS(t,e){return e=+e,function(){ZC(this,t).delay=e}}function TS(t,e){return function(){KC(this,t).duration=+e.apply(this,arguments)}}function kS(t,e){return e=+e,function(){KC(this,t).duration=e}}function ES(t,e){if("function"!=typeof e)throw new Error;return function(){KC(this,t).ease=e}}function PS(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ZC:KC;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}var RS=Ox.prototype.constructor;function AS(t){return function(){this.style.removeProperty(t)}}function OS(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function IS(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&OS(t,s,n)),r}return s._value=e,s}function DS(t){return function(e){this.textContent=t.call(this,e)}}function jS(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&DS(r)),e}return r._value=t,r}var NS=0;function FS(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function LS(t){return Ox().transition(t)}function $S(){return++NS}var VS=Ox.prototype;FS.prototype=LS.prototype={constructor:FS,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=C_(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=r[o],u=c.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,QC(h[d],e,n,d,h,JC(a,n)));return new FS(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=M_(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),f=JC(l,n),g=0,m=p.length;g<m;++g)(d=p[g])&&QC(d,e,n,g,p,f);s.push(p),o.push(l)}return new FS(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=T_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new FS(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),s=new Array(r),o=0;o<i;++o)for(var a,l=e[o],c=n[o],u=l.length,h=s[o]=new Array(u),d=0;d<u;++d)(a=l[d]||c[d])&&(h[d]=a);for(;o<r;++o)s[o]=e[o];return new FS(s,this._parents,this._name,this._id)},selection:function(){return new RS(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=$S(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var u=JC(o,e);QC(o,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new FS(r,this._parents,t,n)},call:VS.call,nodes:VS.nodes,node:VS.node,size:VS.size,empty:VS.empty,each:VS.each,on:function(t,e){var n=this._id;return arguments.length<2?JC(this.node(),n).on.on(t):this.each(PS(n,t,e))},attr:function(t,e){var n=D_(t),r="transform"===n?cS:pS;return this.attrTween(t,"function"==typeof e?(n.local?bS:vS)(n,r,dS(this,"attr."+t,e)):null==e?(n.local?gS:fS)(n):(n.local?yS:mS)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=D_(t);return this.tween(n,(r.local?xS:CS)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?lS:pS;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=q_(this,t),o=(this.style.removeProperty(t),q_(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,AS(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=q_(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=q_(this,t)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(t,r,dS(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var l=KC(this,t),c=l.on,u=null==l.value[o]?s||(s=AS(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=q_(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,IS(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(dS(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,jS(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=JC(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?uS:hS)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?SS:MS)(e,t)):JC(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?TS:kS)(e,t)):JC(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ES(e,t)):JC(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each((function(){var n=KC(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var zS={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function US(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return zS.time=VC(),zS;return n}function HS(t){return{type:t}}Ox.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Ox.prototype.transition=function(t){var e,n;t instanceof FS?(e=t._id,t=t._name):(e=$S(),(n=zS).time=VC(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)(o=a[c])&&QC(o,t,e,c,a,n||US(o,e));return new FS(r,this._parents,t,e)},["w","e"].map(HS),["n","s"].map(HS),["n","w","e","s","nw","ne","sw","se"].map(HS),Math,Math,Math,Math;var BS=Math.PI,qS=2*BS,WS=qS-1e-6;function GS(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XS(){return new GS}GS.prototype=XS.prototype={constructor:GS,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){var s=this._x1,o=this._y1,a=(n=+n)-(t=+t),l=(r=+r)-(e=+e),c=s-t,u=o-e,h=c*c+u*u;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*a-l*c)>1e-6&&i){var d=n-s,p=r-o,f=a*a+l*l,g=d*d+p*p,m=Math.sqrt(f),y=Math.sqrt(h),v=i*Math.tan((BS-Math.acos((f+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*p)+","+(this._x1=t+w*a)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+o,c=e+a,u=1^s,h=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%qS+qS),h>WS?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=BS)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var YS=XS;function QS(){}function ZS(t,e){var n=new QS;if(t instanceof QS)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,s=t.length;if(null==e)for(;++i<s;)n.set(i,t[i]);else for(;++i<s;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function KS(){}QS.prototype=ZS.prototype={constructor:QS,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var JS=ZS.prototype;KS.prototype=(function(t,e){var n=new KS;if(t instanceof KS)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}).prototype={constructor:KS,has:JS.has,add:function(t){return this["$"+(t+="")]=t,this},remove:JS.remove,clear:JS.clear,values:JS.keys,size:JS.size,empty:JS.empty,each:JS.each};var tM=function(t){return function(){return t}};function eM(t,e,n,r,i,s,o,a,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=s,this.y=o,this.dx=a,this.dy=l,this._=c}function nM(){return!bx.ctrlKey&&!bx.button}function rM(){return this.parentNode}function iM(t){return null==t?{x:bx.x,y:bx.y}:t}function sM(){return navigator.maxTouchPoints||"ontouchstart"in this}eM.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var oM=function(){var t,e,n,r,i=nM,s=rM,o=iM,a=sM,l={},c=__("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&i.apply(this,arguments)){var o=b("mouse",s.apply(this,arguments),AC,this,arguments);o&&(Ix(bx.view).on("mousemove.drag",f,!0).on("mouseup.drag",g,!0),Nx(bx.view),Dx(),n=!1,t=bx.clientX,e=bx.clientY,o("start"))}}function f(){if(jx(),!n){var r=bx.clientX-t,i=bx.clientY-e;n=r*r+i*i>h}l.mouse("drag")}function g(){var t,e,r,i;Ix(bx.view).on("mousemove.drag mouseup.drag",null),e=n,r=(t=bx.view).document.documentElement,i=Ix(t).on("dragstart.drag",null),e&&(i.on("click.drag",jx,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect),jx(),l.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=bx.changedTouches,r=s.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=b(n[t].identifier,r,RC,this,arguments))&&(Dx(),e("start"))}}function y(){var t,e,n=bx.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(jx(),e("drag"))}function v(){var t,e,n=bx.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Dx(),e("end"))}function b(t,e,n,r,i){var s,a,h,p=n(e,t),f=c.copy();if(Mx(new eM(d,"beforestart",s,t,u,p[0],p[1],0,0,f),(function(){return null!=(bx.subject=s=o.apply(r,i))&&(a=s.x-p[0]||0,h=s.y-p[1]||0,!0)})))return function o(c){var g,m=p;switch(c){case"start":l[t]=o,g=u++;break;case"end":delete l[t],--u;case"drag":p=n(e,t),g=u}Mx(new eM(d,c,s,t,g,p[0]+a,p[1]+h,p[0]-m[0],p[1]-m[1],f),f.apply,f,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:tM(!!t),d):i},d.container=function(t){return arguments.length?(s="function"==typeof t?t:tM(t),d):s},d.subject=function(t){return arguments.length?(o="function"==typeof t?t:tM(t),d):o},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:tM(!!t),d):a},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d},aM={},lM={};function cM(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function uM(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function hM(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}var dM=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],s=t.length,o=0,a=0,l=s<=0,c=!1;function u(){if(l)return lM;if(c)return c=!1,aM;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<s&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=s?l=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<s;){if(10===(r=t.charCodeAt(e=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,s)}for(10===t.charCodeAt(s-1)&&--s,13===t.charCodeAt(s-1)&&--s;(r=u())!==lM;){for(var h=[];r!==aM&&r!==lM;)h.push(r),r=u();e&&null==(h=e(h,a++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?(i=(n=t).getUTCHours(),s=n.getUTCMinutes(),o=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((r=n.getUTCFullYear())<0?"-"+hM(-r,6):r>9999?"+"+hM(r,6):hM(r,4))+"-"+hM(n.getUTCMonth()+1,2)+"-"+hM(n.getUTCDate(),2)+(a?"T"+hM(i,2)+":"+hM(s,2)+":"+hM(o,2)+"."+hM(a,3)+"Z":o?"T"+hM(i,2)+":"+hM(s,2)+":"+hM(o,2)+"Z":s||i?"T"+hM(i,2)+":"+hM(s,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,r,i,s,o,a}return{parse:function(t,e){var n,i,s=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=cM(t);return function(r,i){return e(n(r),i,t)}}(t,e):cM(t)}));return s.columns=i||[],s},parseRows:r,format:function(e,n){return null==n&&(n=uM(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=uM(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},pM=dM(",").parse,fM=dM("\t").parse;function gM(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var mM=function(t,e){return fetch(t,e).then(gM)};function yM(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),mM(e,n).then((function(e){return t(e,r)}))}}function vM(t){return function(e,n){return mM(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}function bM(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s,o,a,l,c,u,h,d,p=t._root,f={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((c=e>=(s=(g+y)/2))?g=s:y=s,(u=n>=(o=(m+v)/2))?m=o:v=o,i=p,!(p=p[h=u<<1|c]))return i[h]=f,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return f.next=p,i?i[h]=f:t._root=f,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(s=(g+y)/2))?g=s:y=s,(u=n>=(o=(m+v)/2))?m=o:v=o}while((h=u<<1|c)==(d=(l>=o)<<1|a>=s));return i[d]=p,i[h]=f,t}yM(pM),yM(fM),vM("application/xml"),vM("text/html"),vM("image/svg+xml");var wM=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function _M(t){return t[0]}function xM(t){return t[1]}function CM(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function SM(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var MM=(function(t,e,n){var r=new CM(null==e?_M:e,null==n?xM:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}).prototype=CM.prototype;MM.copy=function(){var t,e,n=new CM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=SM(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=SM(e));return n},MM.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return bM(this.cover(e,n),e,n,t)},MM.addAll=function(t){var e,n,r,i,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<s;++n)bM(this,o[n],a[n],t[n]);return this},MM.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o,a,l=i-n,c=this._root;n>t||t>=i||r>e||e>=s;)switch(a=(e<r)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},MM.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},MM.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},MM.find=function(t,e,n){var r,i,s,o,a,l,c,u=this._x0,h=this._y0,d=this._x1,p=this._y1,f=[],g=this._root;for(g&&f.push(new wM(g,u,h,d,p)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(s=l.y0)>p||(o=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(i+o)/2,y=(s+a)/2;f.push(new wM(g[3],m,y,o,a),new wM(g[2],i,y,m,a),new wM(g[1],m,s,o,y),new wM(g[0],i,s,m,y)),(c=(e>=y)<<1|t>=m)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=v*v+b*b;if(w<n){var _=Math.sqrt(n=w);u=t-_,h=e-_,d=t+_,p=e+_,r=g.data}}return r},MM.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,s,o,a,l,c,u,h,d,p=this._root,f=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((c=s>=(a=(f+m)/2))?f=a:m=a,(u=o>=(l=(g+y)/2))?g=l:y=l,e=p,!(p=p[h=u<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},MM.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},MM.root=function(){return this._root},MM.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},MM.visit=function(t){var e,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new wM(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(r+s)/2,u=(i+o)/2;(n=l[3])&&a.push(new wM(n,c,u,s,o)),(n=l[2])&&a.push(new wM(n,r,u,c,o)),(n=l[1])&&a.push(new wM(n,c,i,s,u)),(n=l[0])&&a.push(new wM(n,r,i,c,u))}return this},MM.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new wM(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,h=(a+c)/2;(s=i[0])&&n.push(new wM(s,o,a,u,h)),(s=i[1])&&n.push(new wM(s,u,a,l,h)),(s=i[2])&&n.push(new wM(s,o,h,u,c)),(s=i[3])&&n.push(new wM(s,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},MM.x=function(t){return arguments.length?(this._x=t,this):this._x},MM.y=function(t){return arguments.length?(this._y=t,this):this._y},Math,Math.sqrt(5);var TM=function(){return Math.random()},kM=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(TM),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=r)s=r,r=null;else do{r=2*e()-1,s=2*e()-1,i=r*r+s*s}while(!i||i>1);return t+n*s*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(TM)),EM=(function t(e){function n(){var t=kM.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(TM),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(TM));function PM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}(function t(e){function n(t){var n=EM.source(e)(t);return function(){return n()/t}}return n.source=t,n})(TM),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(TM);var RM=Array.prototype,AM=RM.map,OM=RM.slice,IM=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}},DM=function(t){return+t},jM=[0,1];function NM(t){return t}function FM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function LM(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function $M(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=FM(i,r),s=n(o,s)):(r=FM(r,i),s=n(s,o)),function(t){return s(r(t))}}function VM(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=FM(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(e){var n=t_(t,e,1,r)-1;return s[n](i[n](e))}}function zM(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function UM(t,e){return function(){var t,e,n,r,i,s,o=jM,a=jM,l=kC,c=NM;function u(){return r=Math.min(o.length,a.length)>2?VM:$M,i=s=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((s||(s=r(a,o.map(t),xC)))(n)))},h.domain=function(t){return arguments.length?(o=AM.call(t,DM),c===NM||(c=LM(o)),u()):o.slice()},h.range=function(t){return arguments.length?(a=OM.call(t),u()):a.slice()},h.rangeRound=function(t){return a=OM.call(t),l=IM,u()},h.clamp=function(t){return arguments.length?(c=t?LM(o):NM,h):c!==NM},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(t,e)}var HM=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function BM(t){if(!(e=HM.exec(t)))throw new Error("invalid format: "+t);var e;return new qM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qM(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}BM.prototype=qM.prototype,qM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var WM,GM,XM,YM,QM=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},ZM=function(t){return(t=QM(Math.abs(t)))?t[1]:NaN},KM=function(t,e){var n=QM(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},JM={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return KM(100*t,e)},r:KM,s:function(t,e){var n=QM(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(WM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+QM(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},tT=function(t){return t},eT=Array.prototype.map,nT=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];GM=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?tT:(e=eT.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",s=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?tT:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(eT.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=BM(t)).fill,n=t.align,h=t.sign,d=t.symbol,p=t.zero,f=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):JM[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?s:/[%p]/.test(v)?l:"",_=JM[v],x=/[defgprs%]/.test(v);function C(t){var i,s,l,d=b,C=w;if("c"===v)C=_(t)+C,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:_(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==h&&(S=!1),d=(S?"("===h?h:c:"-"===h||"("===h?"":h)+d,C=("s"===v?nT[8+WM/3]:"")+C+(S&&"("===h?")":""),x)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){C=(46===l?o+t.slice(i+1):t.slice(i))+C,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var M=d.length+t.length+C.length,T=M<f?new Array(f-M+1).join(e):"";switch(g&&p&&(t=r(T+t,T.length?f-C.length:1/0),T=""),n){case"<":t=d+t+C+T;break;case"=":t=d+T+t+C;break;case"^":t=T.slice(0,M=T.length>>1)+d+t+C+T.slice(M);break;default:t=T+d+t+C}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:h,formatPrefix:function(t,e){var n=h(((t=BM(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ZM(e)/3))),i=Math.pow(10,-r),s=nT[8+r/3];return function(t){return n(i*t)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),XM=GM.format,YM=GM.formatPrefix;function rT(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=s_(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(i=Math.ceil(e-t+1));++a<i;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(i=Math.ceil(t-e+1));++a<i;)s[a]=(t-a)/o;return r&&s.reverse(),s}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,s=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=n_?i*=10:s>=r_?i*=5:s>=i_&&(i*=2),e<t?-i:i}(t,e,n);switch((r=BM(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ZM(e)/3)))-ZM(Math.abs(t)))}(s,o))||(r.precision=i),YM(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ZM(e)-ZM(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-ZM(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return XM(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),s=0,o=i.length-1,a=i[s],l=i[o];return l<a&&(r=a,a=l,l=r,r=s,s=o,o=r),(r=s_(a,l,n))>0?r=s_(a=Math.floor(a/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=s_(a=Math.ceil(a*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[s]=Math.floor(a/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[s]=Math.ceil(a*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function iT(){var t=UM(NM,NM);return t.copy=function(){return zM(t,iT())},PM.apply(t,arguments),rT(t)}var sT=new Date,oT=new Date;function aT(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return aT((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return sT.setTime(+e),oT.setTime(+r),t(sT),t(oT),Math.floor(n(sT,oT))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var lT=aT((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));lT.every=function(t){return isFinite(t=Math.floor(t))&&t>0?aT((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var cT=lT;function uT(t){return aT((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}aT((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var hT=uT(0),dT=uT(1),pT=(uT(2),uT(3),uT(4)),fT=(uT(5),uT(6),aT((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),gT=(aT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),aT((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),aT((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),aT((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));function mT(t){return aT((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}gT.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?aT((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):gT:null};var yT=mT(0),vT=mT(1),bT=(mT(2),mT(3),mT(4)),wT=(mT(5),mT(6),aT((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),_T=aT((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));_T.every=function(t){return isFinite(t=Math.floor(t))&&t>0?aT((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var xT=_T;var CT={"-":"",_:" ",0:"0"},ST=/[\\^$*+?|[\]().{}]/g;function MT(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function TT(t){return t.replace(ST,"\\$&")}function kT(t){return new RegExp("^(?:"+t.map(TT).join("|")+")","i")}function ET(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function PT(t,e){return MT(t.getDate(),e,2)}function RT(t,e){return MT(t.getHours(),e,2)}function AT(t,e){return MT(t.getHours()%12||12,e,2)}function OT(t,e){return MT(1+fT.count(cT(t),t),e,3)}function IT(t,e){return MT(t.getMilliseconds(),e,3)}function DT(t,e){return IT(t,e)+"000"}function jT(t,e){return MT(t.getMonth()+1,e,2)}function NT(t,e){return MT(t.getMinutes(),e,2)}function FT(t,e){return MT(t.getSeconds(),e,2)}function LT(t){var e=t.getDay();return 0===e?7:e}function $T(t,e){return MT(hT.count(cT(t)-1,t),e,2)}function VT(t,e){var n=t.getDay();return t=n>=4||0===n?pT(t):pT.ceil(t),MT(pT.count(cT(t),t)+(4===cT(t).getDay()),e,2)}function zT(t){return t.getDay()}function UT(t,e){return MT(dT.count(cT(t)-1,t),e,2)}function HT(t,e){return MT(t.getFullYear()%100,e,2)}function BT(t,e){return MT(t.getFullYear()%1e4,e,4)}function qT(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+MT(e/60|0,"0",2)+MT(e%60,"0",2)}function WT(t,e){return MT(t.getUTCDate(),e,2)}function GT(t,e){return MT(t.getUTCHours(),e,2)}function XT(t,e){return MT(t.getUTCHours()%12||12,e,2)}function YT(t,e){return MT(1+wT.count(xT(t),t),e,3)}function QT(t,e){return MT(t.getUTCMilliseconds(),e,3)}function ZT(t,e){return QT(t,e)+"000"}function KT(t,e){return MT(t.getUTCMonth()+1,e,2)}function JT(t,e){return MT(t.getUTCMinutes(),e,2)}function tk(t,e){return MT(t.getUTCSeconds(),e,2)}function ek(t){var e=t.getUTCDay();return 0===e?7:e}function nk(t,e){return MT(yT.count(xT(t)-1,t),e,2)}function rk(t,e){var n=t.getUTCDay();return t=n>=4||0===n?bT(t):bT.ceil(t),MT(bT.count(xT(t),t)+(4===xT(t).getUTCDay()),e,2)}function ik(t){return t.getUTCDay()}function sk(t,e){return MT(vT.count(xT(t)-1,t),e,2)}function ok(t,e){return MT(t.getUTCFullYear()%100,e,2)}function ak(t,e){return MT(t.getUTCFullYear()%1e4,e,4)}function lk(){return"+0000"}function ck(){return"%"}function uk(t){return+t}function hk(t){return Math.floor(+t/1e3)}(function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=(kT(i),ET(i),kT(s),ET(s),kT(o),ET(o),kT(a),ET(a),kT(l),ET(l),{a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:PT,e:PT,f:DT,H:RT,I:AT,j:OT,L:IT,m:jT,M:NT,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:uk,s:hk,S:FT,u:LT,U:$T,V:VT,w:zT,W:UT,x:null,X:null,y:HT,Y:BT,Z:qT,"%":ck}),u={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:WT,e:WT,f:ZT,H:GT,I:XT,j:YT,L:QT,m:KT,M:JT,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:uk,s:hk,S:tk,u:ek,U:nk,V:rk,w:ik,W:sk,x:null,X:null,y:ok,Y:ak,Z:lk,"%":ck};function h(t,e){return function(n){var r,i,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(i=CT[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),l=a+1);return o.push(t.slice(l,a)),o.join("")}}c.x=h(n,c),c.X=h(r,c),c.c=h(e,c),u.x=h(n,u),u.X=h(r,u),u.c=h(e,u)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),aT((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),aT((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),aT((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var dk=function(t){return function(){return t}};function pk(t){this._context=t}pk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var fk=function(t){return new pk(t)};function gk(t){return t[0]}function mk(t){return t[1]}var yk=function(){var t=gk,e=mk,n=dk(!0),r=null,i=fk,s=null;function o(o){var a,l,c,u=o.length,h=!1;for(null==r&&(s=i(c=YS())),a=0;a<=u;++a)!(a<u&&n(l=o[a],a,o))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(l,a,o),+e(l,a,o));if(c)return s=null,c+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:dk(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:dk(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:dk(!!t),o):n},o.curve=function(t){return arguments.length?(i=t,null!=r&&(s=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=s=null:s=i(r=t),o):r},o};function vk(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function bk(t){this._context=t}bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var wk=function(t){return new bk(t)};function _k(){this._=null}function xk(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ck(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Sk(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Mk(t){for(;t.L;)t=t.L;return t}_k.prototype={constructor:_k,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Mk(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ck(this,n),n=(t=n).U),n.C=!1,r.C=!0,Sk(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Sk(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ck(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,o=t.R;if(n=s?o?Mk(o):s:o,i?i.L===t?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=t.U,i.L=t=n.R,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ck(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Sk(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ck(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Sk(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ck(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Sk(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Tk=_k;function kk(t,e,n,r){var i=[null,null],s=Zk.push(i)-1;return i.left=t,i.right=e,n&&Pk(i,t,e,n),r&&Pk(i,e,t,r),Yk[t.index].halfedges.push(s),Yk[e.index].halfedges.push(s),i}function Ek(t,e,n){var r=[e,n];return r.left=t,r}function Pk(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Rk(t,e,n,r,i){var s,o=t[0],a=t[1],l=o[0],c=o[1],u=0,h=1,d=a[0]-l,p=a[1]-c;if(s=e-l,d||!(s>0)){if(s/=d,d<0){if(s<u)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>u&&(u=s)}if(s=r-l,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>u&&(u=s)}else if(d>0){if(s<u)return;s<h&&(h=s)}if(s=n-c,p||!(s>0)){if(s/=p,p<0){if(s<u)return;s<h&&(h=s)}else if(p>0){if(s>h)return;s>u&&(u=s)}if(s=i-c,p||!(s<0)){if(s/=p,p<0){if(s>h)return;s>u&&(u=s)}else if(p>0){if(s<u)return;s<h&&(h=s)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*d,c+u*p]),h<1&&(t[1]=[l+h*d,c+h*p]),!0)}}}}}function Ak(t,e,n,r,i){var s=t[1];if(s)return!0;var o,a,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],p=u[0],f=u[1],g=(h+p)/2;if(f===d){if(g<e||g>=r)return;if(h>p){if(l){if(l[1]>=i)return}else l=[g,n];s=[g,i]}else{if(l){if(l[1]<n)return}else l=[g,i];s=[g,n]}}else if(a=(d+f)/2-(o=(h-p)/(f-d))*g,o<-1||o>1)if(h>p){if(l){if(l[1]>=i)return}else l=[(n-a)/o,n];s=[(i-a)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/o,i];s=[(n-a)/o,n]}else if(d<f){if(l){if(l[0]>=r)return}else l=[e,o*e+a];s=[r,o*r+a]}else{if(l){if(l[0]<e)return}else l=[r,o*r+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function Ok(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Ik(t,e){return e[+(e.left!==t.site)]}function Dk(t,e){return e[+(e.left===t.site)]}var jk,Nk=[];function Fk(){xk(this),this.x=this.y=this.arc=this.site=this.cy=null}function Lk(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var o=i[0],a=i[1],l=r[0]-o,c=r[1]-a,u=s[0]-o,h=s[1]-a,d=2*(l*h-c*u);if(!(d>=-Jk)){var p=l*l+c*c,f=u*u+h*h,g=(h*p-c*f)/d,m=(l*f-u*p)/d,y=Nk.pop()||new Fk;y.arc=t,y.site=i,y.x=g+o,y.y=(y.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=Qk._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Qk.insert(v,y),v||(jk=y)}}}}function $k(t){var e=t.circle;e&&(e.P||(jk=e.N),Qk.remove(e),Nk.push(e),xk(e),t.circle=null)}var Vk=[];function zk(){xk(this),this.edge=this.site=this.circle=null}function Uk(t){var e=Vk.pop()||new zk;return e.site=t,e}function Hk(t){$k(t),Xk.remove(t),Vk.push(t),xk(t)}function Bk(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],s=t.P,o=t.N,a=[t];Hk(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<Kk&&Math.abs(r-l.circle.cy)<Kk;)s=l.P,a.unshift(l),Hk(l),l=s;a.unshift(l),$k(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<Kk&&Math.abs(r-c.circle.cy)<Kk;)o=c.N,a.push(c),Hk(c),c=o;a.push(c),$k(c);var u,h=a.length;for(u=1;u<h;++u)Pk((c=a[u]).edge,(l=a[u-1]).site,c.site,i);(c=a[h-1]).edge=kk((l=a[0]).site,c.site,null,i),Lk(l),Lk(c)}function qk(t){for(var e,n,r,i,s=t[0],o=t[1],a=Xk._;a;)if((r=Wk(a,o)-s)>Kk)a=a.L;else{if(!((i=s-Gk(a,o))>Kk)){r>-Kk?(e=a.P,n=a):i>-Kk?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Yk[t.index]={site:t,halfedges:[]}}(t);var l=Uk(t);if(Xk.insert(e,l),e||n){if(e===n)return $k(e),n=Uk(e.site),Xk.insert(l,n),l.edge=n.edge=kk(e.site,l.site),Lk(e),void Lk(n);if(n){$k(e),$k(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,p=t[1]-h,f=n.site,g=f[0]-u,m=f[1]-h,y=2*(d*m-p*g),v=d*d+p*p,b=g*g+m*m,w=[(m*v-p*b)/y+u,(d*b-g*v)/y+h];Pk(n.edge,c,f,w),l.edge=kk(c,t,null,w),n.edge=kk(t,f,null,w),Lk(e),Lk(n)}else l.edge=kk(e.site,l.site)}}function Wk(t,e){var n=t.site,r=n[0],i=n[1],s=i-e;if(!s)return r;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],c=l-e;if(!c)return a;var u=a-r,h=1/s-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-s/2)))/h+r:(r+a)/2}function Gk(t,e){var n=t.N;if(n)return Wk(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Xk,Yk,Qk,Zk,Kk=1e-6,Jk=1e-12;function tE(t,e){return e[1]-t[1]||e[0]-t[0]}function eE(t,e){var n,r,i,s=t.sort(tE).pop();for(Zk=[],Yk=new Array(t.length),Xk=new Tk,Qk=new Tk;;)if(i=jk,s&&(!i||s[1]<i.y||s[1]===i.y&&s[0]<i.x))s[0]===n&&s[1]===r||(qk(s),n=s[0],r=s[1]),s=t.pop();else{if(!i)break;Bk(i.arc)}if(function(){for(var t,e,n,r,i=0,s=Yk.length;i<s;++i)if((t=Yk[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(n=0;n<r;++n)o[n]=n,a[n]=Ok(t,Zk[e[n]]);for(o.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[o[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,s=Zk.length;s--;)Ak(i=Zk[s],t,e,n,r)&&Rk(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Kk||Math.abs(i[0][1]-i[1][1])>Kk)||delete Zk[s]}(o,a,l,c),function(t,e,n,r){var i,s,o,a,l,c,u,h,d,p,f,g,m=Yk.length,y=!0;for(i=0;i<m;++i)if(s=Yk[i]){for(o=s.site,a=(l=s.halfedges).length;a--;)Zk[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)f=(p=Dk(s,Zk[l[a]]))[0],g=p[1],h=(u=Ik(s,Zk[l[++a%c]]))[0],d=u[1],(Math.abs(f-h)>Kk||Math.abs(g-d)>Kk)&&(l.splice(a,0,Zk.push(Ek(o,p,Math.abs(f-t)<Kk&&r-g>Kk?[t,Math.abs(h-t)<Kk?d:r]:Math.abs(g-r)<Kk&&n-f>Kk?[Math.abs(d-r)<Kk?h:n,r]:Math.abs(f-n)<Kk&&g-e>Kk?[n,Math.abs(h-n)<Kk?d:e]:Math.abs(g-e)<Kk&&f-t>Kk?[Math.abs(d-e)<Kk?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var v,b,w,_=1/0;for(i=0,y=null;i<m;++i)(s=Yk[i])&&(w=(v=(o=s.site)[0]-t)*v+(b=o[1]-e)*b)<_&&(_=w,y=s);if(y){var x=[t,e],C=[t,r],S=[n,r],M=[n,e];y.halfedges.push(Zk.push(Ek(o=y.site,x,C))-1,Zk.push(Ek(o,C,S))-1,Zk.push(Ek(o,S,M))-1,Zk.push(Ek(o,M,x))-1)}}for(i=0;i<m;++i)(s=Yk[i])&&(s.halfedges.length||delete Yk[i])}(o,a,l,c)}this.edges=Zk,this.cells=Yk,Xk=Qk=Zk=Yk=null}function nE(t,e,n){this.k=t,this.x=e,this.y=n}eE.prototype={constructor:eE,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Ik(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(s=(i=n.halfedges).length)for(var i,s,o,a,l,c,u=n.site,h=-1,d=e[i[s-1]],p=d.left===u?d.right:d.left;++h<s;)o=p,p=(d=e[i[h]]).left===u?d.right:d.left,o&&p&&r<o.index&&r<p.index&&((a=u)[0]-(c=p)[0])*((l=o)[1]-a[1])-(a[0]-l[0])*(c[1]-a[1])<0&&t.push([u.data,o.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,s=this,o=s._found||0,a=s.cells.length;!(i=s.cells[o]);)if(++o>=a)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=s.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=s.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=t-a[0],c=e-a[1],h=l*l+c*c;h<u&&(u=h,o=a.index)}}))}while(null!==o);return s._found=r,null==n||u<=n*n?i.site:null}},Math,nE.prototype={constructor:nE,scale:function(t){return 1===t?this:new nE(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new nE(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new nE(1,0,0);var rE=n("fgPD");let iE=(()=>{class t{constructor(){this.fontFamily="",this.fontSize=1,this.axisFontSize=1,this.lineWidth=1,this.axisLineWidth=1,this.paletteTheme="typical",this.lineStyle="solid",this.showLegendBox=!1}reset(){Object.assign(this,new t)}getFontFamily(){return""==this.fontFamily?'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif':this.fontFamily}getFontSize(){return 18*this.fontSize}getAxisFontSize(){return 15*this.axisFontSize}getAxisLineWidth(){return 1.5*this.axisLineWidth}getLineWidth(){return 3*this.lineWidth}dashArray(t){switch(t&&"any"!=t||(t=this.lineStyle),t){case"solid":return"";case"short-dash":return"5,5";case"medium-dash":return"10,10";case"long-dash":return"15,15";case"dot":return"1,5"}}lineCap(t){return t&&"any"!=t||(t=this.lineStyle),"dot"==t?"round":""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})(),sE=(()=>{class t{constructor(){this.colors={typical:["#0000DD","#DD0000","#000000","#006600","#008888"],plasma:["#0D0887","#7E03A8","#CC4678","#F89441","#F0F921"],viridis:["#440154","#3B528B","#21908C","#5DC863","#FDE725"],magma:["#000004","#51127C","#B63679","#FB8861","#FCFDBF"],pattern:["#000000","#000000","#000000","#000000","#000000"]},this.patterns={typical:["any"],plasma:["any"],viridis:["any"],magma:["any"],pattern:["solid","short-dash","medium-dash","long-dash","dot"]}}getColor(t,e="typical"){if(!(e in this.colors))throw new Error(`invalid palette: ${e}`);if(-1==t)return"";let n=this.colors[e];return n[t%n.length]}getPattern(t,e="typical"){if(!(e in this.patterns))throw new Error(`invalid palette: ${e}`);if(-1==t)return"";let n=this.patterns[e];return n[t%n.length]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const oE=["plot"];var aE=function(t){return t[t.No=0]="No",t[t.Yes=1]="Yes",t[t.Hover=2]="Hover",t}({});let lE=(()=>{class t{constructor(t,e){this.plotOptions=t,this.palette=e}ngAfterViewInit(){setTimeout(()=>{this.setup()},1)}getDimension(t){return this.plotElement.nativeElement.getBoundingClientRect()[t]}getHeight(){return this.getDimension("height")}getWidth(){return this.getDimension("width")}getFontFamily(){return this.plotOptions.getFontFamily()}getFontSize(){return this.plotOptions.getFontSize()}getFontSizePx(){return`${this.getFontSize()}px`}getAxisLineWidth(){return this.plotOptions.getAxisLineWidth()}getAxisFontSize(){return this.plotOptions.getAxisFontSize()}getPathColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}getDashArray(t){let e=this.palette.getPattern(t,this.plotOptions.paletteTheme);return this.plotOptions.dashArray(e)}getLineCap(t){let e=this.palette.getPattern(t,this.plotOptions.paletteTheme);return this.plotOptions.lineCap(e)}getLineWidth(){return this.plotOptions.getLineWidth()}isLegendBoxVisible(){return this.plotOptions.showLegendBox}trackByIndex(t,e){return t}translate(t,e){return isNaN(t)||isNaN(e)?null:`translate(${t}, ${e})`}getPath(t,e="x",n="y",r=!0){let i=rE(this.xScale.domain(),Kw),s=rE(this.yScale.domain(),Kw),o=yk().x((t,n)=>this.xScale(t[e])).y((t,e)=>this.yScale(t[n])).defined((t,r)=>{let o=t[e],a=t[n];return"number"==typeof o&&"number"==typeof a&&o>=i[0]&&o<=i[1]&&a>=s[0]&&a<=s[1]});return r&&(o=o.curve(wk)),o(t)}setup(){return!0}}return t.\u0275fac=function(e){return new(e||t)(Us(iE),Us(sE))},t.\u0275dir=be({type:t,viewQuery:function(t,e){var n;1&t&&yl(oE,!0),2&t&&ml(n=Cl())&&(e.plotElement=n.first)},inputs:{name:"name",fixedWidth:["fixed-width","fixedWidth"],fixedHeight:["fixed-height","fixedHeight"]}}),t})();class cE{}let uE=(()=>{class t{transform(t,e){if(void 0===t)return"";let n=e.concat(t).map(t=>Math.ceil(Math.log10(Math.abs(t)))+4),r=Math.max.apply(void 0,n),i=t.toFixed(2);for(;i.length<r;)i=" "+i;return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"formatFixed",type:t,pure:!0}),t})();function hE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",10),Xs()),2&t){const t=e.$implicit,n=io(2);Fs("transform",n.translate(n.leftMargin,n.topMargin)),Ir(1),Fs("id",t.id)("stroke",t.color)("stroke-width",n.getLineWidth())("stroke-dasharray",t.dashArray)("stroke-linecap",t.lineCap)("stroke-opacity",t.opacity)}}function dE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",12),Xs()),2&t){const t=e.index,n=io(4);Fs("transform",n.translate(n.leftMargin,n.topMargin)),Ir(1),uo("id","",n.name,"-target-drop-",t,""),Fs("stroke-width",n.getLineWidth()/2)}}function pE(t,e){if(1&t&&(wn(),Qs(0),Vs(1,dE,2,4,"g",5),Zs()),2&t){const t=io(3);Ir(1),qs("ngForOf",t.dropPaths)("ngForTrackBy",t.trackByIndex)}}function fE(t,e){if(1&t){const t=Ks();wn(),Gs(0,"g"),Vs(1,pE,2,2,"ng-container",1),Gs(2,"circle",11),eo("mousemove",(function(e){Ye(t);const n=io(2);return n.hover(e,n.target)})),Xs(),Xs()}if(2&t){const t=io(2);Ir(1),qs("ngIf",!t.hideDropLines),Ir(1),co("id","",t.name,"-target"),Fs("transform",t.translate(t.leftMargin,t.topMargin))}}function gE(t,e){1&t&&(wn(),Ys(0,"path",15)),2&t&&co("id","",io(3).name,"-legend-box")}function mE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",16),Gs(2,"text",17),Io(3),Xs(),Xs()),2&t){const t=e.$implicit,n=e.index,r=io(3);Fs("transform",r.translate(5,r.getFontSize()*n)),Ir(1),Fs("stroke",r.getPathColor(n))("stroke-width",r.getLineWidth())("stroke-dasharray",r.getDashArray(n))("stroke-linecap",r.getLineCap(n)),Ir(2),Do(t)}}function yE(t,e){if(1&t){const t=Ks();wn(),Gs(0,"g",13),eo("dblclick",(function(){return Ye(t),io(2).resetLegend()})),Vs(1,gE,1,1,"path",14),Gs(2,"g",6),Vs(3,mE,4,6,"g",5),Xs(),Xs()}if(2&t){const t=io(2);co("id","",t.name,"-legend"),Fs("transform",t.translate(t.leftMargin+15+t.legendXOffset,t.topMargin+15+t.legendYOffset)),Ir(1),qs("ngIf",t.isLegendBoxVisible()),Ir(1),co("id","",t.name,"-legend-labels"),Ir(1),qs("ngForOf",t.handler.getModelNames())("ngForTrackBy",t.trackByIndex)}}function vE(t,e){1&t&&(wn(),Ys(0,"circle",24))}const bE=function(t){return[t]};function wE(t,e){if(1&t&&(wn(),Gs(0,"g",18),Vs(1,vE,1,0,"circle",19),Ys(2,"path",20),Gs(3,"text",21),Gs(4,"tspan",22),Io(5),tl(6,"formatFixed"),Xs(),Gs(7,"tspan",23),Io(8),tl(9,"formatFixed"),Xs(),Xs(),Xs()),2&t){const t=io(2);co("id","",t.name,"-hover-info"),Ir(1),qs("ngIf",!t.isHoverInfoTarget()),Ir(1),co("id","",t.name,"-hover-box"),Ir(1),co("id","",t.name,"-hover-coords"),Ir(2),No("",t.x.sym,": ",nl(6,8,t.hoverPoint.x,Za(14,bE,t.hoverPoint.y)),""),Ir(3),No("",t.y.sym,": ",nl(9,11,t.hoverPoint.y,Za(16,bE,t.hoverPoint.x)),"")}}function _E(t,e){if(1&t){const t=Ks();wn(),Qs(0),Gs(1,"text",2),Io(2),Xs(),Gs(3,"text",3),Io(4),Xs(),Gs(5,"text",4),Io(6),Xs(),Vs(7,hE,2,7,"g",5),Ys(8,"g",6),Ys(9,"g",6),Gs(10,"rect",7),eo("mouseout",(function(e){return Ye(t),io().hideHoverInfo(e)}))("mousemove",(function(e){return Ye(t),io().hover(e)})),Xs(),Vs(11,fE,3,3,"g",1),Vs(12,yE,4,6,"g",8),Vs(13,wE,10,18,"g",9),Zs()}if(2&t){const t=io();Ir(1),Fs("x",t.innerWidth/2+t.leftMargin)("y",t.height-t.getFontSize()/2),Ir(1),jo(" ",t.x.title," "),Ir(1),Fs("x",0-(t.innerHeight/2+t.topMargin))("y",t.getFontSize()),Ir(1),jo(" ",t.y.title," "),Ir(1),Fs("x",t.innerWidth/2+t.leftMargin)("y",t.getFontSize()),Ir(1),jo(" ",t.title," "),Ir(1),qs("ngForOf",t.paths)("ngForTrackBy",t.trackById),Ir(1),co("id","",t.name,"-x-axis"),Fs("transform",t.translate(t.leftMargin,t.innerHeight+t.topMargin)),Ir(1),co("id","",t.name,"-y-axis"),Fs("transform",t.translate(t.leftMargin,t.topMargin)),Ir(1),Fs("transform",t.translate(t.leftMargin,t.topMargin))("width",t.innerWidth)("height",t.innerHeight),Ir(1),qs("ngIf",!t.hideTarget),Ir(1),qs("ngIf",t.handler.getNumModels()>1),Ir(1),qs("ngIf",t.isHoverInfoActive())}}var xE=function(t){return t[t.Disabled=0]="Disabled",t[t.NonTarget=1]="NonTarget",t[t.Target=2]="Target",t}({});let CE=(()=>{class t extends lE{constructor(t,e){super(t,e),this.plotOptions=t,this.palette=e,this.hoverDisabled=!1,this.hideDropLines=!1,this.hideTarget=!1,this.disableDrag=!1,this.legendXOffset=0,this.legendYOffset=0,this.modelChanged=new sl,this.hoverInfo=xE.Disabled,this.targetDragging=!1,this.needDraw=aE.No,this.setupCompleted=!1,this.attemptDraw=!0}ngOnChanges(t){void 0===this.setupTimeoutId&&(console.log(`${this.name} setting timeout for setup`),this.setupTimeoutId=setTimeout(()=>{this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from ngOnChanges): ${this.setupCompleted}`),this.setupTimeoutId=void 0},1))}ngAfterViewChecked(){if(this.attemptDraw)try{this.draw()}catch(t){console.log(`${this.name} draw failed!`),console.log(t),this.attemptDraw=!1}}redraw(){this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from redraw): ${this.setupCompleted}`)}hover(t,e){if(this.hoverPoint=void 0,this.hoverInfo=xE.Disabled,e)this.hoverPoint=e,this.hoverInfo=xE.Target;else if(!this.hoverDisabled){var n=t.target.getBoundingClientRect();let e=this.xBisector(this.mainData,this.xScale.invert(t.clientX-n.left)),r=this.mainData[e];r&&(this.hoverPoint=r,this.hoverInfo=xE.NonTarget)}this.hoverPoint&&this.hoverPoint.x&&this.hoverPoint.y&&(this.hoverX=this.xScale(this.hoverPoint.x),this.hoverY=this.yScale(this.hoverPoint.y),this.needDraw=aE.Hover)}trackByIndex(t,e){return t}trackById(t,e){return e.id}isHoverInfoActive(){return this.hoverInfo!=xE.Disabled}isHoverInfoTarget(){return this.hoverInfo==xE.Target}hideHoverInfo(t){var e=t.target.getBoundingClientRect();let n=t.clientX,r=t.clientY;(n<e.left||n>e.right||r<e.top||r>e.bottom)&&(this.hoverInfo=xE.Disabled)}resetLegend(){this.legendXOffset=0,this.legendYOffset=0}setupDimensions(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getWidth(),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getHeight(),0==this.height)return!1;return this.yAxisWidth=10+this.getAxisLineWidth()+this.getAxisFontSize()+9,this.xAxisHeight=10+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getFontSize()+this.yAxisWidth+10,this.rightMargin=this.getAxisFontSize()+9,this.topMargin=this.getFontSize()+10,this.bottomMargin=this.getFontSize()+this.xAxisHeight+10,this.viewBox=`0 0 ${this.width} ${this.height}`,this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}setupParams(){if(this.x=this.handler.getXParam(this.name),!this.x)return!1;if(this.y=this.handler.getYParam(this.name),!this.y)return!1;for(;this.x.sym.length<this.y.sym.length;)this.x.sym=" "+this.x.sym;for(;this.y.sym.length<this.x.sym.length;)this.y.sym=" "+this.y.sym;return this.title=`${this.y.title} vs. ${this.x.title}`,!0}setupPlotData(){return this.plotData=this.handler.getPlotData(this.name),!!this.plotData&&(this.mainData=rE(this.plotData[0].filter(t=>Number.isFinite(t.x)&&Number.isFinite(t.y)),(t,e)=>Kw(t.x,e.x)),this.xBisector=Jw(t=>t.x).left,!0)}setupScales(){this.xScale=iT().domain(this.x.range.toArray()).range([0,this.innerWidth]),this.yScale=iT().domain(this.y.range.toArray().reverse()).range([0,this.innerHeight])}setupTarget(){this.target={x:this.x.target,y:this.y.target}}setupPaths(){this.paths=this.plotData.map((t,e)=>{let n=`${this.name}-path-${e}`,r=this.getPath(t,"x","y"),i=this.getPathColor(e),s=this.getDashArray(e),o=this.getLineCap(e),a=this.handler.getSelectedIndex()==e;return{index:e,id:n,path:r,color:i,dashArray:s,lineCap:o,opacity:a?1:.7,primary:a,points:t}}),this.paths.sort((t,e)=>t.primary?1:e.primary?-1:e.index-t.index)}setupDropPaths(){this.dropPaths=[];let t=yk().x((t,e)=>this.xScale(t.x)).y((t,e)=>this.yScale(t.y)),e=[{x:this.target.x,y:this.yScale.domain()[1]},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(e));let n=[{x:this.xScale.domain()[0],y:this.target.y},{x:this.target.x,y:this.target.y}];this.dropPaths.push(t(n))}setup(){return!(!this.handler||!this.setupDimensions()||!this.setupParams()||!this.setupPlotData()||(this.setupScales(),this.setupTarget(),this.setupPaths(),this.setupDropPaths(),this.lastDragEvent&&(this.hover(this.lastDragEvent),this.lastDragEvent=void 0),this.needDraw=aE.Yes,0))}getHoverBoxPath(t,e){let n;try{n=e.getBBox()}catch(d){return""}let r,i,s,o=n.x-5,a=n.x+n.width+5,l=n.width/16,c=o+7*l+5,u=o+9*l+5,h=o+8*l+5;return t?(r=n.y-5,i=n.y+n.height+5,s=i+5):(r=n.y+n.height+5,i=n.y-5,s=i-5),yk()([[o,r],[a,r],[a,i],[u,i],[h,s],[c,i],[o,i],[o,r]])}draw(){if(!this.setupCompleted)return;if(this.needDraw==aE.No)return;let t=Ix(this.plotElement.nativeElement);if(this.hoverInfo!=xE.Disabled&&this.hoverX>=0&&this.hoverY>=0){let e=LS().duration(50);t.select(`#${this.name}-hover-info`).attr("transform",this.translate(this.leftMargin+this.hoverX,this.topMargin+this.hoverY));let n=this.hoverY>=50,r=t.select(`#${this.name}-hover-box`),i=t.select(`#${this.name}-hover-coords`);i.transition(e).attr("y",n?"-2.5em":"2.5em"),r.transition(e).attrTween("d",()=>t=>this.getHoverBoxPath(n,i.node()))}if(this.needDraw==aE.Hover)return void(this.needDraw=aE.No);let e=LS(),n=f_(this.xScale).ticks(Math.floor(this.innerWidth/75));t.select(`#${this.name}-x-axis`).transition(e).call(n).attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth());let r=(i=this.yScale,p_(4,i)).ticks(Math.floor(this.innerHeight/75));var i;t.select(`#${this.name}-y-axis`).transition(e).call(r).attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth());for(let o=0,a=this.paths.length;o<a;o++){let n=t.select(`#${this.paths[o].id}`);n.node().d?n.transition(e).attrTween("d",this.pathTween(this.paths[o].path,4)):n.transition(e).attr("d",this.paths[o].path)}let s=`#${this.name}-target`;t.select(s).transition(e).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(let o=0,a=this.dropPaths.length;o<a;o++)t.select(`${s}-drop-${o}`).transition(e).attr("d",this.dropPaths[o]);if(!this.disableDrag){let e=t.select(s),n=oM().on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));e.call(n)}if(this.paths.length>1){let e=t.select(`#${this.name}-legend-box`),n=t.select(`#${this.name}-legend-labels`);if(e.size()>0&&n.size()>0){let t=n.node().getBBox(),r=t.x-5,i=t.x+t.width+5,s=t.y-5,o=t.y+t.height+5;e.attr("d",yk()([[r,s],[i,s],[i,o],[r,o],[r,s]]))}let r=t.select(`#${this.name}-legend`),i=oM().on("drag",this.dragLegend.bind(this));r.call(i)}this.needDraw=aE.No}dragTargetStart(){this.targetDragging=!0}dragTarget(t){let e=this.xScale.invert(bx.x-this.leftMargin);e<this.x.range.min?e=this.x.range.min:e>this.x.range.max&&(e=this.x.range.max);let n=this.xBisector(this.mainData,e),r=this.mainData[n];if(!r)return;let i=Ix(this.plotElement.nativeElement),s=`#${this.name}-target`;this.target=r,this.setupDropPaths(),i.select(s).attr("cx",this.xScale(this.target.x)).attr("cy",this.yScale(this.target.y));for(let o=0,a=this.dropPaths.length;o<a;o++)i.select(`${s}-drop-${o}`).attr("d",this.dropPaths[o]);this.hover(t,this.target)}dragTargetEnd(t){this.targetDragging=!1,this.handler&&this.x.name&&(this.lastDragEvent=t,this.handler.updateModel(this.handler.getSelectedIndex(),this.x.name,this.target.x).subscribe(()=>{this.modelChanged.emit()}))}dragLegend(){this.legendXOffset+=bx.dx,this.legendYOffset+=bx.dy}pathTween(t,e){return function(){for(var n=this,r=n.cloneNode(),i=n.getTotalLength(),s=(r.setAttribute("d",t),r).getTotalLength(),o=[0],a=0,l=e/Math.max(i,s);(a+=l)<1;)o.push(a);o.push(1);var c=o.map((function(t){var e=n.getPointAtLength(t*i),o=r.getPointAtLength(t*s);return kC([e.x,e.y],[o.x,o.y])}));return function(e){return e<1?"M"+c.map((function(t){return t(e)})).join("L"):t}}}}return t.\u0275fac=function(e){return new(e||t)(Us(iE),Us(sE))},t.\u0275cmp=pe({type:t,selectors:[["app-line-plot"]],inputs:{handler:"handler",hoverDisabled:["hover-disabled","hoverDisabled"],hideDropLines:["hide-drop-lines","hideDropLines"],hideTarget:["hide-target","hideTarget"],disableDrag:["disable-drag","disableDrag"],legendXOffset:["legend-x-offset","legendXOffset"],legendYOffset:["legend-y-offset","legendYOffset"]},outputs:{modelChanged:"modelChanged"},features:[Vo,Wo],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","transform","rotate(-90)"],["text-anchor","middle","font-weight","bold"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["fill","none","pointer-events","all",3,"mouseout","mousemove"],["class","legend","font-size","smaller",3,"id","dblclick",4,"ngIf"],["pointer-events","none",3,"id",4,"ngIf"],["fill","none"],["r","5","fill","red",1,"target",3,"id","mousemove"],["stroke","red","stroke-dasharray","5, 5","fill","none",3,"id"],["font-size","smaller",1,"legend",3,"id","dblclick"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id",4,"ngIf"],["fill","white","fill-opacity","0.8","stroke","black","stroke-opacity","1",3,"id"],["d","m0,0 l45,0","fill","none"],["x","50","y","5"],["pointer-events","none",3,"id"],["r","4","fill","none","stroke","blue",4,"ngIf"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.8",3,"id"],["font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["r","4","fill","none","stroke","blue"]],template:function(t,e){1&t&&(wn(),Gs(0,"svg",null,0),Vs(2,_E,14,21,"ng-container",1),Xs()),2&t&&(bo("font-family",e.getFontFamily())("font-size",e.getFontSizePx()),Fs("class",e.name)("width",e.fixedWidth)("height",e.fixedHeight)("viewBox",e.viewBox),Ir(2),qs("ngIf",e.x&&e.y&&e.handler))},directives:[Tu,Su],pipes:[uE],styles:[".legend[_ngcontent-%COMP%], .target[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}"]}),t})();class SE{}function ME(t,e){if(1&t&&(wn(),Ys(0,"circle",7)),2&t){const t=io(2);Fs("cx",t.xScale(t.nullValue))("cy",t.yScale(.5))("transform",t.translate(t.leftMargin,t.topMargin))}}function TE(t,e){if(1&t){const t=Ks();wn(),Gs(0,"g",6),Ys(1,"path",8),Ys(2,"path",9),Gs(3,"path",10),eo("mouseover",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleLeftBarInfo(!0):null}))("mouseout",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleLeftBarInfo(!1):null})),Xs(),Gs(4,"path",11),eo("mouseover",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleRightBarInfo(!0):null}))("mouseout",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleRightBarInfo(!1):null})),Xs(),Gs(5,"circle",12),eo("mouseover",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleTargetInfo(!0):null}))("mouseout",(function(){Ye(t);const n=e.$implicit,r=io(2);return r.isPrimaryGroup(n)?r.toggleTargetInfo(!1):null})),Xs(),Xs()}if(2&t){const t=e.$implicit,n=io(2);wo("primary-group",n.isPrimaryGroup(t)),uo("id","",n.name,"-group-",t,""),Fs("transform",n.isPrimaryGroup(t)?n.translate(n.leftMargin+n.primaryGroupOffset,n.topMargin):null),Ir(1),uo("id","",n.name,"-group-",t,"-dist"),Fs("fill",n.getPathColor(t))("fill-opacity",n.getGroupFillOpacity(t)),Ir(1),uo("id","",n.name,"-group-",t,"-center"),Fs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Ir(1),wo("draggable",n.isPrimaryGroup(t)&&!n.disableDragCI),uo("id","",n.name,"-group-",t,"-left"),Fs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Ir(1),wo("draggable",n.isPrimaryGroup(t)&&!n.disableDragCI),uo("id","",n.name,"-group-",t,"-right"),Fs("stroke",n.getPathColor(t))("stroke-width",n.getLineWidth()),Ir(1),wo("draggable",n.isPrimaryGroup(t)&&!n.disableDragTarget),uo("id","",n.name,"-group-",t,"-target"),Fs("fill",n.getPathColor(t))}}const kE=function(t){return[t]};function EE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",13),Gs(2,"text",14),Gs(3,"tspan",15),Io(4),tl(5,"formatFixed"),Xs(),Gs(6,"tspan",16),Io(7),tl(8,"formatFixed"),Xs(),Xs(),Xs()),2&t){const t=io(2);Fs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.ci.lower),t.topMargin+t.yScale(.5))),Ir(1),co("id","",t.name,"-left-box"),Ir(1),co("id","",t.name,"-left-coords"),Ir(2),jo("95% CI: ",nl(5,5,t.ciWidth(),Za(11,kE,t.primaryGroup.ci.lower)),""),Ir(3),jo(" Bound: ",nl(8,8,t.primaryGroup.ci.lower,Za(13,kE,t.ciWidth())),"")}}function PE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",13),Gs(2,"text",14),Gs(3,"tspan",15),Io(4),tl(5,"formatFixed"),Xs(),Gs(6,"tspan",16),Io(7),tl(8,"formatFixed"),Xs(),Xs(),Xs()),2&t){const t=io(2);Fs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.ci.upper),t.topMargin+t.yScale(.5))),Ir(1),co("id","",t.name,"-right-box"),Ir(1),co("id","",t.name,"-right-coords"),Ir(2),jo("95% CI: ",nl(5,5,t.ciWidth(),Za(11,kE,t.primaryGroup.ci.upper)),""),Ir(3),jo(" Bound: ",nl(8,8,t.primaryGroup.ci.upper,Za(13,kE,t.ciWidth())),"")}}const RE=function(){return[]};function AE(t,e){if(1&t&&(wn(),Gs(0,"g"),Ys(1,"path",13),Gs(2,"text",17),Gs(3,"tspan",15),Io(4),tl(5,"formatFixed"),Xs(),Xs(),Xs()),2&t){const t=io(2);Fs("transform",t.translate(t.leftMargin+t.xScale(t.primaryGroup.target),t.topMargin+t.yScale(.5))),Ir(1),co("id","",t.name,"-target-box"),Ir(1),co("id","",t.name,"-target-coords"),Ir(2),No("",t.xParam.sym,": ",nl(5,5,t.primaryGroup.target,Qa(8,RE)),"")}}function OE(t,e){if(1&t&&(wn(),Qs(0),Gs(1,"text",2),Io(2),Xs(),Gs(3,"text",3),Io(4),Xs(),Vs(5,ME,1,3,"circle",4),Vs(6,TE,6,30,"g",5),Vs(7,EE,9,15,"g",1),Vs(8,PE,9,15,"g",1),Vs(9,AE,6,9,"g",1),Ys(10,"g",6),Zs()),2&t){const t=io();Ir(1),Fs("x",t.innerWidth/2+t.leftMargin)("y",t.height-5),Ir(1),jo(" ",t.xParam.title," "),Ir(1),Fs("x",t.innerWidth/2+t.leftMargin)("y",t.getFontSize()/2+8),Ir(1),jo(" ",t.title," "),Ir(1),qs("ngIf",t.nullValue),Ir(1),qs("ngForOf",t.groupOrder)("ngForTrackBy",t.trackByIndex),Ir(1),qs("ngIf",t.showLeftBarInfo),Ir(1),qs("ngIf",t.showRightBarInfo),Ir(1),qs("ngIf",t.showTargetInfo),Ir(1),co("id","",t.name,"-bottom-axis"),Fs("transform",t.translate(t.leftMargin,t.innerHeight+t.topMargin))}}var IE=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t}({});let DE=(()=>{class t extends lE{constructor(t,e){super(t,e),this.plotOptions=t,this.palette=e,this.disableDragTarget=!1,this.disableDragCI=!1,this.modelChanged=new sl,this.leftMargin=10,this.rightMargin=10,this.topMargin=50,this.bottomMargin=50,this.needDraw=aE.No,this.targetDragging=!1,this.targetWasDragging=!1,this.showTargetInfo=!1,this.primaryGroupOffset=0,this.barDragging=!1,this.showLeftBarInfo=!1,this.showRightBarInfo=!1,this.setupCompleted=!1,this.attemptDraw=!0}ngOnChanges(t){void 0===this.setupTimeoutId&&(console.log(`${this.name} setting timeout for setup`),this.setupTimeoutId=setTimeout(()=>{this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from ngOnChanges): ${this.setupCompleted}`),this.setupTimeoutId=void 0},1))}ngAfterViewChecked(){if(this.attemptDraw)try{this.draw()}catch(t){console.log(`${this.name} draw failed!`),console.log(t),this.attemptDraw=!1}}redraw(){this.setupCompleted=this.setup(),console.log(`${this.name} setup result (from redraw): ${this.setupCompleted}`)}toggleTargetInfo(t){this.targetDragging||this.barDragging||(this.showTargetInfo=t,t&&(this.needDraw=aE.Hover))}toggleLeftBarInfo(t){this.targetDragging||this.barDragging||(this.showLeftBarInfo=t,t&&(this.needDraw=aE.Hover))}toggleRightBarInfo(t){this.targetDragging||this.barDragging||(this.showRightBarInfo=t,t&&(this.needDraw=aE.Hover))}setupDimensions(){if(this.fixedWidth)this.width=this.fixedWidth;else if(this.width=this.getDimension("width"),0==this.width)return!1;if(this.fixedHeight)this.height=this.fixedHeight;else if(this.height=this.getDimension("height"),0==this.height)return!1;return this.topMargin=this.getFontSize()+20,this.bottomMargin=10+this.getFontSize()+this.getAxisLineWidth()+this.getAxisFontSize()/2+9,this.leftMargin=this.getAxisFontSize()+9,this.rightMargin=this.leftMargin,this.viewBox=`0 0 ${this.width} ${this.height}`,this.innerWidth=this.width-this.leftMargin-this.rightMargin,this.innerHeight=this.height-this.topMargin-this.bottomMargin,!0}setup(){return!!this.handler&&!!this.setupDimensions()&&(this.setupParams(),this.setupGroups(),this.setupScales(),this.resetDragging(),this.needDraw=aE.Yes,!0)}setupParams(){this.xParam=this.handler.getXParam(),this.title="Precision (95% Confidence Interval) vs. Effect Size"}setupGroups(){this.groups=this.handler.getGroups();let t=this.handler.getSelectedIndex();this.primaryGroup=this.groups[t],this.primaryGroup.ciValues&&(this.ciValuesLower=rE(this.primaryGroup.ciValues,(t,e)=>Kw(t.lower,e.lower)),this.ciValuesUpper=rE(this.primaryGroup.ciValues,(t,e)=>Kw(t.upper,e.upper))),this.groupOrder=[],this.groups.forEach((e,n)=>{n!==t&&this.groupOrder.push(n)}),this.groupOrder.push(t)}setupScales(){this.xScale=iT().domain(this.xParam.range.toArray()).range([0,this.innerWidth]),this.originalTargetPosition=this.xScale(this.primaryGroup.target),this.yScale=iT().domain([0,.7]).range([0,this.innerHeight]);let t=this.groups.reduce((t,e)=>{let n=e_(e.sampDist,t=>t.y);return e_(t.concat(n))},[]);this.yScaleSD=iT().domain(t.reverse()).range([0,this.yScale(.5)]).clamp(!0)}resetDragging(){this.targetWasDragging=this.targetDragging,this.targetDragging=!1,this.barDragging=!1}draw(){if(!this.setupCompleted)return;if(this.needDraw==aE.No)return;if(this.drawInfoBox("left"),this.drawInfoBox("right"),this.drawInfoBox("target"),this.needDraw==aE.Hover)return void(this.needDraw=aE.No);let t=Ix(this.plotElement.nativeElement),e=t.transition(),n=f_(this.xScale).ticks(Math.floor(this.innerWidth/75));e.select(`#${this.name}-bottom-axis`).call(n).attr("font-size",`${this.plotOptions.getAxisFontSize()}px`).attr("stroke-width",this.plotOptions.getAxisLineWidth()),this.groups.forEach((n,r)=>{let i=e;this.targetWasDragging&&this.isPrimaryGroup(r)&&(i=t);let s=`#${this.name}-group-${r}`;i.select(s).attr("transform",this.translate(this.leftMargin,this.topMargin));let o=this.getPath([{x:n.ci.lower,y:.4},{x:n.ci.lower,y:.6}],"x","y",!1);i.select(`${s}-left`).attr("d",o);let a=this.getPath([{x:n.ci.upper,y:.4},{x:n.ci.upper,y:.6}],"x","y",!1);i.select(`${s}-right`).attr("d",a);let l=this.getPath([{x:n.ci.lower,y:.5},{x:n.ci.upper,y:.5}],"x","y",!1);i.select(`${s}-center`).attr("d",l);let c=this.getArea(n.sampDist,"x","y");if(i.select(`${s}-dist`).attr("d",c),i.select(`${s}-target`).attr("cx",this.xScale(n.target)).attr("cy",this.yScale(.5)),this.isPrimaryGroup(r)){let e=t.select(`${s}-target`),n=oM().container(e.node().parentNode.parentNode).on("start",this.dragTargetStart.bind(this)).on("drag",this.dragTarget.bind(this)).on("end",this.dragTargetEnd.bind(this));e.call(n);let r=t.select(`${s}-left`),i=oM().container(r.node().parentNode.parentNode).on("start",this.dragBarStart.bind(this,IE.Left)).on("drag",this.dragBar.bind(this,IE.Left)).on("end",this.dragBarEnd.bind(this,IE.Left));r.call(i);let o=t.select(`${s}-right`),a=oM().container(o.node().parentNode.parentNode).on("start",this.dragBarStart.bind(this,IE.Right)).on("drag",this.dragBar.bind(this,IE.Right)).on("end",this.dragBarEnd.bind(this,IE.Right));o.call(a)}}),this.needDraw=aE.No}drawInfoBox(t){let e=Ix(this.plotElement.nativeElement),n=e.select(`#${this.name}-${t}-box`),r=e.select(`#${this.name}-${t}-coords`);if(n.size()>0&&r.size()>0){let t=r.node().getBBox(),e=t.x-5,i=t.x+t.width+5,s=t.width/16,o=e+7*s+5,a=e+9*s+5,l=e+8*s+5,c=t.y-5,u=t.y+t.height+5;n.attr("d",yk()([[e,c],[i,c],[i,u],[a,u],[l,u+5],[o,u],[e,u],[e,c]]))}}ciWidth(){return Math.abs(this.primaryGroup.ci.upper-this.primaryGroup.ci.lower)}getGroupFillOpacity(t){return this.targetDragging&&t===this.handler.getSelectedIndex()?.1:.5}isPrimaryGroup(t){return this.handler.getSelectedIndex()===t}getArea(t,e,n){return function(){var t=gk,e=null,n=dk(0),r=mk,i=dk(!0),s=null,o=fk,a=null;function l(l){var c,u,h,d,p,f=l.length,g=!1,m=new Array(f),y=new Array(f);for(null==s&&(a=o(p=YS())),c=0;c<=f;++c){if(!(c<f&&i(d=l[c],c,l))===g)if(g=!g)u=c,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=c-1;h>=u;--h)a.point(m[h],y[h]);a.lineEnd(),a.areaEnd()}g&&(m[c]=+t(d,c,l),y[c]=+n(d,c,l),a.point(e?+e(d,c,l):m[c],r?+r(d,c,l):y[c]))}if(p)return a=null,p+""||null}function c(){return yk().defined(i).curve(o).context(s)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:dk(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:dk(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:dk(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:dk(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:dk(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:dk(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:dk(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=s&&(a=o(s)),l):o},l.context=function(t){return arguments.length?(null==t?s=a=null:a=o(s=t),l):s},l}().curve(wk).x((t,n)=>this.xScale(t[e])).y0(this.yScaleSD(0)).y1((t,e)=>this.yScaleSD(t[n]))(t)}dragTargetStart(){this.disableDragTarget||(this.targetDragging=!0)}dragTarget(t){if(this.disableDragTarget)return;let e=bx.x-this.leftMargin,n=this.xScale.invert(e);n>=0&&n<.1?(n=.1,e=this.xScale(n)):n<0&&n>-.1&&(n=-.1,e=this.xScale(n)),this.primaryGroupOffset=e-this.originalTargetPosition,this.primaryGroup.target=n,this.needDraw=aE.Hover}dragTargetEnd(){this.disableDragTarget||(this.handler&&this.handler.updateTargetValue(this.primaryGroup.target).subscribe(()=>{this.modelChanged.emit()}),this.showTargetInfo=!1)}dragBarStart(t){this.disableDragCI||(this.barDragging=!0)}dragBar(t,e){if(this.disableDragCI)return;let n=this.xScale.invert(bx.x-this.leftMargin);if(this.primaryGroup.ciValues){let e,r;switch(t){case IE.Left:r=this.ciValuesLower,e=Jw(t=>t.lower).left;break;case IE.Right:r=this.ciValuesUpper,e=Jw(t=>t.upper).left}let i=e(r,n);if(!i)return;i>=r.length&&(i=r.length-1),this.primaryGroup.ci=r[i]}else{let e=0;switch(t){case IE.Left:e=n-this.primaryGroup.ci.lower;break;case IE.Right:e=this.primaryGroup.ci.upper-n}this.primaryGroup.ci.lower+=e,this.primaryGroup.ci.upper-=e}this.handler.setIntermediateCIValue(this.primaryGroup.ci);let r=this.getPath([{x:this.primaryGroup.ci.lower,y:.4},{x:this.primaryGroup.ci.lower,y:.6}],"x","y",!1),i=this.getPath([{x:this.primaryGroup.ci.upper,y:.4},{x:this.primaryGroup.ci.upper,y:.6}],"x","y",!1),s=this.getPath([{x:this.primaryGroup.ci.lower,y:.5},{x:this.primaryGroup.ci.upper,y:.5}],"x","y",!1),o=Ix(this.plotElement.nativeElement).select("g.primary-group");o.select("path.left").attr("d",r),o.select("path.right").attr("d",i),o.select("path.center").attr("d",s),this.needDraw=aE.Hover}dragBarEnd(t){this.disableDragCI||(this.handler&&this.handler.updateCIValue(this.primaryGroup.ci).subscribe(()=>{this.modelChanged.emit()}),this.showLeftBarInfo=!1,this.showRightBarInfo=!1)}}return t.\u0275fac=function(e){return new(e||t)(Us(iE),Us(sE))},t.\u0275cmp=pe({type:t,selectors:[["app-ci-plot"]],inputs:{handler:"handler",disableDragTarget:["disable-drag-target","disableDragTarget"],disableDragCI:["disable-drag-ci","disableDragCI"]},outputs:{modelChanged:"modelChanged"},features:[Vo,Wo],decls:3,vars:9,consts:[["plot",""],[4,"ngIf"],["text-anchor","middle"],["text-anchor","middle","font-weight","bold"],["r","5","fill","darkseagreen",4,"ngIf"],[3,"id","primary-group",4,"ngFor","ngForOf","ngForTrackBy"],[3,"id"],["r","5","fill","darkseagreen"],["stroke","none",1,"dist",3,"id"],["fill","none",1,"center",3,"id"],["fill","none",1,"left",3,"id","mouseover","mouseout"],["fill","none",1,"right",3,"id","mouseover","mouseout"],["r","5",1,"target",3,"id","mouseover","mouseout"],["stroke","black","stroke-width","1","fill","white","fill-opacity","0.9",3,"id"],["x","0","y","-3em","font-family","monospace","text-anchor","middle",3,"id"],[2,"white-space","pre"],["x","0","dy","1em",2,"white-space","pre"],["x","0","y","-1.5em","font-family","mono","text-anchor","middle",3,"id"]],template:function(t,e){1&t&&(wn(),Gs(0,"svg",null,0),Vs(2,OE,11,14,"ng-container",1),Xs()),2&t&&(bo("font-family",e.getFontFamily())("font-size",e.getFontSizePx()),Fs("class",e.name)("width",e.fixedWidth)("height",e.fixedHeight)("viewBox",e.viewBox),Ir(2),qs("ngIf",e.handler&&e.groups))},directives:[Tu,Su],pipes:[uE],styles:[".draggable{cursor:-webkit-grab;cursor:grab}"],encapsulation:2}),t})(),jE=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Tc.apiUrl}/export`}formats(){let t=`${this.apiUrl}/formats`,e={headers:new py({"Content-Type":"application/json"})};return this.http.get(t,e).pipe(tf(this.handleError))}plots(t,e){let n=`${this.apiUrl}/plots`,r={format:t,plots:e},i={headers:new py({"Content-Type":"application/json"})};return this.http.post(n,r,i).pipe(tf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),_b("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(ky))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();const NE=["topLeftPlot"],FE=["topRightPlot"],LE=["bottomPlot"],$E=["downloadLink"];function VE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Width "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).topLeftWidth=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.topLeftWidth)}}function zE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Height "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).topLeftHeight=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.topLeftHeight)}}function UE(t,e){if(1&t){const t=Ks();Gs(0,"div",23),Gs(1,"label",24),Gs(2,"input",25),eo("ngModelChange",(function(e){return Ye(t),io(2).topLeftTarget=e})),Xs(),Io(3," Show target and drop lines "),Xs(),Xs(),Gs(4,"label"),Io(5," Dimensions "),Gs(6,"select",30),eo("ngModelChange",(function(e){return Ye(t),io(2).topLeftDim=e}))("ngModelChange",(function(e){return Ye(t),io(2).setDim("topLeft",e)})),Gs(7,"option",31),Io(8,"640 by 480"),Xs(),Gs(9,"option",32),Io(10,"800 by 600"),Xs(),Gs(11,"option",33),Io(12,"1024 by 768"),Xs(),Gs(13,"option",34),Io(14,"Custom"),Xs(),Xs(),Xs(),Vs(15,VE,4,1,"div",35),Vs(16,zE,4,1,"div",35)}if(2&t){const t=io(2);Ir(2),qs("ngModel",t.topLeftTarget),Ir(4),qs("ngModel",t.topLeftDim),Ir(9),qs("ngIf","other"==t.topLeftDim),Ir(1),qs("ngIf","other"==t.topLeftDim)}}function HE(t,e){if(1&t){const t=Ks();Gs(0,"div",22),Gs(1,"div",23),Gs(2,"label",24),Gs(3,"input",25),eo("ngModelChange",(function(e){return Ye(t),io().includeTopLeft=e})),Xs(),Io(4," Export this graph "),Xs(),Xs(),Vs(5,UE,17,4,"ng-template",26),Xs(),Gs(6,"div",27),Ys(7,"app-line-plot",28,29),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.includeTopLeft),Ir(2),qs("ngIf",t.includeTopLeft),Ir(2),qs("handler",t.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!t.topLeftTarget)("hide-target",!t.topLeftTarget)("fixed-width",t.topLeftWidth)("fixed-height",t.topLeftHeight)("legend-x-offset",t.topLeftLegendXOffset)("legend-y-offset",t.topLeftLegendYOffset)}}function BE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Width "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).topRightWidth=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.topRightWidth)}}function qE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Height "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).topRightHeight=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.topRightHeight)}}function WE(t,e){if(1&t){const t=Ks();Gs(0,"div",23),Gs(1,"label",24),Gs(2,"input",25),eo("ngModelChange",(function(e){return Ye(t),io(2).topRightTarget=e})),Xs(),Io(3," Show target and drop lines "),Xs(),Xs(),Gs(4,"label"),Io(5," Dimensions "),Gs(6,"select",40),eo("ngModelChange",(function(e){return Ye(t),io(2).topRightDim=e}))("ngModelChange",(function(e){return Ye(t),io(2).setDim("topRight",e)})),Gs(7,"option",31),Io(8,"640 by 480"),Xs(),Gs(9,"option",32),Io(10,"800 by 600"),Xs(),Gs(11,"option",33),Io(12,"1024 by 768"),Xs(),Gs(13,"option",34),Io(14,"Custom"),Xs(),Xs(),Xs(),Vs(15,BE,4,1,"div",35),Vs(16,qE,4,1,"div",35)}if(2&t){const t=io(2);Ir(2),qs("ngModel",t.topRightTarget),Ir(4),qs("ngModel",t.topRightDim),Ir(9),qs("ngIf","other"==t.topRightDim),Ir(1),qs("ngIf","other"==t.topRightDim)}}function GE(t,e){if(1&t){const t=Ks();Gs(0,"div",22),Gs(1,"div",23),Gs(2,"label",24),Gs(3,"input",25),eo("ngModelChange",(function(e){return Ye(t),io().includeTopRight=e})),Xs(),Io(4," Export this graph "),Xs(),Xs(),Vs(5,WE,17,4,"ng-template",26),Xs(),Gs(6,"div",27),Ys(7,"app-line-plot",38,39),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.includeTopRight),Ir(2),qs("ngIf",t.includeTopRight),Ir(2),qs("handler",t.linePlotHandler)("hover-disabled",!0)("disable-drag",!0)("hide-drop-lines",!t.topRightTarget)("hide-target",!t.topRightTarget)("fixed-width",t.topRightWidth)("fixed-height",t.topRightHeight)("legend-x-offset",t.topRightLegendXOffset)("legend-y-offset",t.topRightLegendYOffset)}}function XE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Width "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).bottomWidth=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.bottomWidth)}}function YE(t,e){if(1&t){const t=Ks();Gs(0,"div",36),Gs(1,"label"),Io(2," Height "),Gs(3,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).bottomHeight=e})),Xs(),Xs(),Xs()}if(2&t){const t=io(3);Ir(3),qs("ngModel",t.bottomHeight)}}function QE(t,e){if(1&t){const t=Ks();Gs(0,"label"),Io(1," Dimensions "),Gs(2,"select",43),eo("ngModelChange",(function(e){return Ye(t),io(2).bottomDim=e}))("ngModelChange",(function(e){return Ye(t),io(2).setDim("bottom",e)})),Gs(3,"option",44),Io(4,"640 by 160"),Xs(),Gs(5,"option",45),Io(6,"800 by 200"),Xs(),Gs(7,"option",46),Io(8,"1024 by 256"),Xs(),Gs(9,"option",34),Io(10,"Custom"),Xs(),Xs(),Xs(),Vs(11,XE,4,1,"div",35),Vs(12,YE,4,1,"div",35)}if(2&t){const t=io(2);Ir(2),qs("ngModel",t.bottomDim),Ir(9),qs("ngIf","other"==t.bottomDim),Ir(1),qs("ngIf","other"==t.bottomDim)}}function ZE(t,e){if(1&t){const t=Ks();Gs(0,"div",22),Gs(1,"div",23),Gs(2,"label",24),Gs(3,"input",25),eo("ngModelChange",(function(e){return Ye(t),io().includeBottom=e})),Xs(),Io(4," Export this graph "),Xs(),Xs(),Vs(5,QE,13,3,"ng-template",26),Xs(),Gs(6,"div",27),Ys(7,"app-ci-plot",41,42),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.includeBottom),Ir(2),qs("ngIf",t.includeBottom),Ir(2),qs("handler",t.ciPlotHandler)("disable-drag-target",!0)("disable-drag-ci",!0)("fixed-width",t.bottomWidth)("fixed-height",t.bottomHeight)}}function KE(t,e){if(1&t&&(Gs(0,"option",47),Io(1),Xs()),2&t){const t=e.$implicit;qs("selected",io().imageFormat==t),Ir(1),Do(t)}}var JE=function(t){return t[t.iOS=0]="iOS",t[t.WP=1]="WP",t[t.Android=2]="Android",t[t.Linux=3]="Linux",t[t.Mac=4]="Mac",t[t.Windows=5]="Windows",t[t.BB=6]="BB",t[t.Other=7]="Other",t}({});let tP=[[JE.iOS,/([0-9_]+) like Mac OS X/],[JE.iOS,/CPU like Mac OS X/],[JE.WP,/Windows Phone ([0-9\.]+)/],[JE.Android,/Android ([0-9\.]+)/],[JE.Linux,/Linux/],[JE.Mac,/Macintosh.+Mac OS X ([0-9_]+)/],[JE.Windows,/Windows NT ([0-9\.]+)/],[JE.BB,/BlackBerry.+Version\/([0-9\.]+)/],[JE.BB,/BB[0-9]+.+Version\/([0-9\.]+)/]],eP=(()=>{class t{constructor(t,e){this.activeModal=t,this.exportService=e,this.includeTopLeft=!0,this.topLeftDim="640x480",this.topLeftWidth=640,this.topLeftHeight=480,this.topLeftTarget=!0,this.includeTopRight=!0,this.topRightDim="640x480",this.topRightWidth=640,this.topRightHeight=480,this.topRightTarget=!0,this.includeBottom=!0,this.bottomTitle="Precision vs. Effect Size",this.bottomDim="640x160",this.bottomWidth=640,this.bottomHeight=160,this.imageFormats=[]}ngOnInit(){switch(this.detectPlatform()){case JE.Windows:this.imageFormat="WMF";break;case JE.Mac:this.imageFormat="EPS";break;case JE.Linux:this.imageFormat="SVG";break;default:this.imageFormat="PNG"}this.exportService.formats().subscribe(t=>{this.imageFormats=t.formats,this.imageFormats.some(t=>this.imageFormat==t)||(this.imageFormat="PNG")}),this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler()}ngAfterViewChecked(){this.topLeftTitle&&this.topRightTitle&&this.bottomTitle||setTimeout(()=>{this.topLeftPlot&&(this.topLeftTitle=this.topLeftPlot.title),this.topRightPlot&&(this.topRightTitle=this.topRightPlot.title),this.bottomPlot&&(this.bottomTitle=this.bottomPlot.title)},1)}detectPlatform(){if(navigator){let n=navigator.userAgent;for(var t=0,e=tP.length;t<e;t++){let e=tP[t];if(n.match(e[1]))return e[0]}}return JE.Other}setDim(t,e){if("other"!=e){let n=e.split("x");this[`${t}Width`]=parseInt(n[0]),this[`${t}Height`]=parseInt(n[1])}}serializePlot(t){return(new XMLSerializer).serializeToString(t.plotElement.nativeElement)}save(){let t=[];this.includeTopLeft&&t.push({name:this.topLeftTitle,width:this.topLeftWidth,height:this.topLeftHeight,svg:this.serializePlot(this.topLeftPlot)}),this.includeTopRight&&t.push({name:this.topRightTitle,width:this.topRightWidth,height:this.topRightHeight,svg:this.serializePlot(this.topRightPlot)}),this.includeBottom&&t.push({name:this.bottomTitle,width:this.bottomWidth,height:this.bottomHeight,svg:this.serializePlot(this.bottomPlot)}),this.exportService.plots(this.imageFormat,t).subscribe(t=>{let e=atob(t.data);for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);let s=new Blob([n],{type:"application/zip"}),o=URL.createObjectURL(s),a=this.downloadLink.nativeElement;a.href=o,a.download=t.filename,a.click(),URL.revokeObjectURL(o),this.activeModal.close()})}cancel(){this.activeModal.close()}}return t.\u0275fac=function(e){return new(e||t)(Us(lw),Us(jE))},t.\u0275cmp=pe({type:t,selectors:[["app-export-plots"]],viewQuery:function(t,e){var n;1&t&&(vl(NE,!0),vl(FE,!0),vl(LE,!0),yl($E,!0)),2&t&&(ml(n=Cl())&&(e.topLeftPlot=n.first),ml(n=Cl())&&(e.topRightPlot=n.first),ml(n=Cl())&&(e.bottomPlot=n.first),ml(n=Cl())&&(e.downloadLink=n.first))},inputs:{project:"project",topLeftLegendXOffset:["top-left-legend-x-offset","topLeftLegendXOffset"],topLeftLegendYOffset:["top-left-legend-y-offset","topLeftLegendYOffset"],topRightLegendXOffset:["top-right-legend-x-offset","topRightLegendXOffset"],topRightLegendYOffset:["top-right-legend-y-offset","topRightLegendYOffset"]},decls:33,vars:7,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],["id","export-plots-modal-body",1,"modal-body","grow-vert","h-100"],[1,"d-flex","flex-column","h-100"],[3,"destroyOnHide"],[3,"title"],["ngbTabContent",""],[1,"modal-footer"],[1,"d-flex-inline","flex-row"],[1,"form-inline"],["for","export-image-format",1,"mr-sm-2"],["id","export-image-format","name","imageFormat",1,"form-control",3,"ngModel","ngModelChange"],[3,"selected",4,"ngFor","ngForOf"],[2,"display","none"],["downloadLink",""],[1,"d-flex","flex-row","align-items-center"],["type","button",1,"btn","btn-secondary","m-1",3,"disabled","click"],[1,"fa","fa-floppy-o"],["type","button",1,"btn","btn-secondary","m-1",3,"click"],[1,"fa","fa-circle-x"],[1,"left"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"ngIf"],[1,"right"],["name","top-left-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topLeftPlot",""],["name","topLeftDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x480"],["value","800x600"],["value","1024x768"],["value","other"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["name","top-right-export",3,"handler","hover-disabled","disable-drag","hide-drop-lines","hide-target","fixed-width","fixed-height","legend-x-offset","legend-y-offset"],["topRightPlot",""],["name","topRightDim",1,"form-control",3,"ngModel","ngModelChange"],["name","bottom-export",3,"handler","disable-drag-target","disable-drag-ci","fixed-width","fixed-height"],["bottomPlot",""],["name","bottomDim",1,"form-control",3,"ngModel","ngModelChange"],["value","640x160"],["value","800x200"],["value","1024x256"],[3,"selected"]],template:function(t,e){1&t&&(Gs(0,"div",0),Gs(1,"h4",1),Io(2,"Export graphs"),Xs(),Gs(3,"button",2),eo("click",(function(){return e.cancel()})),Gs(4,"span",3),Io(5,"\xd7"),Xs(),Xs(),Xs(),Gs(6,"div",4),Gs(7,"div",5),Gs(8,"ngb-tabset",6),Gs(9,"ngb-tab",7),Vs(10,HE,9,11,"ng-template",8),Xs(),Gs(11,"ngb-tab",7),Vs(12,GE,9,11,"ng-template",8),Xs(),Gs(13,"ngb-tab",7),Vs(14,ZE,9,7,"ng-template",8),Xs(),Xs(),Xs(),Xs(),Gs(15,"div",9),Gs(16,"div",10),Gs(17,"div",11),Gs(18,"label",12),Io(19,"Image format:"),Xs(),Gs(20,"select",13),eo("ngModelChange",(function(t){return e.imageFormat=t})),Vs(21,KE,2,2,"option",14),Xs(),Xs(),Xs(),Gs(22,"p"),Io(23," The graphs you have chosen will be packaged in a ZIP file. "),Ys(24,"a",15,16),Xs(),Gs(26,"div",17),Gs(27,"button",18),eo("click",(function(){return e.save()})),Ys(28,"i",19),Io(29," Save "),Xs(),Gs(30,"button",20),eo("click",(function(){return e.cancel()})),Ys(31,"i",21),Io(32," Close "),Xs(),Xs(),Xs()),2&t&&(Ir(8),qs("destroyOnHide",!1),Ir(1),qs("title",e.topLeftTitle||"Top Left Plot"),Ir(2),qs("title",e.topRightTitle||"Top Right Plot"),Ir(2),qs("title",e.bottomTitle||"Bottom Plot"),Ir(7),qs("ngModel",e.imageFormat),Ir(1),qs("ngForOf",e.imageFormats),Ir(6),qs("disabled",!e.includeTopLeft&&!e.includeTopRight&&!e.includeBottom))},directives:[Ow,Aw,Rw,Mv,nv,eb,Su,Wy,Tu,CE,Tv,Rv,gv,Yy,DE],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.modal-body[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20%;border-right:1px solid #888;padding:10px}.modal-body[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;margin-left:10px;overflow:auto;padding:10px}.modal-footer[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}"]}),t})(),nP=(()=>{class t{constructor(){this.onCopy=new sl,document.addEventListener("copy",t=>{this.onCopy.emit(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rP=["topLeft"],iP=["topRight"],sP=["bottom"],oP=["footerTabset"],aP=["log"];function lP(t,e){1&t&&(Gs(0,"div",10),Ys(1,"div",11),Ys(2,"div",12),Ys(3,"div",13),Xs()),2&t&&qs("@overlay",void 0)}function cP(t,e){if(1&t){const t=Ks();Gs(0,"div",14),Gs(1,"button",15),eo("click",(function(){return Ye(t),io().toggleFooter(!0)})),Ys(2,"i",16),Io(3," Interpretation / Log "),Xs(),Xs()}}function uP(t,e){1&t&&Ys(0,"i",30),2&t&&bo("color",io(3).getIndicatorColor())}function hP(t,e){1&t&&(Vs(0,uP,1,2,"i",29),Io(1," Interpretation ")),2&t&&qs("ngIf",io(2).project.getModelCount()>1)}function dP(t,e){1&t&&Io(0),2&t&&jo(" ",io(2).project.getModelInterpretation()," ")}function pP(t,e){1&t&&Io(0," There have not been any changes yet. ")}function fP(t,e){if(1&t&&(Io(0),Gs(1,"span",37),Io(2),tl(3,"json"),Xs()),2&t){const t=io().$implicit;jo(" Added model ",t.index+1,": "),Ir(2),Do(el(3,2,t.params))}}function gP(t,e){1&t&&Io(0),2&t&&jo(" Removed model ",io().$implicit.index+1," ")}function mP(t,e){if(1&t&&(Io(0," Changed "),Gs(1,"span",37),Io(2),Xs(),Io(3),Gs(4,"span",37),Io(5),tl(6,"json"),Xs()),2&t){const t=io().$implicit;Ir(2),Do(t.key),Ir(1),jo(" in model ",t.index+1,": "),Ir(2),Do(el(6,3,t.params))}}function yP(t,e){if(1&t&&(Gs(0,"li"),Vs(1,fP,4,4,"ng-template",36),Vs(2,gP,1,1,"ng-template",36),Vs(3,mP,7,5,"ng-template",36),Xs()),2&t){const t=e.$implicit;Ir(1),qs("ngIf","add"==t.type),Ir(1),qs("ngIf","remove"==t.type),Ir(1),qs("ngIf","change"==t.type)}}function vP(t,e){if(1&t&&(Gs(0,"ul",33,34),Vs(2,yP,4,3,"li",35),Xs()),2&t){const t=io(3);Ir(2),qs("ngForOf",t.project.getChangeHistory())}}function bP(t,e){if(1&t&&(Vs(0,pP,1,0,"ng-template",31),Vs(1,vP,3,1,"ng-template",null,32,kl)),2&t){const t=zs(2);qs("ngIf",!io(2).project)("ngIfElse",t)}}function wP(t,e){if(1&t){const t=Ks();Gs(0,"div",17),Gs(1,"div",18),Gs(2,"button",19),eo("click",(function(){return Ye(t),io().copyFooter()})),Ys(3,"i",20),Xs(),Gs(4,"button",21),eo("click",(function(){return Ye(t),io().toggleFooter(!1)})),Ys(5,"i",22),Xs(),Xs(),Gs(6,"ngb-tabset",23,24),Gs(8,"ngb-tab",25),Vs(9,hP,2,1,"ng-template",26),Vs(10,dP,1,1,"ng-template",27),Xs(),Gs(11,"ngb-tab",28),Vs(12,bP,3,2,"ng-template",27),Xs(),Xs(),Xs()}}let _P=(()=>{class t{constructor(t,e,n,r){this.modalService=t,this.plotOptions=e,this.palette=n,this.copyService=r,this.hoverDisabled=!1,this.disableDragCITarget=!1,this.disableDragCIBounds=!1,this.modelChanged=new sl,this.showFooter=!0,this.updatingPlots=!1}ngOnChanges(t){"project"in t&&(this.updatingSub&&(this.updatingSub.unsubscribe(),this.updatingSub=void 0),this.project?(this.linePlotHandler=this.project.getLinePlotHandler(),this.ciPlotHandler=this.project.getCIPlotHandler(),this.updatingSub=this.project.updatingPlotData.subscribe(t=>{this.updatingPlots=!0})):(this.linePlotHandler=void 0,this.ciPlotHandler=void 0))}toggleFooter(t){this.showFooter=t,setTimeout(this.resize.bind(this),1)}openSaveDialog(){let t=this.modalService.open(eP,{windowClass:"export-plots"}).componentInstance;t.project=this.project,t.topLeftLegendXOffset=this.topLeftPlot.legendXOffset,t.topLeftLegendYOffset=this.topLeftPlot.legendYOffset,t.topRightLegendXOffset=this.topRightPlot.legendXOffset,t.topRightLegendYOffset=this.topRightPlot.legendYOffset}resize(){this.redrawPlots()}redrawPlots(){this.updatingPlots=!1,setTimeout(()=>{this.topLeftPlot.redraw(),this.topRightPlot.redraw(),this.bottomPlot.redraw()},1)}getIndicatorColor(){return this.palette.getColor(this.project.getSelectedIndex(),this.plotOptions.paletteTheme)}copyFooter(){this.copySub=this.copyService.onCopy.subscribe(t=>{this.onCopy(t)}),document.execCommand("copy")}onCopy(t){switch(this.footerTabset.activeId){case"output-pane-interpretation":t.clipboardData.setData("text/plain",this.project.getModelInterpretation()),t.preventDefault();break;case"output-pane-log":t.clipboardData.setData("text/plain",this.logElt.nativeElement.innerText),t.preventDefault()}this.copySub.unsubscribe()}onModelChanged(){this.modelChanged.emit()}}return t.\u0275fac=function(e){return new(e||t)(Us(pw),Us(iE),Us(sE),Us(nP))},t.\u0275cmp=pe({type:t,selectors:[["app-output-pane"]],viewQuery:function(t,e){var n;1&t&&(yl(rP,!0),yl(iP,!0),yl(sP,!0),vl(oP,!0),vl(aP,!0)),2&t&&(ml(n=Cl())&&(e.topLeftPlot=n.first),ml(n=Cl())&&(e.topRightPlot=n.first),ml(n=Cl())&&(e.bottomPlot=n.first),ml(n=Cl())&&(e.footerTabset=n.first),ml(n=Cl())&&(e.logElt=n.first))},inputs:{project:"project",hoverDisabled:["hover-disabled","hoverDisabled"],disableDragCITarget:["disable-drag-ci-target","disableDragCITarget"],disableDragCIBounds:["disable-drag-ci-bounds","disableDragCIBounds"]},outputs:{modelChanged:"modelChanged"},features:[Wo],decls:10,vars:12,consts:[["id","output-pane-plots",1,"plot"],["id","output-pane-overlay",4,"ngIf"],["name","top-left",3,"handler","hover-disabled","modelChanged"],["topLeft",""],["name","top-right",3,"handler","hover-disabled","modelChanged"],["topRight",""],["name","bottom",3,"handler","disable-drag-target","disable-drag-ci","modelChanged"],["bottom",""],["class","show-footer",4,"ngIf"],["id","output-pane-footer","class","output-footer",4,"ngIf"],["id","output-pane-overlay"],[1,"aligner-top"],[1,"loader"],[1,"aligner-bottom"],[1,"show-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true","title","Show footer",1,"fa","fa-envelope-open-o"],["id","output-pane-footer",1,"output-footer"],[1,"footer-buttons"],["type","button","title","Copy to clipboard",3,"click"],[1,"fa","fa-clipboard"],["type","button","title","Hide footer",3,"click"],[1,"fa","fa-window-minimize"],["type","pills"],["footerTabset",""],["id","output-pane-interpretation"],["ngbTabTitle",""],["ngbTabContent",""],["id","output-pane-log","title","Log"],["class","fa fa-square",3,"color",4,"ngIf"],[1,"fa","fa-square"],[3,"ngIf","ngIfElse"],["changeHistory",""],[1,"log"],["log",""],[4,"ngFor","ngForOf"],[3,"ngIf"],[1,"code"]],template:function(t,e){1&t&&(Gs(0,"div",0),Vs(1,lP,4,1,"div",1),Gs(2,"app-line-plot",2,3),eo("modelChanged",(function(){return e.onModelChanged()})),Xs(),Gs(4,"app-line-plot",4,5),eo("modelChanged",(function(){return e.onModelChanged()})),Xs(),Gs(6,"app-ci-plot",6,7),eo("modelChanged",(function(){return e.onModelChanged()})),Xs(),Vs(8,cP,4,0,"div",8),Xs(),Vs(9,wP,13,0,"div",9)),2&t&&(wo("without-footer",!e.showFooter),Ir(1),qs("ngIf",e.updatingPlots),Ir(1),qs("handler",e.linePlotHandler)("hover-disabled",e.hoverDisabled),Ir(2),qs("handler",e.linePlotHandler)("hover-disabled",e.hoverDisabled),Ir(2),qs("handler",e.ciPlotHandler)("disable-drag-target",e.disableDragCITarget)("disable-drag-ci",e.disableDragCIBounds),Ir(2),qs("ngIf",e.project&&!e.showFooter),Ir(1),qs("ngIf",e.project&&e.showFooter))},directives:[Tu,CE,DE,Ow,Aw,Pw,Rw,Su],pipes:[Au],styles:["[_nghost-%COMP%]{position:relative}#output-pane-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:-15px;right:0;background-color:#fff;z-index:99;opacity:.7;display:flex;align-items:center;justify-content:center}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-top[_ngcontent-%COMP%]{max-width:50%;align-self:flex-start}#output-pane-overlay[_ngcontent-%COMP%]   .alinger-bottom[_ngcontent-%COMP%]{max-width:50%;align-self:flex-end}#output-pane-overlay[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top-color:#00d;border-radius:50%;width:120px;height:120px;-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.plot[_ngcontent-%COMP%]{height:80%;position:relative}.without-footer[_ngcontent-%COMP%]{height:100%}div.show-footer[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px}.output-footer[_ngcontent-%COMP%]{position:relative;background-color:#e5e5e5;border:1px solid #aaa;border-radius:5px;margin-top:5px;margin-bottom:5px}.footer-buttons[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}.footer-buttons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 3px}.dot[_ngcontent-%COMP%]{color:red}"],data:{animation:[uh("overlay",[gh(":enter",[ph({opacity:0}),hh("1s 0.8s",ph({opacity:.7}))]),gh(":leave",[hh("0.5s",ph({opacity:0}))])])]}}),t})(),xP="bfce8cdd03ef9614ff580cda49d7f1199c45d24f";function CP(t,e){1&t&&(Gs(0,"h5"),Io(1,"Introduction"),Xs(),Gs(2,"p"),Io(3," PS is a program for performing power and sample size calculations. You are using a web-enabled beta-test version of the program, where we are actively working on the interactive user interface. Currently, it can only be used for t-tests, z-tests and tests with dichotomous outcomes. It will be expanded for use in studies with survival response and other data. "),Xs(),Gs(4,"h5"),Io(5,"Program Output"),Xs(),Gs(6,"p"),Io(7," The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. It also gives the 95% confidence interval for the test statistic under the specified alternative hypothesis as a measure of the precision of the test statistic. "),Xs(),Gs(8,"h5"),Io(9,"Interactive Help"),Xs(),Gs(10,"p"),Io(11," Click on any question-mark icon or white i in a black circle for help to determine the needed information. In the "),Gs(12,"em"),Io(13,"Start"),Xs(),Io(14," tab, choose one of sample size, power, or detectable difference and then complete the other fields that appear. Hover over the i icon for information on what is needed in each field. Then click the "),Gs(15,"em"),Io(16,"Calculate"),Xs(),Io(17," button. A new tab will appear with sliders for altering the input variables, the desired output variable and various graphs. Alternately, choose an example from the upper-right pull-down menu for a pre-populated example and click on "),Gs(18,"em"),Io(19,"Calculate"),Xs(),Io(20,". "),Xs(),Gs(21,"h5"),Io(22,"Graphical Output"),Xs(),Gs(23,"p"),Io(24," The graphs that can be generated are sample size vs. power, sample size vs. the detectable alternative hypothesis, power vs. sample size, and power vs. the detectable alternative hypothesis. The y-axes of these graphs are always show the output variable. In addition, a graph of precision vs effect size is always given. The red dot on the top two graphs can be dragged to enhance the user\u2019s intuition on how the input and output variables interact. The dot giving the effect size in the lower panel many also be dragged, as can the vertical bars indicating the limits of the 95% confidence interval when the output is not sample size. "),Xs(),Gs(25,"h5"),Io(26,"Add Line"),Xs(),Gs(27,"p"),Io(28,"Clicking on "),Gs(29,"em"),Io(30,"Add line"),Xs(),Io(31," overlays a new set of graphs on top of the old ones. This new graph can then be modified to permit multiple graphs on each plot. A legend is automatically generated. The names of the curves can be modified by changing the Name field near the top of the dialog box. Clicking on the left-most tab (blue by default) gives access to the initial plot whose legend name may also be modified. The legend itself can be dragged to a suitable position on each graph. "),Xs(),Gs(32,"h5"),Io(33,"Options gear wheel"),Xs(),Gs(34,"p"),Io(35," Click on this icon to change the point size, line width and other graph options. "),Xs(),Gs(36,"h5"),Io(37,"Save icon"),Xs(),Gs(38,"p"),Io(39,"Click on this icon to save graphs in one of several formats. Graphs in WMF format can be readily imported into Microsoft PowerPoint for further editing."),Xs(),Gs(40,"h5"),Io(41,"Cube icon"),Xs(),Gs(42,"p"),Io(43,"By default, hovering over a line on a graph will give you the values of the x- and y-axes at the point where you are hovering. Clicking on the "),Gs(44,"em"),Io(45,"Cube"),Xs(),Io(46," icon toggles this feature on or off."),Xs(),Gs(47,"h5"),Io(48,"Interpretation"),Xs(),Gs(49,"p"),Io(50,"The output also includes text that describes the power or sample size calculation in English, which may be a useful starting point for a description in a grant application."),Xs(),Gs(51,"h5"),Io(52,"Log"),Xs(),Gs(53,"p"),Io(54,"A terse description of the calculations performed is abailable by clicking on "),Gs(55,"em"),Io(56,"Log"),Xs(),Io(57," in the gray box. The log file may then be cut and pasted into other editors."),Xs(),Gs(58,"p"),Ys(59,"img",1),Io(60," \xa9 William D. Dupont, Jeffrey D. Blume, W. Dale Plummer, Jeremy Stephens 2017-2018 "),Xs(),Gs(61,"p"),Io(62," Use of this program is restricted by a Creative Commons Attribution Non-Commercial Share Alike license. See "),Gs(63,"a",2),Io(64,"https://creativecommons.org/licenses"),Xs(),Io(65," for details. We are grateful for support from Dr. Gordon R. Bernard and the Vanderbilt Institute for Clinical and Translational Research. "),Xs())}function SP(t,e){1&t&&(Gs(0,"p"),Io(1,"Select one of the following:"),Xs(),Gs(2,"h5"),Io(3,"Sample size"),Xs(),Gs(4,"p"),Io(5," For independent t-tests this is the number of experimental patients that must be studied to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3 and "),Gs(6,"em"),Io(7,"m"),Xs(),Io(8," controls per experimental patient. For paired t-tests it is the number of pairs of patients needed to detect a true difference in population means \u03b4 with Type I error probability \u03b1 given a standard deviation \u03c3. "),Xs(),Gs(9,"h5"),Io(10,"Power"),Xs(),Gs(11,"p"),Io(12," For independent studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 and a control/experimental patient ratio "),Gs(13,"em"),Io(14,"m"),Xs(),Io(15," when the true difference in population means is \u03b4. For paired studies it is the probability of rejecting the null hypothesis with Type I error probability \u03b1 given the specified sample size, a standard deviation \u03c3 when the true difference in population means is \u03b4. "),Xs(),Gs(16,"h5"),Io(17,"Detectable alternative"),Xs(),Gs(18,"p"),Io(19," A difference in population means that can be detected with the specified power and Type I error probability \u03b1 given a standard deviation \u03c3, and the specified sample size. "),Xs())}function MP(t,e){1&t&&(Gs(0,"p"),Io(1,"Select one of the following:"),Xs(),Gs(2,"h5"),Io(3,"Sample size"),Xs(),Gs(4,"p"),Io(5," The sample size needed to detect a specific alternative hypothesis with a specified power and Type I error probability \u03b1. "),Xs(),Gs(6,"h5"),Io(7,"Power"),Xs(),Gs(8,"p"),Io(9," The power with which a given sample size can detect a specific alternative hypothesis with a specific Type I error probability \u03b1. "),Xs(),Gs(10,"h5"),Io(11,"Detectable alternative"),Xs(),Gs(12,"p"),Io(13," The alternative hypothesis that can be detected with a specified level of power given a specified sample size and Type I error probability \u03b1. "),Xs())}let TP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-help"]],inputs:{topic:"topic"},decls:3,vars:3,consts:[[3,"ngIf"],["src","assets/cc.png"],["href","https://creativecommons.org/licenses"]],template:function(t,e){1&t&&(Vs(0,CP,66,0,"ng-template",0),Vs(1,SP,20,0,"ng-template",0),Vs(2,MP,14,0,"ng-template",0)),2&t&&(qs("ngIf","overview"==e.topic),Ir(1),qs("ngIf","t-test-start"==e.topic||"z-test-start"==e.topic),Ir(1),qs("ngIf","dichot-start"==e.topic))},directives:[Tu],styles:["h5[_ngcontent-%COMP%]{font-weight:700}"]}),t})();function kP(t,e=hb){return n=>n.lift(new EP(t,e))}class EP{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new PP(t,this.dueTime,this.scheduler))}}class PP extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(RP,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function RP(t){t.debouncedNext()}const AP=["errorPopover"],OP=["number"],IP=["range"];function DP(t,e){}function jP(t,e){1&t&&Vs(0,DP,0,0,"ng-template",15),2&t&&qs("ngTemplateOutlet",io().labelTpl)}function NP(t,e){1&t&&(Gs(0,"span"),Io(1,"(Computed value) "),Xs())}function FP(t,e){}function LP(t,e){1&t&&Vs(0,FP,0,0,"ng-template",15),2&t&&qs("ngTemplateOutlet",io(4).helpTpl)}function $P(t,e){if(1&t&&(Ys(0,"i",21),Vs(1,LP,1,1,"ng-template",null,22,kl)),2&t){const t=zs(2);lo("popoverTitle",io(3).label),qs("ngbPopover",t)}}function VP(t,e){1&t&&Ys(0,"i",23)}function zP(t,e){if(1&t&&(Gs(0,"div",17),Io(1),Vs(2,NP,2,0,"span",18),Vs(3,$P,3,2,"ng-template",19),Vs(4,VP,1,0,"i",20),Xs()),2&t){const t=io(2);Ir(1),jo(" ",t.label," "),Ir(1),qs("ngIf",t.isOutput),Ir(1),qs("ngIf",t.helpTpl),Ir(1),qs("ngIf",t.showDot)}}function UP(t,e){1&t&&Vs(0,zP,5,4,"div",16),2&t&&qs("ngIf",io().label)}function HP(t,e){if(1&t&&(Gs(0,"span",24),Io(1),Xs(),Ys(2,"br"),Io(3)),2&t){const t=io();Ir(1),No("Value is out of range (",t.hardMin,", ",t.hardMax,")."),Ir(2),jo(" Current value: ",t.value," ")}}let BP=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Us(Ra))},t.\u0275dir=be({type:t,selectors:[["ng-template","rsLabel",""]]}),t})(),qP=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Us(Ra))},t.\u0275dir=be({type:t,selectors:[["ng-template","rsHelp",""]]}),t})(),WP=(()=>{class t{constructor(){this.step=.01,this.isOutput=!1,this.showDot=!1,this.hasError=!1,this.inputSubject=new M,this.dirty=!1}ngOnInit(){this.inputSubject.pipe(kP(800),$p(t=>this.dirty)).subscribe(t=>{this.trySetValue(t)})}ngAfterContentInit(){!this.helpTpl&&this.rsHelpTpl&&(this.helpTpl=this.rsHelpTpl.templateRef),!this.labelTpl&&this.rsLabelTpl&&(this.labelTpl=this.rsLabelTpl.templateRef)}ngOnChanges(t){if("isOutput"in t){let e=t.isOutput;!0===e.previousValue&&!1===e.currentValue?(this.value<this.hardMin||this.value>this.hardMax)&&(this.hasError=!0,this.errorPopover.open()):!1===e.previousValue&&!0===e.currentValue&&(this.hasError=!1,this.errorPopover.close())}}floor(t){return Math.floor(t)}ceil(t){return Math.ceil(t)}round(t,e=1){let n=Math.pow(10,e);return t*=n,(t=Math.round(t))/n}writeValue(t){this.value=t}registerOnChange(t){this.changeCallback=t}registerOnTouched(t){}setDisabledState(t){}rangeChanged(t){this.trySetValue(t)}rangeInput(t){this.dirty=!0,this.numberElement.nativeElement.value=t,this.inputSubject.next(t)}numberChanged(t){this.dirty&&this.trySetValue(t)}numberInput(t){this.dirty=!0,this.rangeElement.nativeElement.value=t,this.inputSubject.next(t)}blurred(){this.hasError&&(this.numberElement.nativeElement.value=this.value,this.hasError=!1,this.errorPopover.close())}trySetValue(t){let e=parseFloat(t);e<this.hardMin||e>this.hardMax?(this.hasError=!0,this.errorPopover.open()):(this.hasError=!1,this.errorPopover.close(),this.value=e,this.propagateChange()),this.dirty=!1}propagateChange(){this.changeCallback&&this.changeCallback(this.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-range-slider"]],contentQueries:function(t,e,n){var r;1&t&&(_l(n,BP,!0),_l(n,qP,!0)),2&t&&(ml(r=Cl())&&(e.rsLabelTpl=r.first),ml(r=Cl())&&(e.rsHelpTpl=r.first))},viewQuery:function(t,e){var n;1&t&&(yl(AP,!0),yl(OP,!0),yl(IP,!0)),2&t&&(ml(n=Cl())&&(e.errorPopover=n.first),ml(n=Cl())&&(e.numberElement=n.first),ml(n=Cl())&&(e.rangeElement=n.first))},inputs:{label:"label",name:"name",min:"min",max:"max",step:"step",hardMin:["hard-min","hardMin"],hardMax:["hard-max","hardMax"],isOutput:["is-output","isOutput"],helpTpl:["help-tpl","helpTpl"],labelTpl:["label-tpl","labelTpl"],showDot:["show-dot","showDot"]},features:[na([{provide:By,useExisting:St(()=>t),multi:!0}]),Wo],decls:20,vars:19,consts:[[1,"slider-group"],[3,"ngIf","ngIfElse"],["standardLabel",""],[1,"inputs","row"],[1,"col-sm-9"],[1,"slider"],[1,"min"],["type","range",3,"name","step","min","max","value","disabled","change","input"],["range",""],[1,"max"],[1,"col-sm-3"],[1,"number"],["type","number","triggers","manual","container","body",3,"name","step","min","max","value","disabled","ngbPopover","change","input","blur"],["number","","errorPopover","ngbPopover"],["errorMsg",""],[3,"ngTemplateOutlet"],["class","label",4,"ngIf"],[1,"label"],[4,"ngIf"],[3,"ngIf"],["class","fa fa-circle dot",4,"ngIf"],["aria-hidden","true","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover","popoverTitle"],["rsHelp",""],[1,"fa","fa-circle","dot"],[1,"error"]],template:function(t,e){if(1&t){const t=Ks();Gs(0,"div",0),Vs(1,jP,1,1,"ng-template",1),Vs(2,UP,1,1,"ng-template",null,2,kl),Gs(4,"div",3),Gs(5,"div",4),Gs(6,"div",5),Gs(7,"div",6),Io(8),Xs(),Gs(9,"input",7,8),eo("change",(function(){Ye(t);const n=zs(10);return e.rangeChanged(n.value)}))("input",(function(){Ye(t);const n=zs(10);return e.rangeInput(n.value)})),Xs(),Gs(11,"div",9),Io(12),Xs(),Xs(),Xs(),Gs(13,"div",10),Gs(14,"div",11),Gs(15,"input",12,13),eo("change",(function(){Ye(t);const n=zs(16);return e.numberChanged(n.value)}))("input",(function(){Ye(t);const n=zs(16);return e.numberInput(n.value)}))("blur",(function(){return e.blurred()})),Xs(),Vs(18,HP,4,3,"ng-template",null,14,kl),Xs(),Xs(),Xs(),Xs()}if(2&t){const t=zs(3),n=zs(19);Ir(1),qs("ngIf",e.labelTpl)("ngIfElse",t),Ir(7),Do(e.round(e.min)),Ir(1),lo("name",e.name),lo("step",e.step),lo("min",e.min),lo("max",e.max),qs("value",e.value)("disabled",e.isOutput),Ir(3),Do(e.round(e.max)),Ir(3),wo("error",e.hasError),lo("name",e.name),lo("step",e.step),qs("min",e.hardMin)("max",e.hardMax)("value",e.value)("disabled",e.isOutput)("ngbPopover",n)}},directives:[Tu,Cw,Pu],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:row}div.slider-group[_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:column;padding:5px;border-radius:5px}div.slider-group[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}div.slider-group[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{padding-top:2ex}div.slider-group[_ngcontent-%COMP%]   .add-remove[_ngcontent-%COMP%]{padding-top:2.3ex}div.slider-group[_ngcontent-%COMP%]   div.inputs[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]{position:relative;padding-left:0;padding-right:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{position:absolute;font-size:x-small;top:0;background-color:#ddd;border-radius:1ex;padding:.5ex}div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%], div.slider-group.output[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{background-color:#ccc}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.min[_ngcontent-%COMP%]{left:0}div.slider-group[_ngcontent-%COMP%]   div.slider[_ngcontent-%COMP%]   div.max[_ngcontent-%COMP%]{right:0}.fa[_ngcontent-%COMP%]{opacity:.7}.dot[_ngcontent-%COMP%], .fa[_ngcontent-%COMP%]:hover{opacity:1}.dot[_ngcontent-%COMP%]{color:red}.palette-color[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{opacity:1}span.error[_ngcontent-%COMP%]{color:red}input.error[_ngcontent-%COMP%]{border:2px solid red;color:red}"]}),t})(),GP=(()=>{class t{transform(t,e=2){let n=Math.pow(10,e);return Math.round(t*n)/n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"round",type:t,pure:!0}),t})();function XP(t,e){1&t&&Io(0," The number of points to use when drawing plots. More is slower. The number of points to use by default is calculated based on host speed. ")}function YP(t,e){if(1&t){const t=Ks();Gs(0,"div",41),Gs(1,"label",42),Gs(2,"input",48,70),eo("change",(function(){Ye(t);const e=zs(3);return io(2).setProjectAttribute("fixedPSpace",e.checked)})),Xs(),Io(4," Fixed parameter space "),Xs(),Xs()}if(2&t){const t=io(2);Ir(2),qs("checked",t.fixedPSpace===t.FixedPSpace.Fixed)}}function QP(t,e){if(1&t){const t=Ks();Gs(0,"input",60,71),eo("change",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topYRange","min",e.value)}))("input",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topYRange","min",e.value,!0)})),tl(2,"round"),tl(3,"round"),Xs()}if(2&t){const t=io(2);qs("disabled",!t.customRanges)("max",el(2,3,t.topYRange.max-.01))("value",el(3,5,t.topYRange.min))}}function ZP(t,e){if(1&t){const t=Ks();Gs(0,"input",63,72),eo("change",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topYRange","max",e.value)}))("input",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topYRange","max",e.value,!0)})),tl(2,"round"),tl(3,"round"),Xs()}if(2&t){const t=io(2);qs("disabled",!t.customRanges)("min",el(2,3,t.topYRange.min+.01))("value",el(3,5,t.topYRange.max))}}function KP(t,e){if(1&t){const t=Ks();Gs(0,"input",60,73),eo("change",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topLeftXRange","min",e.value)}))("input",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topLeftXRange","min",e.value,!0)})),tl(2,"round"),tl(3,"round"),Xs()}if(2&t){const t=io(2);qs("disabled",!t.customRanges)("max",el(2,3,t.topLeftXRange.max-.01))("value",el(3,5,t.topLeftXRange.min))}}function JP(t,e){if(1&t){const t=Ks();Gs(0,"input",63,74),eo("change",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topLeftXRange","max",e.value)}))("input",(function(){Ye(t);const e=zs(1);return io(2).setProjectRange("topLeftXRange","max",e.value,!0)})),tl(2,"round"),tl(3,"round"),Xs()}if(2&t){const t=io(2);qs("disabled",!t.customRanges)("min",el(2,3,t.topLeftXRange.min+.01))("value",el(3,5,t.topLeftXRange.max))}}function tR(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"fieldset"),Gs(2,"legend"),Io(3,"Global"),Xs(),Gs(4,"div",2),Gs(5,"label",3),Io(6,"Font family"),Xs(),Gs(7,"select",4,5),eo("change",(function(){Ye(t);const e=zs(8);return io().changeAttribute("fontFamily",e.value)})),Gs(9,"option",6),Io(10,"Default"),Xs(),Gs(11,"option",7),Io(12,"Serif"),Xs(),Gs(13,"option",8),Io(14,"Sans-serif"),Xs(),Gs(15,"option",9),Io(16,"Monospace"),Xs(),Gs(17,"option"),Io(18,"Bungee Shade"),Xs(),Gs(19,"option"),Io(20,"Sancreek"),Xs(),Xs(),Xs(),Gs(21,"div",2),Gs(22,"label",10),Io(23,"Color palette"),Xs(),Gs(24,"select",11,12),eo("change",(function(){Ye(t);const e=zs(25);return io().changeAttribute("paletteTheme",e.value)})),Gs(26,"option",13),Io(27,"Default"),Xs(),Gs(28,"option",14),Io(29,"Plasma"),Xs(),Gs(30,"option",15),Io(31,"Viridis"),Xs(),Gs(32,"option",16),Io(33,"Magma"),Xs(),Gs(34,"option",17),Io(35,"Pattern"),Xs(),Xs(),Xs(),Gs(36,"div",18),Gs(37,"div",19),Gs(38,"label",20),Io(39),Xs(),Gs(40,"div",21),Gs(41,"input",22,23),eo("change",(function(){Ye(t);const e=zs(42);return io().changeNumberAttribute("fontSize",e.value)}))("input",(function(){Ye(t);const e=zs(42);return io().changeNumberAttribute("fontSize",e.value)})),Xs(),Xs(),Xs(),Gs(43,"div",19),Gs(44,"label",24),Io(45),Xs(),Gs(46,"div",21),Gs(47,"input",25,26),eo("change",(function(){Ye(t);const e=zs(48);return io().changeNumberAttribute("axisFontSize",e.value)}))("input",(function(){Ye(t);const e=zs(48);return io().changeNumberAttribute("axisFontSize",e.value)})),Xs(),Xs(),Xs(),Xs(),Gs(49,"div",18),Gs(50,"div",19),Gs(51,"label",27),Io(52),Xs(),Gs(53,"div",21),Gs(54,"input",28,29),eo("change",(function(){Ye(t);const e=zs(55);return io().changeNumberAttribute("lineWidth",e.value)}))("input",(function(){Ye(t);const e=zs(55);return io().changeNumberAttribute("lineWidth",e.value)})),Xs(),Xs(),Xs(),Gs(56,"div",19),Gs(57,"label",30),Io(58),Xs(),Gs(59,"div",21),Gs(60,"input",31,32),eo("change",(function(){Ye(t);const e=zs(61);return io().changeNumberAttribute("axisLineWidth",e.value)}))("input",(function(){Ye(t);const e=zs(61);return io().changeNumberAttribute("axisLineWidth",e.value)})),Xs(),Xs(),Xs(),Xs(),Gs(62,"div",2),Gs(63,"label",33),Io(64,"Line style"),Xs(),Gs(65,"select",34,35),eo("change",(function(){Ye(t);const e=zs(66);return io().changeAttribute("lineStyle",e.value)})),Gs(67,"option",36),Io(68,"Solid"),Xs(),Gs(69,"option",37),Io(70,"Short Dash"),Xs(),Gs(71,"option",38),Io(72,"Medium Dash"),Xs(),Gs(73,"option",39),Io(74,"Long Dash"),Xs(),Gs(75,"option",40),Io(76,"Dotted"),Xs(),Xs(),Xs(),Gs(77,"div",41),Gs(78,"label",42),Gs(79,"input",43,44),eo("change",(function(){Ye(t);const e=zs(80);return io().changeAttribute("showLegendBox",e.checked)}))("input",(function(){Ye(t);const e=zs(80);return io().changeAttribute("showLegendBox",e.checked)})),Xs(),Io(81," Display legend background "),Xs(),Xs(),Xs(),Gs(82,"fieldset"),Gs(83,"legend"),Io(84,"Project"),Xs(),Gs(85,"app-range-slider",45),eo("ngModelChange",(function(e){return Ye(t),io().setProjectAttribute("pointsPerPlot",e)})),Vs(86,XP,1,0,"ng-template",46),Xs(),Vs(87,YP,5,1,"div",47),Gs(88,"div",41),Gs(89,"label",42),Gs(90,"input",48,49),eo("change",(function(){Ye(t);const e=zs(91);return io().setProjectAttribute("customRanges",e.checked)})),Xs(),Io(92," Custom plot ranges "),Xs(),Xs(),Gs(93,"div",50),Gs(94,"h4"),Io(95),Xs(),Gs(96,"div",51),Gs(97,"div",52),Gs(98,"label",53),Io(99,"Minimum"),Xs(),Gs(100,"div",21),Vs(101,QP,4,7,"input",54),Xs(),Xs(),Gs(102,"div",52),Gs(103,"label",55),Io(104,"Maximum"),Xs(),Gs(105,"div",21),Vs(106,ZP,4,7,"input",56),Xs(),Xs(),Xs(),Gs(107,"h4"),Io(108),Xs(),Gs(109,"div",51),Gs(110,"div",52),Gs(111,"label",57),Io(112,"X minimum"),Xs(),Gs(113,"div",21),Vs(114,KP,4,7,"input",54),Xs(),Xs(),Gs(115,"div",52),Gs(116,"label",58),Io(117,"X maximum"),Xs(),Gs(118,"div",21),Vs(119,JP,4,7,"input",56),Xs(),Xs(),Xs(),Gs(120,"h4"),Io(121),Xs(),Gs(122,"div",51),Gs(123,"div",52),Gs(124,"label",59),Io(125,"X minimum"),Xs(),Gs(126,"div",21),Gs(127,"input",60,61),eo("change",(function(){Ye(t);const e=zs(128);return io().setProjectRange("topRightXRange","min",e.value)}))("input",(function(){Ye(t);const e=zs(128);return io().setProjectRange("topRightXRange","min",e.value,!0)})),tl(129,"round"),tl(130,"round"),Xs(),Xs(),Xs(),Gs(131,"div",52),Gs(132,"label",62),Io(133,"X maximum"),Xs(),Gs(134,"div",21),Gs(135,"input",63,64),eo("change",(function(){Ye(t);const e=zs(136);return io().setProjectRange("topRightXRange","max",e.value)}))("input",(function(){Ye(t);const e=zs(136);return io().setProjectRange("topRightXRange","max",e.value,!0)})),tl(137,"round"),tl(138,"round"),Xs(),Xs(),Xs(),Xs(),Gs(139,"h4"),Io(140),Xs(),Gs(141,"div",18),Gs(142,"div",52),Gs(143,"label",65),Io(144,"X minimum"),Xs(),Gs(145,"div",21),Gs(146,"input",60,66),eo("change",(function(){Ye(t);const e=zs(147);return io().setProjectRange("bottomXRange","min",e.value)}))("input",(function(){Ye(t);const e=zs(147);return io().setProjectRange("bottomXRange","min",e.value,!0)})),tl(148,"round"),tl(149,"round"),Xs(),Xs(),Xs(),Gs(150,"div",52),Gs(151,"label",67),Io(152,"X maximum"),Xs(),Gs(153,"div",21),Gs(154,"input",63,68),eo("change",(function(){Ye(t);const e=zs(155);return io().setProjectRange("bottomXRange","max",e.value)}))("input",(function(){Ye(t);const e=zs(155);return io().setProjectRange("bottomXRange","max",e.value,!0)})),tl(156,"round"),tl(157,"round"),Xs(),Xs(),Xs(),Xs(),Xs(),Xs(),Gs(158,"button",69),eo("click",(function(){return Ye(t),io().doReset()})),Io(159," Reset all settings "),Xs(),Xs()}if(2&t){const t=io();Ir(7),qs("value",t.plotOptions.fontFamily),Ir(17),qs("value",t.plotOptions.paletteTheme),Ir(15),jo("Font size: ",t.plotOptions.fontSize,""),Ir(2),qs("value",t.plotOptions.fontSize),Ir(4),jo("Axis font size: ",t.plotOptions.axisFontSize,""),Ir(2),qs("value",t.plotOptions.axisFontSize),Ir(5),jo("Line width: ",t.plotOptions.lineWidth,""),Ir(2),qs("value",t.plotOptions.lineWidth),Ir(4),jo("Axis line width: ",t.plotOptions.axisLineWidth,""),Ir(2),qs("value",t.plotOptions.axisLineWidth),Ir(5),qs("value",t.plotOptions.lineStyle),Ir(14),qs("checked",t.plotOptions.showLegendBox),Ir(6),qs("min",50)("max",200)("hard-min",50)("hard-max",200)("step",1)("ngModel",t.pointsPerPlot),Ir(2),qs("ngIf",t.fixedPSpace!==t.FixedPSpace.NA),Ir(3),qs("checked",t.customRanges),Ir(3),wo("disabled",!t.customRanges),Ir(2),Do(t.topYRange.description),Ir(6),qs("ngIf",t.topYRange),Ir(5),qs("ngIf",t.topYRange),Ir(2),Do(t.topLeftXRange.description),Ir(6),qs("ngIf",t.topLeftXRange),Ir(5),qs("ngIf",t.topLeftXRange),Ir(2),Do(t.topRightXRange.description),Ir(6),qs("disabled",!t.customRanges)("max",el(129,42,t.topRightXRange.max-1))("value",el(130,44,t.topRightXRange.min)),Ir(8),qs("disabled",!t.customRanges)("min",el(137,46,t.topRightXRange.min-1))("value",el(138,48,t.topRightXRange.max)),Ir(5),Do(t.bottomXRange.description),Ir(6),qs("disabled",!t.customRanges)("max",el(148,50,t.bottomXRange.max-1))("value",el(149,52,t.bottomXRange.min)),Ir(8),qs("disabled",!t.customRanges)("min",el(156,54,t.bottomXRange.min+1))("value",el(157,56,t.bottomXRange.max))}}var eR=function(t){return t.pointsPerPlot="pointsPerPlot",t.fixedPSpace="fixedPSpace",t.customRanges="customRanges",t.topYRange="topYRange",t.topLeftXRange="topLeftXRange",t.topRightXRange="topRightXRange",t.bottomXRange="bottomXRange",t}({}),nR=function(t){return t.min="min",t.max="max",t}({});let rR=(()=>{class t{constructor(t){this.plotOptions=t,this.optionChanged=new sl,this.projectChanged=new sl,this.reset=new sl,this.FixedPSpace=Qw,this.projectChangedDelay=new M,this.projectChangedImmediate=new M}ngOnInit(){this.rangeSub=G(this.projectChangedDelay.pipe(kP(400)),this.projectChangedImmediate).subscribe(t=>{switch(t){case eR.pointsPerPlot:this.project.setPointsPerPlot(this.pointsPerPlot);break;case eR.fixedPSpace:this.project.setFixedPSpace(this.fixedPSpace);break;case eR.customRanges:this.project.setCustomRanges(this.customRanges);break;case eR.topYRange:this.project.setTopYRange(this.topYRange);break;case eR.topLeftXRange:this.project.setTopLeftXRange(this.topLeftXRange);break;case eR.topRightXRange:this.project.setTopRightXRange(this.topRightXRange);break;case eR.bottomXRange:this.project.setBottomXRange(this.bottomXRange)}this.project.updatePlotData().subscribe(()=>{this.projectChanged.emit()})})}ngOnChanges(t){"project"in t&&(this.project?(this.pointsPerPlot=this.project.getPointsPerPlot(),this.fixedPSpace=this.project.getFixedPSpace(),this.customRanges=this.project.getCustomRanges(),this.getRanges()):(this.pointsPerPlot=void 0,this.customRanges=void 0,this.topYRange=void 0,this.topLeftXRange=void 0,this.topRightXRange=void 0,this.bottomXRange=void 0))}doReset(){this.plotOptions.reset(),this.project.resetRanges(),this.getRanges(),this.project.updatePlotData().subscribe(()=>{this.reset.emit()})}changeAttribute(t,e){this.plotOptions[t]!==e&&(this.plotOptions[t]=e,this.optionChanged.emit())}changeNumberAttribute(t,e){let n=parseFloat(e);isNaN(n)||this.changeAttribute(t,n)}setProjectAttribute(t,e){switch(t){case eR.pointsPerPlot:this.pointsPerPlot=e;break;case eR.fixedPSpace:this.fixedPSpace=e?Qw.Fixed:Qw.NotFixed;break;case eR.customRanges:this.customRanges=e}this.projectChangedImmediate.next(t)}setProjectRange(t,e,n,r=!1){let i=parseFloat(n);if(isNaN(i))return;let s,o=t,a=e;switch(o){case eR.topYRange:s=this.topYRange;break;case eR.topLeftXRange:s=this.topLeftXRange;break;case eR.topRightXRange:s=this.topRightXRange;break;case eR.bottomXRange:s=this.bottomXRange}a==nR.min?s.min=i:a==nR.max&&(s.max=i),r?this.projectChangedDelay.next(o):this.projectChangedImmediate.next(o)}getRanges(){this.topYRange=this.project.getTopYRange(),this.topLeftXRange=this.project.getTopLeftXRange(),this.topRightXRange=this.project.getTopRightXRange(),this.bottomXRange=this.project.getBottomXRange()}}return t.\u0275fac=function(e){return new(e||t)(Us(iE))},t.\u0275cmp=pe({type:t,selectors:[["app-plot-options"]],inputs:{project:"project"},outputs:{optionChanged:"optionChanged",projectChanged:"projectChanged",reset:"reset"},features:[Wo],decls:1,vars:1,consts:[["class","content",4,"ngIf"],[1,"content"],[1,"form-group"],["for","plot-font-family"],["id","plot-font-family",1,"form-control",3,"value","change"],["fontFamily",""],["value",""],["value","serif"],["value","sans"],["value","monospace"],["for","plot-palette-theme"],["id","plot-palette-theme",1,"form-control",3,"value","change"],["paletteTheme",""],["value","typical"],["value","plasma"],["value","viridis"],["value","magma"],["value","pattern"],[1,"row"],[1,"col-sm-6"],["for","plot-font-size"],[1,"input-group"],["id","plot-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["fontSize",""],["for","plot-axis-font-size"],["id","plot-axis-font-size","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisFontSize",""],["for","plot-line-width"],["id","plot-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["lineWidth",""],["for","plot-axis-line-width"],["id","plot-axis-line-width","type","range","min","0.1","max","2","step","0.1",1,"form-control",3,"value","change","input"],["axisLineWidth",""],["for","plot-line-style"],["id","plot-line-style",1,"form-control",3,"value","change"],["lineStyle",""],["value","solid"],["value","short-dash"],["value","medium-dash"],["value","long-dash"],["value","dot"],[1,"form-check"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"checked","change","input"],["showLegendBox",""],["name","projectPointsPerPlot","label","Points per plot",3,"min","max","hard-min","hard-max","step","ngModel","ngModelChange"],["rsHelp",""],["class","form-check",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["customRangesBox",""],[1,"ranges"],[1,"row","mb-4"],[1,"col-sm"],["for","plot-top-y-min"],["class","form-control","type","number","step","0.01",3,"disabled","max","value","change","input",4,"ngIf"],["for","plot-top-y-max"],["class","form-control","type","number","step","0.01",3,"disabled","min","value","change","input",4,"ngIf"],["for","plot-top-left-x-min"],["for","plot-top-left-x-max"],["for","plot-top-right-x-min"],["type","number","step","0.01",1,"form-control",3,"disabled","max","value","change","input"],["topRightXRangeMin",""],["for","plot-top-right-x-max"],["type","number","step","0.01",1,"form-control",3,"disabled","min","value","change","input"],["topRightXRangeMax",""],["for","plot-bottom-x-min"],["bottomXRangeMin",""],["for","plot-bottom-x-max"],["bottomXRangeMax",""],["type","button",1,"btn","btn-primary",3,"click"],["fixedPSpaceBox",""],["topYRangeMin",""],["topYRangeMax",""],["topLeftXRangeMin",""],["topLeftXRangeMax",""]],template:function(t,e){1&t&&Vs(0,tR,160,58,"div",0),2&t&&qs("ngIf",e.plotOptions&&e.project)},directives:[Tu,Tv,Rv,WP,nv,eb,qP],pipes:[GP],styles:["fieldset[_ngcontent-%COMP%]{border:1px solid #bbb;border-radius:5px;padding:10px;margin:10px}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:table;width:auto}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:inherit;font-weight:700}h4[_ngcontent-%COMP%]{border-bottom:1px solid #bbb;margin:1em 0;padding-bottom:.2em}div.disabled[_ngcontent-%COMP%]{opacity:.5}.form-group[_ngcontent-%COMP%]{padding:0 5px}"]}),t})();const iR=["plotOptionsDialog"],sR=["helpDialog"],oR=["outputPane"];function aR(t,e){if(1&t&&(Gs(0,"li",9),Gs(1,"a",26),Io(2),Xs(),Xs()),2&t){const t=e.index,n=io();Ir(1),qs("routerLink",n.projectLink(t)),Ir(1),Do(n.tabTitle(t))}}function lR(t,e){if(1&t){const t=Ks();Gs(0,"div",27),Gs(1,"button",28),eo("click",(function(){return Ye(t),io().togglePlotOptions()})),Ys(2,"i",29),Xs(),Gs(3,"button",30),eo("click",(function(){return Ye(t),io().exportPlots()})),Ys(4,"i",31),Xs(),Gs(5,"button",32),eo("click",(function(){return Ye(t),io().toggleHoverBox()})),Ys(6,"i",33),Xs(),Xs(),Gs(7,"app-output-pane",34,35),eo("modelChanged",(function(){return Ye(t),io().redrawPlots()})),Xs()}if(2&t){const t=io();Ir(6),wo("fa-cubes",t.hoverBoxEnabled)("fa-cube",!t.hoverBoxEnabled),Ir(1),qs("project",t.selectedProject)("hover-disabled",!t.hoverBoxEnabled)("disable-drag-ci-target",null==t.selectedProject?null:t.selectedProject.isCITargetDraggable())("disable-drag-ci-bounds",null==t.selectedProject?null:t.selectedProject.isCIBoundsDraggable())}}const cR=function(){return{exact:!0}};let uR=(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this.projectService=n,this.resizeService=r,this.commitHash=xP.substr(0,7),this.buildTimestamp="2020-04-06T17:35:05-05:00",this.helpTitles={overview:"PS Overview","t-test-start":"PS Start Tab: T-Test","z-test-start":"PS Start Tab: Z-Test","dichot-start":"PS Start Tab: Dichotomous"},this.helpTopic="overview",this.showOutputPane=!1,this.hoverBoxEnabled=!0,this.blockSelection=!1,this.projects=[]}ngOnInit(){this.route.data.subscribe(t=>{this.projectType=t.type,this.projects=this.projectService.getProjects(this.projectType).slice()}),this.route.url.subscribe(t=>{this.urlRoot=t.map((t,e)=>0==e?`/${t.path}`:t.path)}),this.resizeService.onResize.subscribe(()=>{this.outputPane&&this.outputPane.resize()})}toggleHelp(t){if("start"==t)switch(this.projectType){case Hw.TTestPaired:case Hw.TTestIndependent:t="t-test-start";break;case Hw.ZTest:t="z-test-start";break;case Hw.Dichot:t="dichot-start"}this.helpDialog.isOpen()&&this.helpTopic==t?this.helpDialog.close():(this.helpTopic=t,this.helpDialog.open())}togglePlotOptions(){this.plotOptionsDialog.toggle()}exportPlots(){this.outputPane.openSaveDialog()}toggleHoverBox(){this.hoverBoxEnabled=!this.hoverBoxEnabled}tabTitle(t){let e="";switch(this.projectType){case Hw.TTestPaired:e+="Paired t-test ";break;case Hw.TTestIndependent:e+="Ind. t-test ";break;case Hw.ZTest:e+="z-test ";break;case Hw.Dichot:e+="Dichot "}return e+=" #"+(t+1).toString(),e}startLink(){return this.urlRoot}projectLink(t){return this.urlRoot.concat(`${t+1}`)}onActivate(t){if(t instanceof Bw){let e=t;this.calcSub=e.calculate.subscribe(t=>{this.projectService.addProject(this.projectType,t),this.projects.push(t),this.selectedProject=t,this.router.navigate([this.projects.length],{relativeTo:this.route})}),this.helpSub=e.toggleHelp.subscribe(()=>{this.toggleHelp("start")}),this.showOutputPane=!1}else if(t instanceof qw){let e=t;this.switchedSub=e.projectSwitched.subscribe(t=>{this.selectedProject=t}),this.changedSub=e.projectChanged.subscribe(()=>{this.redrawPlots()}),this.showOutputPane=!0}}onDeactivate(){this.calcSub&&(this.calcSub.unsubscribe(),this.calcSub=void 0),this.helpSub&&(this.helpSub.unsubscribe(),this.helpSub=void 0),this.switchedSub&&(this.switchedSub.unsubscribe(),this.switchedSub=void 0),this.changedSub&&(this.changedSub.unsubscribe(),this.changedSub=void 0)}redrawPlots(){this.outputPane.redrawPlots()}onMouseUp(){this.plotOptionsDialog.stopDragging()}onChildDragStarted(){this.blockSelection=!0}onChildDragEnded(){this.blockSelection=!1}}return t.\u0275fac=function(e){return new(e||t)(Us($m),Us(Ag),Us(zw),Us(Uw))},t.\u0275cmp=pe({type:t,selectors:[["app-main"]],viewQuery:function(t,e){var n;1&t&&(yl(iR,!0),yl(sR,!0),vl(oR,!0)),2&t&&(ml(n=Cl())&&(e.plotOptionsDialog=n.first),ml(n=Cl())&&(e.helpDialog=n.first),ml(n=Cl())&&(e.outputPane=n.first))},decls:30,vars:14,consts:[[1,"d-flex","flex-column","h-100",3,"mouseup"],[1,"row","d-flex",2,"flex","1 0 auto"],[1,"col-4","d-flex","flex-column","justify-content-between"],["id","sidebar",1,"d-flex","flex-row",2,"flex","auto"],[1,"overview"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-question-circle"],[1,"tabset"],[1,"nav","nav-tabs"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink","routerLinkActiveOptions"],["class","nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[1,"tab-pane","active"],[3,"activate","deactivate"],["id","footer",1,"d-flex","flex-column"],["src","assets/biostat.jpg"],[1,"build"],[1,"col-8"],[3,"ngIf"],["start-x-offset","33%","start-y-offset","55px",3,"title","drag-start","drag-end"],["helpDialog",""],[3,"topic"],["title","Plot options","start-x-offset","5%","start-y-offset","55px",3,"drag-start","drag-end"],["plotOptionsDialog",""],[3,"project","optionChanged","projectChanged","reset"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"plot-buttons"],["title","Toggle plot options",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cog"],["title","Export plots",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-save"],["title","Toggle hover box",1,"btn","btn-secondary",3,"click"],[1,"fa"],[3,"project","hover-disabled","disable-drag-ci-target","disable-drag-ci-bounds","modelChanged"],["outputPane",""]],template:function(t,e){1&t&&(Gs(0,"div",0),eo("mouseup",(function(){return e.onMouseUp()})),Gs(1,"div",1),Gs(2,"div",2),Gs(3,"div",3),Gs(4,"div",4),Gs(5,"button",5),eo("click",(function(){return e.toggleHelp("overview")})),Io(6," Overview "),Ys(7,"i",6),Xs(),Xs(),Gs(8,"div",7),Gs(9,"ul",8),Gs(10,"li",9),Gs(11,"a",10),Io(12,"Start"),Xs(),Xs(),Vs(13,aR,3,2,"li",11),Xs(),Gs(14,"div",12),Gs(15,"div",13),Gs(16,"router-outlet",14),eo("activate",(function(t){return e.onActivate(t)}))("deactivate",(function(){return e.onDeactivate()})),Xs(),Xs(),Xs(),Xs(),Xs(),Gs(17,"div",15),Ys(18,"img",16),Gs(19,"div",17),Io(20),tl(21,"date"),Xs(),Xs(),Xs(),Gs(22,"div",18),Vs(23,lR,9,8,"ng-template",19),Xs(),Xs(),Gs(24,"app-draggable-dialog",20,21),eo("drag-start",(function(){return e.onChildDragStarted()}))("drag-end",(function(){return e.onChildDragEnded()})),Ys(26,"app-help",22),Xs(),Gs(27,"app-draggable-dialog",23,24),eo("drag-start",(function(){return e.onChildDragStarted()}))("drag-end",(function(){return e.onChildDragEnded()})),Gs(29,"app-plot-options",25),eo("optionChanged",(function(){return e.redrawPlots()}))("projectChanged",(function(){return e.redrawPlots()}))("reset",(function(){return e.redrawPlots()})),Xs(),Xs(),Xs()),2&t&&(wo("block-selection",e.blockSelection),Ir(11),qs("routerLink",e.startLink())("routerLinkActiveOptions",Qa(13,cR)),Ir(2),qs("ngForOf",e.projects),Ir(7),No(" Build version: ",e.commitHash," (",el(21,11,e.buildTimestamp),") "),Ir(3),qs("ngIf",e.showOutputPane),Ir(1),qs("title",e.helpTitles[e.helpTopic]),Ir(2),qs("topic",e.helpTopic),Ir(3),qs("project",e.selectedProject))},directives:[zm,Hm,Su,Wm,Tu,Yw,TP,rR,_P],pipes:[Ru],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}#sidebar[_ngcontent-%COMP%]{background-color:#e5e5e5;border:1px solid #ccc;border-radius:5px;padding:10px;position:relative}#sidebar[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%]{flex:0 0 auto;border-bottom:1px solid #888}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]{border-color:#bbb #bbb #888;background-color:#eee}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link[_ngcontent-%COMP%]:hover{border-color:#888;background-color:#f5f5f5;color:#0275d8}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]{border-color:#888 #888 #fff;background-color:#fff}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > ul.nav[_ngcontent-%COMP%] > li.nav-item[_ngcontent-%COMP%] > a.nav-link.active[_ngcontent-%COMP%]:hover{color:#464a4c}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{flex:1 0 auto;padding:10px;border:1px solid #888;border-top:0;overflow:auto;max-height:70vh}#sidebar[_ngcontent-%COMP%] > .tabset[_ngcontent-%COMP%] > .tab-content[_ngcontent-%COMP%] > .tab-pane.active[_ngcontent-%COMP%]{background:#fff}#footer[_ngcontent-%COMP%]{margin:20px 0;padding:20px;text-align:center}#footer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:auto;display:block}#footer[_ngcontent-%COMP%]   div.build[_ngcontent-%COMP%]{margin-top:5px;font-size:smaller}.block-selection[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.plot-buttons[_ngcontent-%COMP%]{position:absolute;top:0;left:0;font-size:large;z-index:99;display:flex;flex:0 0 auto;flex-direction:column}.plot-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem 0;margin:.2rem 0;width:2.4rem}"]}),t})(),hR=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Tc.apiUrl}/ttests`}calculate(t){let e=`${this.apiUrl}/calc`,n=t.attribs(),r={headers:new py({"Content-Type":"application/json"})};return this.http.post(e,n,r).pipe(tf(this.handleError),F(t=>{if("object"!=typeof t||null===t)return t;for(let e in t)"NaN"===t[e]&&(t[e]=void 0);return t}))}plotData(t,e,n){let r=`${this.apiUrl}/plotData`,i={models:t.map(t=>t.attribs()),ranges:e};"number"==typeof n&&(i.points=n);let s={headers:new py({"Content-Type":"application/json"})};return this.http.post(r,i,s).pipe(tf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),_b("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(ky))},t.\u0275prov=ht({token:t,factory:t.\u0275fac}),t})();class dR{constructor(t,e){this.min=t,this.max=e}combine(t){t.min<this.min&&(this.min=t.min),t.max>this.max&&(this.max=t.max)}toArray(){return[this.min,this.max]}clone(){return new dR(this.min,this.max)}}var pR=function(t){return t.Paired="paired",t.Independent="ind",t.ZTest="ztest",t}({});class fR{constructor(t){this.ciMode=!1,this.deltaMode=!1,t&&(this.kind=t.kind,this.output=t.output,this.alpha=t.alpha,this.sigma=t.sigma,this.delta=t.delta,this.power=t.power,this.n=t.n,this.m=t.m,this.ci=t.ci,this.nVsPower=t.nVsPower,this.nVsDelta=t.nVsDelta,this.powerVsN=t.powerVsN,this.powerVsDelta=t.powerVsDelta,this.deltaVsPower=t.deltaVsPower,this.deltaVsN=t.deltaVsN,this.sampDist=t.sampDist)}precisionRange(){return new dR(this.delta-this.ci/2,this.delta+this.ci/2)}interpretation(){let t=this.alpha.toFixed(2),e=this.sigma.toFixed(2),n=this.delta.toFixed(2),r=Math.ceil(this.n).toString(),i=this.power.toFixed(2),s="",o="";this.m&&(s=this.m.toFixed(2),o=Math.ceil(this.m*this.n).toString());let a="";return this.kind===pR.Paired?"n"==this.output||"nByCI"==this.output?a=`\n          We are planning a study of a continuous response variable from matched\n          pairs of study subjects. Prior data indicate that the difference in the\n          response of matched pairs is normally distributed with standard\n          deviation ${e}. If the true difference in the mean response of\n          matched pairs is ${n}, we will need to study ${r} pairs of subjects\n          to be able to reject the null hypothesis that this response difference\n          is zero with probability (power) ${i}. The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"power"==this.output?a=`\n          We are planning a study with ${r} pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ${e}. If the true\n          difference in the mean response of matched pairs is ${n}, we will\n          be able to reject the null hypothesis that this response difference is\n          zero with probability (power) ${i}. The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"delta"==this.output&&(a=`\n          We are planning a study with ${r} pairs of subjects. Prior data\n          indicate that the difference in the response of matched pairs is\n          normally distributed with standard deviation ${e}. We will be able\n          to detect a true difference in the mean response of matched pairs of\n          -${n} or ${n} with probability (power) ${i}. The Type I\n          error probability associated with this test of the null hypothesis that\n          this response difference is zero is ${t}.\n        `):this.kind===pR.Independent&&("n"==this.output||"nByCI"==this.output?a=`\n          We are planning a study of a continuous response variable from\n          independent control and experimental subjects with ${s} control(s)\n          per experimental subject.  In a previous study the response within\n          each subject group was normally distributed with standard deviation\n          ${e}.  If the true difference in the experimental and control\n          means is ${n}, we will need to study ${r} experimental subjects\n          and ${o} control subjects to be able to reject the null hypothesis\n          that the population means of the experimental and control groups are\n          equal with probability (power) ${i}.   The Type I error\n          probability associated with this test of this null hypothesis is\n          ${t}.\n        `:"power"==this.output?a=`\n          We are planning a study with ${r} experimental subjects and ${o}\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ${e}.  If the true difference in the experimental and control\n          means is ${n}, we will be able to reject the null hypothesis that\n          the population means of the experimental and control groups are equal\n          with probability (power) ${i}.   The Type I error probability\n          associated with this test of this null hypothesis is ${t}.\n        `:"delta"==this.output&&(a=`\n          We are planning a study with ${r} experimental subjects and ${o}\n          control subjects.  In a previous study the response within each\n          subject group was normally distributed with standard deviation\n          ${e}.  We will be able to detect a true difference in the mean\n          response of experimental and control subjects of -${n} or\n          ${n} with probability (power) ${i}.   The Type I error\n          probability associated with this test of the null hypothesis that the\n          population means of the experimental and control groups are equal is\n          ${t}.\n        `)),a.replace(/\s+/g," ").trim()}attribs(){return{kind:this.kind,output:this.output,alpha:this.alpha,sigma:this.sigma,delta:this.delta,power:this.power,n:this.n,m:this.m,ci:this.ci,ciMode:this.ciMode,deltaMode:this.deltaMode}}shallowClone(){return Object.assign(new fR,this)}}function gR(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),W(t,void 0).lift(new mR(e))}class mR{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new yR(t,this.resultSelector))}}class yR extends f{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;l(t)?e.push(new bR(t)):e.push("function"==typeof t[A]?new vR(t[A]()):new wR(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class vR{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class bR{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[A](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class wR extends N{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return j(this,this.observable,this,e)}}var _R=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({});class xR extends cE{constructor(t){super(),this.project=t}getXParam(t){return this.getParam(t,_R.X)}getYParam(t){return this.getParam(t,_R.Y)}getPlotData(t){let e,n=this.getDataKey(t);return n&&(e=this.project.models.map(t=>t[n])),e}getSelectedIndex(){return this.project.selectedIndex}getNumModels(){return this.project.models.length}getModelNames(){return this.project.models.map(t=>t.name)}updateModel(t,e,n){return this.project.updateModel(t,e,n)}getParam(t,e){let n,r=this.project.getModel(this.project.selectedIndex);return"n"==r.output||"nByCI"==r.output?e===_R.X?"top-left"==t||"top-left-export"==t?n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):e===_R.Y&&(n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}):"power"==r.output?e===_R.X?"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"}):e===_R.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):"delta"==r.output&&(e===_R.X?"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.nRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"}):e===_R.Y&&(n={name:"delta",range:this.project.deltaRange,target:r.delta,title:"Detectable Alternative",sym:"\u03b4"})),n}getDataKey(t){let e,n=this.project.getModel(this.project.selectedIndex);return"n"==n.output||"nByCI"==n.output?"top-left"==t||"top-left-export"==t?e="nVsPower":"top-right"!=t&&"top-right-export"!=t||(e="nVsDelta"):"power"==n.output?"top-left"==t||"top-left-export"==t?e="powerVsN":"top-right"!=t&&"top-right-export"!=t||(e="powerVsDelta"):"delta"==n.output&&("top-left"==t||"top-left-export"==t?e="deltaVsN":"top-right"!=t&&"top-right-export"!=t||(e="deltaVsPower")),e}}class CR extends SE{constructor(t){super(),this.project=t}getXParam(){return{name:"delta",range:this.project.pSpaceRange,title:"Detectable Alternative",sym:"\u03b4"}}getGroups(){return this.project.models.map(t=>{let e=t.precisionRange();return{ci:{lower:e.min,upper:e.max},target:t.delta,sampDist:t.sampDist}})}getSelectedIndex(){return this.project.selectedIndex}updateTargetValue(t){return this.project.updateModel(this.project.selectedIndex,"delta",t)}updateCIValue(t){return this.project.updateModel(this.project.selectedIndex,"ci",t.upper-t.lower)}setIntermediateCIValue(t){}}class SR extends Zw{constructor(t){super(),this.ttestService=t,this.models=[],this.selectedIndex=0,this.changeHistory=[]}getOutput(){return this.models.length>0?this.models[0].output:""}updatePlotData(){return this.updatingPlotData.emit(),this.ttestService.plotData(this.models,{nRange:this.nRange,powerRange:this.powerRange,deltaRange:this.deltaRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(F(t=>{if(void 0===this.pointsPerPlot&&(this.pointsPerPlot=t.points),t.data.forEach((t,e)=>{Object.assign(this.models[e],t)}),this.customRanges)return;let e,n,r,i=this.getOutput();for(let s=0,o=this.models.length;s<o;s++){let t=this.models[s];switch(i){case"n":case"nByCI":n=this.makeXRange(t.nVsPower,this.nRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),r=this.makeXRange(t.nVsDelta,this.nRange),r.description="Detectable Alternative",0==s?this.deltaRange=r:this.deltaRange.combine(r);break;case"power":e=this.makeXRange(t.powerVsN,this.powerRange),e.description="Sample Size",0==s?this.nRange=e:this.nRange.combine(e);break;case"delta":n=this.makeXRange(t.deltaVsPower,this.deltaRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),e=this.makeXRange(t.deltaVsN,this.deltaRange),e.description="Sample Size",0==s?this.nRange=e:this.nRange.combine(e)}}this.previousRanges={nRange:this.nRange?this.nRange.clone():void 0,powerRange:this.powerRange?this.powerRange.clone():void 0,deltaRange:this.deltaRange?this.deltaRange.clone():void 0,pSpaceRange:this.pSpaceRange?this.pSpaceRange.clone():void 0}}))}resetRanges(){this.previousRanges&&Object.assign(this,this.previousRanges)}addModel(t){return this.ttestService.calculate(t).pipe(U(t=>{let e=new fR(t);return e.name=this.getModelName(this.models.length),this.models.push(e),this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"add",index:this.models.length-1,params:e.attribs()}),this.updatePlotData()}))}updateModel(t,e,n){let r=this.models[t],i=e,s={[e]:n};"output"!==e&&("nByCI"===r.output?"delta"===e?(s.deltaMode=!0,i="power"):"power"===e&&(s.deltaMode=!1):"n"!==this.models[0].output&&("ci"===e?(s.ciMode=!0,i="n"):"n"===e&&(s.ciMode=!1)));let o=[r];return"output"===e&&(o=this.models,this.customRanges=!1),o.forEach(t=>{Object.assign(t,s)}),gR(...o.map((t,e)=>this.ttestService.calculate(t).pipe(F(e=>{Object.assign(t,e)})))).pipe(U(()=>(this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"change",index:t,key:e,params:r.attribs()}),this.updatePlotData())))}removeModel(t){return this.models.splice(t,1),this.changeHistory.push({type:"remove",index:t}),this.customRanges||this.calculateRanges(),this.updatePlotData()}getModel(t){return this.models[t]}modelCount(){return this.models.length}calculateRanges(){let t,e=[],n=[],r=[],i=[],s=this.getOutput();for(let o=0,a=this.models.length;o<a;o++){let a=this.models[o];switch(s){case"n":case"nByCI":t=rE([.5*a.n,1.5*a.n],Kw),(0==o||t[0]<e[0])&&(e[0]=t[0]),(0==o||t[1]>e[1])&&(e[1]=t[1]);break;case"power":0==o&&(n=[.01,1]),t=rE([1.5*a.sigma,-1.5*a.sigma],Kw),(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1]);break;case"delta":t=rE([.5*a.delta,1.5*a.delta],Kw),(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1])}t=rE([1.5*a.sigma,-1.5*a.sigma],Kw),(0==o||t[0]<i[0])&&(i[0]=t[0]),(0==o||t[1]>i[1])&&(i[1]=t[1]),t=[a.delta-a.ci/2,a.delta+a.ci/2],t[0]<i[0]&&(i[0]=t[0]-Math.abs(.5*t[0])),t[1]>i[1]&&(i[1]=t[1]+Math.abs(.5*t[1]))}e.length>0?(this.nRange=new dR(e[0],e[1]),this.nRange.description="Sample Size"):this.nRange=void 0,n.length>0?(this.powerRange=new dR(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.deltaRange=new dR(r[0],r[1]),this.deltaRange.description="Detectable Alternative"):this.deltaRange=void 0,i.length>0?(this.pSpaceRange=new dR(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}getLinePlotHandler(){return new xR(this)}getCIPlotHandler(){return new CR(this)}getSelectedIndex(){return this.selectedIndex}getChangeHistory(){return this.changeHistory}getModelCount(){return this.models.length}getModelInterpretation(){return this.models[this.selectedIndex].interpretation()}getModelOutput(){return this.models[this.selectedIndex].output}getTopYRange(){switch(this.getOutput()){case"n":case"nByCI":return this.nRange;case"power":return this.powerRange;case"delta":return this.deltaRange}}setTopYRange(t){switch(this.getOutput()){case"n":case"nByCI":this.nRange=t;break;case"power":this.powerRange=t;break;case"delta":this.deltaRange=t}}getTopLeftXRange(){switch(this.getOutput()){case"n":case"nByCI":return this.powerRange;case"power":case"delta":return this.nRange}}setTopLeftXRange(t){switch(this.getOutput()){case"n":case"nByCI":this.powerRange=t;break;case"power":case"delta":this.nRange=t}}getTopRightXRange(){switch(this.getOutput()){case"n":case"nByCI":case"power":return this.deltaRange;case"delta":return this.powerRange}}setTopRightXRange(t){switch(this.getOutput()){case"n":case"nByCI":case"power":this.deltaRange=t;break;case"delta":this.powerRange=t}}getBottomXRange(){return this.pSpaceRange}setBottomXRange(t){this.pSpaceRange=t}isCITargetDraggable(){return"detAlt"===this.getModelOutput()}isCIBoundsDraggable(){return"power"!==this.getModelOutput()}describeChanges(t,e=!0){let n;return"add"==t.type?n=`Added model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:"remove"==t.type?n=`Removed model #${t.index+1}`:"change"==t.type&&(n=e?`Changed <span class="code">${t.key}</span> in model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:`Changed ${t.key} in model #${t.index+1}: ${this.paramsToString(t.params)}`),n}paramsToString(t){let e=[];for(var n in t)"ciMode"!=n&&"deltaMode"!=n&&e.push("string"==typeof t[n]?`"${n}": "${t[n]}"`:`"${n}": ${t[n]}`);return`{ ${e.join(", ")} }`}getModelName(t){switch(t){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return`Line ${t+1}`}makeXRange(t,e){let n=0,r=t.length-1;for(let s=0;s<t.length;s++)if("number"==typeof t[s].x&&t[s].y>=e.min){n=s;break}for(let s=t.length-1;s>=0;s--)if("number"==typeof t[s].x&&t[s].y<=e.max){r=s;break}let i=rE([t[n].x,t[r].x],Kw);return new dR(i[0],i[1])}}function MR(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",33),Io(2,"Difference in population means (\u03b4)"),Xs(),Gs(3,"input",34),eo("ngModelChange",(function(e){return Ye(t),io(2).model.delta=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.delta)}}function TR(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",35),Io(2," Power "),Ys(3,"i",36),Xs(),Gs(4,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(2).model.power=e})),Xs(),Xs()}if(2&t){const t=io(2),e=zs(34);Ir(3),qs("ngbPopover",e),Ir(1),qs("ngModel",t.model.power)}}function kR(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",38),Io(2," Ratio of control/experimental subjects "),Xs(),Gs(3,"input",39),eo("ngModelChange",(function(e){return Ye(t),io(2).model.m=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.m)}}function ER(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",40),Io(2,"95% confidence interval width"),Xs(),Gs(3,"input",41),eo("ngModelChange",(function(e){return Ye(t),io(2).model.ci=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.ci)}}function PR(t,e){if(1&t){const t=Ks();Gs(0,"input",49),eo("ngModelChange",(function(e){return Ye(t),io(3).model.n=e})),Xs()}2&t&&qs("ngModel",io(3).model.n)}function RR(t,e){if(1&t){const t=Ks();Gs(0,"input",50),eo("ngModelChange",(function(e){return Ye(t),io(3).model.ci=e})),Xs()}2&t&&qs("ngModel",io(3).model.ci)}function AR(t,e){if(1&t){const t=Ks();Gs(0,"div",42),Gs(1,"label",43),Gs(2,"input",44),eo("ngModelChange",(function(e){return Ye(t),io(2).model.ciMode=e})),Xs(),Io(3," Sample size "),Ys(4,"i",45),Xs(),Gs(5,"label",43),Gs(6,"input",46),eo("ngModelChange",(function(e){return Ye(t),io(2).model.ciMode=e})),Xs(),Io(7," 95% confidence interval width "),Xs(),Xs(),Gs(8,"div",24),Vs(9,PR,1,1,"input",47),Vs(10,RR,1,1,"input",48),Xs()}if(2&t){const t=io(2),e=zs(36);Ir(2),qs("ngModel",t.model.ciMode)("value",!1),Ir(2),qs("ngbPopover",e),Ir(2),qs("ngModel",t.model.ciMode)("value",!0),Ir(3),qs("ngIf",!t.model.ciMode),Ir(1),qs("ngIf",t.model.ciMode)}}function OR(t,e){if(1&t){const t=Ks();Gs(0,"input",37),eo("ngModelChange",(function(e){return Ye(t),io(3).model.power=e})),Xs()}2&t&&qs("ngModel",io(3).model.power)}function IR(t,e){if(1&t){const t=Ks();Gs(0,"input",34),eo("ngModelChange",(function(e){return Ye(t),io(3).model.delta=e})),Xs()}2&t&&qs("ngModel",io(3).model.delta)}function DR(t,e){if(1&t){const t=Ks();Gs(0,"div",42),Gs(1,"label",43),Gs(2,"input",51),eo("ngModelChange",(function(e){return Ye(t),io(2).model.deltaMode=e})),Xs(),Io(3," Power "),Ys(4,"i",36),Xs(),Gs(5,"label",43),Gs(6,"input",52),eo("ngModelChange",(function(e){return Ye(t),io(2).model.deltaMode=e})),Xs(),Io(7," Difference in population means (\u03b4) "),Xs(),Xs(),Gs(8,"div",24),Vs(9,OR,1,1,"input",53),Vs(10,IR,1,1,"input",54),Xs()}if(2&t){const t=io(2),e=zs(34);Ir(2),qs("ngModel",t.model.deltaMode)("value",!1),Ir(2),qs("ngbPopover",e),Ir(2),qs("ngModel",t.model.deltaMode)("value",!0),Ir(3),qs("ngIf",!t.model.deltaMode),Ir(1),qs("ngIf",t.model.deltaMode)}}function jR(t,e){if(1&t){const t=Ks();Gs(0,"div"),Gs(1,"div",24),Gs(2,"label",25),Io(3," Type I Error (\u03b1) "),Ys(4,"i",26),Xs(),Gs(5,"input",27),eo("ngModelChange",(function(e){return Ye(t),io().model.alpha=e})),Xs(),Xs(),Gs(6,"div",24),Gs(7,"label",28),Io(8," Standard deviation (\u03c3) "),Ys(9,"i",29),Xs(),Gs(10,"input",30),eo("ngModelChange",(function(e){return Ye(t),io().model.sigma=e})),Xs(),Xs(),Vs(11,MR,4,1,"div",31),Vs(12,TR,5,2,"div",31),Vs(13,kR,4,1,"div",31),Vs(14,ER,4,1,"div",31),Vs(15,AR,11,7,"ng-template",32),Vs(16,DR,11,7,"ng-template",32),Xs()}if(2&t){const t=io(),e=zs(30),n=zs(32);Ir(4),qs("ngbPopover",e),Ir(1),qs("ngModel",t.model.alpha),Ir(4),qs("ngbPopover",n),Ir(1),qs("ngModel",t.model.sigma),Ir(1),qs("ngIf",t.needDelta()),Ir(1),qs("ngIf",t.needPower()),Ir(1),qs("ngIf",t.needM()),Ir(1),qs("ngIf",t.needCI()),Ir(1),qs("ngIf",t.needNOrCI()),Ir(1),qs("ngIf",t.needPowerOrDelta())}}function NR(t,e){if(1&t&&(Gs(0,"div",55),Gs(1,"button",56),Io(2," Calculate "),Xs(),Xs()),2&t){io();const t=zs(2);Ir(1),qs("disabled",!t.form.valid)}}function FR(t,e){1&t&&Io(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis.\n")}function LR(t,e){1&t&&Io(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs.\n")}function $R(t,e){1&t&&Io(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function VR(t,e){1&t&&Io(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}let zR=(()=>{class t extends Bw{constructor(t,e){super(),this.route=t,this.ttestService=e}ngOnInit(){this.route.data.subscribe(t=>{this.kind=t.kind,this.model=new fR({kind:t.kind})})}onToggleHelp(){this.toggleHelp.emit()}needDelta(){return"delta"!==this.model.output&&"nByCI"!==this.model.output}needPower(){return"power"!==this.model.output&&"nByCI"!==this.model.output}needPowerOrDelta(){return"nByCI"===this.model.output}needCI(){return"nByCI"===this.model.output}needNOrCI(){return"n"!==this.model.output&&"nByCI"!==this.model.output}needM(){return this.model.kind===pR.Independent}onSubmit(){let t=new SR(this.ttestService);t.addModel(this.model).subscribe(()=>{this.calculate.emit(t)})}useExample(t){switch(t){case"power":this.model.output="power",this.model.alpha=.05,this.model.delta=5,this.model.sigma=10,this.model.n=33,this.kind==pR.Independent&&(this.model.m=2)}}showCalculateButton(){return void 0!==this.model.output}}return t.\u0275fac=function(e){return new(e||t)(Us(Ag),Us(hR))},t.\u0275cmp=pe({type:t,selectors:[["t-test-start"]],features:[Vo],decls:37,vars:3,consts:[[1,"d-flex","flex-column","h-100"],[3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","t-test-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","t-test-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","power"],["id","t-test-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","n"],["value","delta"],["value","nByCI"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],["alphaHelp",""],["sigmaHelp",""],["powerHelp",""],["nHelp",""],[1,"form-group"],["for","t-test-start-alpha"],["aria-hidden","true","popoverTitle","Type I Error (\u03b1)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-sigma"],["aria-hidden","true","popoverTitle","Standard deviation (\u03c3)","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-sigma","type","number","step","0.1","min","0.1","required","","name","sigma",1,"form-control",3,"ngModel","ngModelChange"],["class","form-group",4,"ngIf"],[3,"ngIf"],["for","t-test-start-delta"],["id","t-test-start-delta","type","number","step","0.1","required","","name","delta",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-power"],["aria-hidden","true","popoverTitle","Power","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-m"],["id","t-test-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","t-test-start-ci"],["id","t-test-start-ci","type","number","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["type","radio","name","ciMode","id","t-test-start-ciMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["aria-hidden","true","popoverTitle","Sample size","placement","right","triggers","hover","container","body",1,"fa","fa-info-circle",3,"ngbPopover"],["type","radio","name","ciMode","id","t-test-start-ciMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-n","type","number","min","1","required","","name","n",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",3,"ngModel","ngModelChange",4,"ngIf"],["id","t-test-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["id","t-test-start-ci","type","number","min","1","step","0.1","required","","name","ci",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-false",1,"form-check-input",3,"ngModel","value","ngModelChange"],["type","radio","name","deltaMode","id","t-test-start-deltaMode-true",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","form-control","id","t-test-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-control","id","t-test-start-delta","type","number","step","0.1","required","","name","delta",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){if(1&t){const t=Ks();Gs(0,"div",0),Gs(1,"form",1,2),eo("ngSubmit",(function(){return e.onSubmit()})),Gs(3,"div",3),Gs(4,"div",4),Gs(5,"div",5),Gs(6,"div",6),Gs(7,"label",7),Io(8," What do you want to know? "),Gs(9,"button",8),eo("click",(function(){return e.onToggleHelp()})),Xs(),Xs(),Xs(),Gs(10,"div",9),Gs(11,"select",10,11),eo("change",(function(){Ye(t);const n=zs(12);return e.useExample(n.value)})),Gs(13,"option",12),Io(14,"Use an example:"),Xs(),Gs(15,"option",13),Io(16,"Power"),Xs(),Xs(),Xs(),Xs(),Gs(17,"select",14),eo("ngModelChange",(function(t){return e.model.output=t})),Ys(18,"option"),Gs(19,"option",13),Io(20,"Power"),Xs(),Gs(21,"option",15),Io(22,"Sample size"),Xs(),Gs(23,"option",16),Io(24,"Detectable alternative"),Xs(),Gs(25,"option",17),Io(26,"Sample size for 95% CI"),Xs(),Xs(),Xs(),Vs(27,jR,17,10,"div",18),Xs(),Vs(28,NR,3,1,"div",19),Xs(),Xs(),Vs(29,FR,1,0,"ng-template",null,20,kl),Vs(31,LR,1,0,"ng-template",null,21,kl),Vs(33,$R,1,0,"ng-template",null,22,kl),Vs(35,VR,1,0,"ng-template",null,23,kl)}2&t&&(Ir(17),qs("ngModel",e.model.output),Ir(10),qs("ngIf",e.model.output),Ir(1),qs("ngIf",e.showCalculateButton()))},directives:[nb,rv,Gv,Tv,Rv,Mv,ib,nv,eb,Tu,Cw,gv,Yy,vv],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}.ng-valid.required[_ngcontent-%COMP%], .ng-valid[required][_ngcontent-%COMP%]{border-left:5px solid #42a948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),t})(),UR=(()=>{class t{transform(t,e){return Math.ceil(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=we({name:"ceil",type:t,pure:!0}),t})();function HR(t,e){if(1&t){const t=Ks();Gs(0,"div",13),Gs(1,"div",14),Gs(2,"label",15),Io(3,"Name:"),Xs(),Gs(4,"input",16),eo("ngModelChange",(function(e){return Ye(t),io().model.name=e})),Xs(),Xs(),Gs(5,"button",17),eo("click",(function(){return Ye(t),io().onRemoveButtonClicked()})),Ys(6,"i",18),Io(7," Remove "),Xs(),Xs()}if(2&t){const t=io();Ir(2),uo("for","t-test-project-",t.name,"-model-",t.index,"-name"),Ir(2),uo("id","t-test-project-",t.name,"-model-",t.index,"-name"),qs("ngModel",t.model.name)}}function BR(t,e){1&t&&Io(0," The Type I error probability for a two sided test. This is the probability that we will falsely reject the null hypothesis. ")}function qR(t,e){1&t&&Io(0," For independent tests \u03c3 is the within group standard deviation. For paired designs it is the standard deviation of difference in the response of matched pairs. ")}function WR(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"div",2),Gs(2,"app-range-slider",19),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("m",e)})),tl(3,"round"),Xs(),Xs(),Xs()}if(2&t){const t=io();Ir(2),qs("min",t.min.m)("max",t.max.m)("hard-min",.01)("ngModel",el(3,4,t.model.m))}}function GR(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"div",2),Gs(2,"app-range-slider",20),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("delta",e)})),tl(3,"round"),Xs(),Xs(),Xs(),Gs(4,"div",1),Gs(5,"div",2),Gs(6,"app-range-slider",21),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("power",e)})),tl(7,"round"),Xs(),Xs(),Xs(),Gs(8,"div",1),Gs(9,"div",2),Gs(10,"app-range-slider",22),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("n",e)})),tl(11,"ceil"),Xs(),Gs(12,"app-range-slider",23),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("ci",e)})),tl(13,"round"),Xs(),Xs(),Xs()}if(2&t){const t=io(),e=zs(16),n=zs(18),r=zs(20),i=zs(22);wo("output",t.isOutput("delta")),Ir(2),qs("min",t.min.delta)("max",t.max.delta)("is-output","delta"==t.model.output)("help-tpl",e)("ngModel",nl(3,30,t.model.delta,1)),Ir(2),wo("output",t.isOutput("power")),Ir(2),qs("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("help-tpl",n)("ngModel",el(7,33,t.model.power)),Ir(2),wo("output",t.isOutput("n")),Ir(2),qs("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output","n"==t.model.output)("help-tpl",r)("ngModel",el(11,35,t.model.n)),Ir(2),qs("min",t.min.ci)("max",t.max.ci)("hard-min",1)("is-output","n"==t.model.output)("help-tpl",i)("ngModel",nl(13,37,t.model.ci,1))}}function XR(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"div",2),Gs(2,"app-range-slider",24),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("ci",e)})),tl(3,"round"),Xs(),Xs(),Xs(),Gs(4,"div",25),Gs(5,"div",2),Gs(6,"app-range-slider",22),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("n",e)})),tl(7,"ceil"),Xs(),Xs(),Xs(),Gs(8,"div",26),Gs(9,"div",2),Gs(10,"app-range-slider",27),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("delta",e)})),tl(11,"round"),Xs(),Gs(12,"app-range-slider",21),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("power",e)})),tl(13,"round"),Xs(),Xs(),Xs()}if(2&t){const t=io(),e=zs(22),n=zs(20),r=zs(16),i=zs(18);Ir(2),qs("min",t.min.ci)("max",t.max.ci)("help-tpl",e)("ngModel",nl(3,21,t.model.ci,1)),Ir(4),qs("min",t.min.n)("max",t.max.n)("hard-min",1)("is-output",!0)("help-tpl",n)("ngModel",el(7,24,t.model.n)),Ir(4),qs("min",t.min.delta)("max",t.max.delta)("help-tpl",r)("ngModel",nl(11,26,t.model.delta,1)),Ir(2),qs("min",t.min.power)("max",t.max.power)("hard-min",t.min.power)("hard-max",t.max.power)("is-output","power"==t.model.output)("help-tpl",i)("ngModel",el(13,29,t.model.power))}}function YR(t,e){1&t&&Io(0," Delta (\u03b4) is the difference in population means under the alternative hypothesis.\n")}function QR(t,e){1&t&&Io(0," For independent tests power is probability of correctly rejecting the null hypothesis of equal population means given n experimental patients, m control patients per experimental patient, a Type I error probability \u03b1 and a true difference in population means of \u03b4. For paired tests it is the probability of correctly rejecting the null hypothesis of equal population means given n pairs of patients, a Type I error probability \u03b1 and a true difference in population means of \u03b4.\n")}function ZR(t,e){1&t&&Io(0," For independent t-tests n is the number of experimental subjects. For pair test n is the number of pairs.\n")}function KR(t,e){1&t&&Io(0," Specifying the 95% confidence interval width will automatically calculate the sample size parameter.\n")}let JR=(()=>{class t{constructor(t,e){this.plotOptions=t,this.palette=e,this.modelChanged=new sl,this.remove=new sl}ngOnInit(){this.model=this.project.getModel(this.index),this.min=new fR(this.model),this.max=new fR(this.model),this.min.alpha=.01,this.max.alpha=.99,this.min.power=.01,this.max.power=.99,this.calculateSliderRange("n"),this.calculateSliderRange("ci"),this.calculateSliderRange("delta"),this.calculateSliderRange("sigma"),this.model.kind===pR.Independent&&this.calculateSliderRange("m"),this.color=this.palette.getColor(this.index,this.plotOptions.paletteTheme)}isOutput(t){return this.model.output===t}changeModel(t,e){this.project.updateModel(this.index,t,e).subscribe(()=>{this.adjustMinMax(),this.modelChanged.emit()})}onRemoveButtonClicked(){this.remove.emit()}adjustMinMax(){this.model.sigma<this.min.sigma?this.min.sigma=Math.floor(this.model.sigma):this.model.sigma>this.max.sigma&&(this.max.sigma=Math.ceil(this.model.sigma)),this.model.delta<this.min.delta?this.min.delta=Math.floor(this.model.delta):this.model.delta>this.max.delta&&(this.max.delta=Math.ceil(this.model.delta)),this.model.n<this.min.n?this.min.n=Math.floor(this.model.n):this.model.n>this.max.n&&(this.max.n=Math.ceil(this.model.n)),this.model.ci<this.min.ci?this.min.ci=Math.floor(this.model.ci):this.model.ci>this.max.ci&&(this.max.ci=Math.ceil(this.model.ci))}calculateSliderRange(t){let e=this.model[t],n=rE([.5*e,1.5*e],Kw);this.min[t]=n[0],this.max[t]=n[1]}}return t.\u0275fac=function(e){return new(e||t)(Us(iE),Us(sE))},t.\u0275cmp=pe({type:t,selectors:[["t-test-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:23,vars:18,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","hard-min","hard-max","ngModel","ngModelChange"],["rsHelp",""],["name","sigma","label","Std. deviation (\u03c3)","step","0.1",3,"min","max","hard-min","ngModel","ngModelChange"],["class","grow-horiz",4,"ngIf"],[3,"ngIf","ngIfElse"],["nByCI",""],["deltaHelp",""],["powerHelp",""],["nHelp",""],["ciHelp",""],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["name","m","label","Ratio of control/experimental subjects",3,"min","max","hard-min","ngModel","ngModelChange"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","is-output","help-tpl","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","help-tpl","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","hard-min","is-output","help-tpl","ngModel","ngModelChange"],["name","ci","label","95% confidence interval width","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"],[1,"grow-horiz","output"],[1,"grow-horiz","order-2","alt"],["name","delta","label","Difference in population means (\u03b4)","step","0.1",3,"min","max","help-tpl","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(Vs(0,HR,8,5,"div",0),Gs(1,"div",1),Gs(2,"div",2),Gs(3,"app-range-slider",3),eo("ngModelChange",(function(t){return e.changeModel("alpha",t)})),tl(4,"round"),Vs(5,BR,1,0,"ng-template",4),Xs(),Xs(),Xs(),Gs(6,"div",1),Gs(7,"div",2),Gs(8,"app-range-slider",5),eo("ngModelChange",(function(t){return e.changeModel("sigma",t)})),tl(9,"round"),Vs(10,qR,1,0,"ng-template",4),Xs(),Xs(),Xs(),Vs(11,WR,4,6,"div",6),Vs(12,GR,14,40,"ng-template",7),Vs(13,XR,14,31,"ng-template",null,8,kl),Vs(15,YR,1,0,"ng-template",null,9,kl),Vs(17,QR,1,0,"ng-template",null,10,kl),Vs(19,ZR,1,0,"ng-template",null,11,kl),Vs(21,KR,1,0,"ng-template",null,12,kl)),2&t){const t=zs(14);qs("ngIf",e.project.models.length>1),Ir(3),qs("min",e.min.alpha)("max",e.max.alpha)("hard-min",e.min.alpha)("hard-max",e.max.alpha)("ngModel",el(4,13,e.model.alpha)),Ir(5),qs("min",e.min.sigma)("max",e.max.sigma)("hard-min",1)("ngModel",nl(9,15,e.model.sigma,1)),Ir(3),qs("ngIf","ind"==e.model.kind),Ir(1),qs("ngIf",!e.isOutput("nByCI"))("ngIfElse",t)}},directives:[Tu,WP,nv,eb,qP,Yy],pipes:[GP,UR],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),t})();const tA=["tabset"];function eA(t,e){if(1&t){const t=Ks();Gs(0,"li",16),Gs(1,"a",17),eo("click",(function(){Ye(t);const n=e.index;return io(3).selectModel(n)})),Ys(2,"i",18),Xs(),Xs()}if(2&t){const t=e.index,n=io(3);Ir(1),wo("active",t==n.project.selectedIndex),Ir(1),bo("color",n.getColor(t))}}function nA(t,e){if(1&t&&(Gs(0,"ul",14),Vs(1,eA,3,4,"li",15),Xs()),2&t){const t=io(2);Ir(1),qs("ngForOf",t.project.models)("ngForTrackBy",t.trackByIndex)}}function rA(t,e){if(1&t){const t=Ks();Gs(0,"div",19),Gs(1,"t-test-project-model",20),eo("modelChanged",(function(){return Ye(t),io(2).onModelChanged()}))("remove",(function(){Ye(t);const n=e.index;return io(2).onModelRemove(n)})),Xs(),Xs()}if(2&t){const t=e.index,n=io(2);wo("active",t==n.project.selectedIndex)("tab",n.project.models.length>1),Ir(1),qs("project",n.project)("index",t)}}function iA(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"div",2),Gs(2,"div",3),Gs(3,"label",4),Io(4,"Output:"),Xs(),Gs(5,"select",5),eo("ngModelChange",(function(e){return Ye(t),io().changeOutput(e)})),Gs(6,"option",6),Io(7,"Power"),Xs(),Gs(8,"option",7),Io(9,"Sample size"),Xs(),Gs(10,"option",8),Io(11,"Detectable alternative"),Xs(),Gs(12,"option",9),Io(13,"Sample size for 95% CI"),Xs(),Xs(),Xs(),Gs(14,"button",10),eo("click",(function(){return Ye(t),io().addModel()})),Ys(15,"i",11),Io(16," Add line "),Xs(),Xs(),Vs(17,nA,2,2,"ul",12),Vs(18,rA,2,6,"div",13),Xs()}if(2&t){const t=io();Ir(3),co("for","t-test-project-",t.name,"-output"),Ir(2),co("id","t-test-project-",t.name,"-output"),qs("ngModel",t.project.getOutput()),Ir(12),qs("ngIf",t.project.models.length>1),Ir(1),qs("ngForOf",t.project.models)}}let sA=(()=>{class t extends qw{constructor(t,e,n,r,i){super(),this.projectService=t,this.plotOptions=e,this.palette=n,this.router=r,this.route=i}ngOnInit(){gR(this.route.data,this.route.paramMap).subscribe(t=>{let e=t[0].type,n=t[1].get("id");if(n){let t=parseInt(n)-1;this.name=`${t}`,this.project=this.projectService.getProject(e,t)}else this.project=void 0;this.project?this.selectedModel=this.project.getModel(this.project.selectedIndex):(this.selectedModel=void 0,this.router.navigate([".."],{relativeTo:this.route})),this.projectSwitched.emit(this.project)})}changeOutput(t){this.project.updateModel(0,"output",t).subscribe(()=>{this.projectChanged.emit()})}selectModel(t){this.project.selectedIndex=t,this.selectedModel=this.project.getModel(t),this.projectChanged.emit()}addModel(){let t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe(()=>{this.project.selectedIndex=this.project.models.length-1,this.projectChanged.emit()})}onModelRemove(t){this.removeModel(t)}removeModel(t){this.project.removeModel(t).subscribe(()=>{this.project.selectedIndex>=this.project.models.length&&this.project.selectedIndex--,this.projectChanged.emit()})}onModelChanged(){this.projectChanged.emit()}trackByIndex(t,e){return t}getColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}}return t.\u0275fac=function(e){return new(e||t)(Us(zw),Us(iE),Us(sE),Us($m),Us(Ag))},t.\u0275cmp=pe({type:t,selectors:[["t-test-project"]],viewQuery:function(t,e){var n;1&t&&vl(tA,!0),2&t&&ml(n=Cl())&&(e.tabset=n.first)},features:[Vo],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","n"],["value","delta"],["value","nByCI"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(t,e){1&t&&Vs(0,iA,19,5,"div",0),2&t&&qs("ngIf",e.project)},directives:[Tu,Mv,nv,eb,Tv,Rv,Su,JR],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),t})();const oA=[{path:"t-test/paired",component:uR,data:{type:Hw.TTestPaired},children:[{path:"",component:zR,data:{kind:pR.Paired}},{path:":id",component:sA,data:{type:Hw.TTestPaired}}]},{path:"t-test/ind",component:uR,data:{type:Hw.TTestIndependent},children:[{path:"",component:zR,data:{kind:pR.Independent}},{path:":id",component:sA,data:{type:Hw.TTestIndependent}}]},{path:"z-test",component:uR,data:{type:Hw.ZTest},children:[{path:"",component:zR,data:{kind:pR.ZTest}},{path:":id",component:sA,data:{type:Hw.ZTest}}]}];let aA=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[hR],imports:[[Ou,ob,Uy,$w,ny.forChild(oA),Vw]]}),t})();var lA=function(t){return t.SampleSize="sampleSize",t.Power="power",t.DetectableAlternative="detAlt",t}({}),cA=function(t){return t.Lower="lower",t.Upper="upper",t}({}),uA=function(t){return t.Matched="matched",t.Independent="independent",t}({}),hA=function(t){return t.CaseControl="caseControl",t.Prospective="prospective",t}({}),dA=function(t){return t.ChiSquare="chiSquare",t.Fishers="fishers",t}({}),pA=function(t){return t.FailureRates="failureRates",t.RelativeRisk="relativeRisk",t.TwoProportions="twoProportions",t.OddsRatio="oddsRatio",t}({});class fA{constructor(t){t&&(this.name=t.name,this.output=t.output,this.matched=t.matched,this.case=t.case,this.method=t.method,this.expressed=t.expressed,this.alpha=t.alpha,this.power=t.power,this.phi=t.phi,this.p0=t.p0,this.p1=t.p1,this.p1Alt=t.p1Alt,this.r=t.r,this.rAlt=t.rAlt,this.n=t.n,this.m=t.m,this.psi=t.psi,this.psiAlt=t.psiAlt,this.ci=t.ci,this.ciAlt=t.ciAlt,this.detAltMode=t.detAltMode,this.ciMode=t.ciMode,this.sampleSizeVsPower=t.sampleSizeVsPower,this.sampleSizeVsDetAlt=t.sampleSizeVsDetAlt,this.powerVsSampleSize=t.powerVsSampleSize,this.powerVsDetAlt=t.powerVsDetAlt,this.detAltVsSampleSize=t.detAltVsSampleSize,this.detAltVsPower=t.detAltVsPower,this.sampDist=t.sampDist),null==this.detAltMode&&(this.detAltMode=cA.Upper)}attribs(){return{output:this.output,matched:this.matched,case:this.case,method:this.method,expressed:this.expressed,alpha:this.alpha,power:this.power,phi:this.phi,p0:this.p0,p1:this.p1,p1Alt:this.p1Alt,r:this.r,rAlt:this.rAlt,n:this.n,m:this.m,psi:this.psi,psiAlt:this.psiAlt,ciMode:this.ciMode,ci:this.ci,detAltMode:this.detAltMode}}shallowClone(){return Object.assign(new fA,this)}getDetAltParam(){let t="";if(this.matched==uA.Matched?t="psi":this.matched==uA.Independent&&(this.expressed==pA.TwoProportions?t="p1":this.expressed==pA.OddsRatio?t="psi":this.expressed==pA.RelativeRisk&&(t="r")),t.length>0&&this.detAltMode===cA.Lower){let e=`${t}Alt`;"number"==typeof this[e]&&(t=e)}return t}getCITarget(){let t=NaN;if(this.matched===uA.Matched)t=this.output===lA.DetectableAlternative&&this.detAltMode===cA.Lower?this.psiAlt:this.psi;else if(this.matched===uA.Independent){let e;e=this.output===lA.DetectableAlternative&&this.detAltMode===cA.Lower?this.p1Alt:this.p1,this.expressed===pA.TwoProportions?t=e:this.expressed===pA.OddsRatio?t=Math.exp(Math.log(e)+Math.log(1-this.p0)-Math.log(this.p0)-Math.log(1-e)):this.expressed===pA.RelativeRisk&&(t=Math.exp(Math.log(e)-Math.log(this.p0)))}return t}getCI(){return this.output===lA.DetectableAlternative&&this.detAltMode===cA.Lower?this.ciAlt:this.ci}interpretation(){let t,e,n,r,i,s,o,a="",l=this.alpha.toString(),c=this.power.toString(),u=this.m.toString(),h=this.n.toString(),d=Math.round(this.n*this.m).toString(),p=this.p0.toString();return this.p1&&(t=this.p1.toString()),this.p1Alt&&(e=this.p1Alt.toString()),this.phi&&(n=this.phi.toString()),this.psi&&(r=this.psi.toString()),this.psiAlt&&(i=this.psiAlt.toString()),this.r&&(s=this.r.toString()),this.rAlt&&(o=this.rAlt.toString()),this.matched===uA.Matched?this.output===lA.SampleSize?a=`\n          We are planning a study of matched sets of cases and controls with\n          ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is\n          ${n}.  If the true odds ratio for disease in exposed subjects\n          relative to unexposed subjects is ${r}, we will need to study ${h}\n          case patients with ${u} matched control(s) per case to be able to\n          reject the null hypothesis that this odds ratio equals 1 with\n          probability (power) ${c}.  The Type I error probability\n          associated with this test of this null hypothesis is ${l}.\n        `:this.output===lA.Power?a=`\n          We are planning a study with ${h} matched sets of cases and controls\n          and ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is ${n}.\n          If the true odds ratio for disease in exposed subjects relative to\n          unexposed subjects is ${r}, we will be able to reject the null\n          hypothesis that this odds ratio equals 1 with probability (power)\n          ${c}. The Type I error probability associated with this test of this\n          null hypothesis is ${l}.\n        `:this.output===lA.DetectableAlternative&&(a=`\n          We are planning a study with ${h} matched sets of cases and controls\n          and ${u} matched control(s) per case.  Prior data indicate that the\n          probability of exposure among controls is ${p} and the correlation\n          coefficient for exposure between matched cases and controls is\n          ${n}.  We will be able to detect true odds ratios for disease of\n          ${i} or ${r} in exposed subjects relative to unexposed\n          subjects with probability (power) ${c}.  The Type I error\n          probability associated with this test of the null hypothesis that\n          this odds ratio equals 1 is ${l}.\n        `):this.matched===uA.Independent&&(this.case===hA.CaseControl?this.expressed===pA.TwoProportions?this.output===lA.SampleSize?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ${p}.  If the true\n              probability of exposure among cases is ${t}, we will need to\n              study ${h} case patients and ${d} control patients to be able to\n              reject the null hypothesis that the exposure rates for case and\n              controls are equal with probability (power) ${c}.  The Type I\n              error probability associated with this test of this null\n              hypothesis is ${l}.\n            `:this.output===lA.Power?a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ${p}.  If the true probability of\n              exposure among cases is ${t}, we will be able to reject the null\n              hypothesis that the exposure rates for case and controls are\n              equal with probability (power) ${c}. The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===lA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the probability of\n              exposure among controls is ${p}.  We will be able to detect true\n              probabilities of exposure among cases of ${e} or ${t} with\n              probability (power) ${c}.  The Type I error probability\n              associated with this test of the null hypothesis that the\n              exposure rates for case and controls are equal is ${l}.\n            `):this.expressed===pA.OddsRatio&&(this.output===lA.SampleSize?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the\n              probability of exposure among controls is ${p}.  If the true\n              odds ratio for disease in exposed subjects relative to unexposed\n              subjects is ${r}, we will need to study ${h} case patients and\n              ${d} control patients to be able to reject the null hypothesis\n              that this odds ratio equals 1 with probability (power) ${c}.\n              The Type I error probability associated with this test of this\n              null hypothesis is ${l}.\n            `:this.output===lA.Power?a=`\n              We are planning a study with ${h} case patients and ${d} control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ${p}.  If the true odds ratio for disease in\n              exposed subjects relative to unexposed subjects is ${r}, we\n              will be able to reject the null hypothesis that this odds ratio\n              equals 1 with probability (power) ${c}. The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===lA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} case patients and ${d} control\n              patients.  Prior data indicate that the probability of exposure\n              among controls is ${p}.  We will be able to detect true odds\n              ratios for disease of ${i} or ${r} in exposed subjects\n              relative to unexposed subjects with probability (power) ${c}.\n              The Type I error probability associated with this test of the\n              null hypothesis that this odds ratio equals 1 is ${l}.\n            `)):this.case===hA.Prospective&&(this.expressed===pA.TwoProportions?this.output===lA.SampleSize?a=`\n              We are planning a study of independent cases and controls with ${u}\n              control(s) per case.  Prior data indicate that the failure rate\n              among controls is ${p}.  If the true failure rate for experimental\n              subjects is ${t}, we will need to study ${h} experimental subjects\n              and ${d} control subjects to be able to reject the null hypothesis\n              that the failure rates for experimental and control subjects are\n              equal with probability (power) ${c}.  The Type I error\n              probability associated with this test of this null hypothesis is\n              ${l}.\n            `:this.output===lA.Power?a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  If the true failure rate for\n              experimental subjects is ${t}, we will be able to reject the\n              null hypothesis that the failure rates for experimental and\n              control subjects are equal with probability (power) ${c}. The\n              Type I error probability associated with this test of this null\n              hypothesis is ${l}.\n            `:this.output===lA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  We will be able to detect true failure\n              rates of ${e} or ${t} in exposed subjects with probability (power)\n              ${c}.  The Type I error probability associated with this test of\n              the null hypothesis that the failure rates for experimental and\n              control subjects are equal is ${l}.\n            `):this.expressed===pA.RelativeRisk&&(this.output===lA.SampleSize||this.output===lA.Power?a=`\n              We are planning a study of independent cases and controls with\n              ${u} control(s) per case.  Prior data indicate that the failure\n              rate among controls is ${p}.  If the true relative risk of\n              failure for experimental subjects relative to controls is ${s},\n              we will need to study ${h} experimental subjects and ${d}\n              control subjects to be able to reject the null hypothesis that\n              this relative risk equals 1 with probability (power) ${c}.\n              The Type I error probability associated with this test of this\n              null hypothesis is ${l}.\n            `:this.output===lA.DetectableAlternative&&(a=`\n              We are planning a study with ${h} experimental subjects and ${d}\n              control subjects.  Prior data indicate that the failure rate\n              among controls is ${p}.  We will be able to detect true relative\n              risks of ${o} or ${s} in exposed subjects relative to unexposed\n              subjects with probability (power) ${c}.  The Type I error\n              probability associated with this test of the null hypothesis that\n              this relative risk equals 1 is ${l}.\n            `))),this.method===dA.ChiSquare?a+="\n          We will use an uncorrected chi-squared statistic to evaluate\n          this null hypothesis.\n        ":this.method===dA.Fishers&&(a+="\n          We will use a continuity-corrected chi-squared statistic or\n          Fisher\u2019s exact test to evaluate this null hypothesis.\n        ")),a.replace(/\s+/g," ").trim()}}let gA=(()=>{class t{constructor(t){this.http=t,this.apiUrl=`${Tc.apiUrl}/dichot`}calculate(t){let e=`${this.apiUrl}/calc`,n=t.attribs(),r={headers:new py({"Content-Type":"application/json"})};return this.http.post(e,n,r).pipe(tf(this.handleError))}plotData(t,e,n){let r=`${this.apiUrl}/plotData`,i={models:t.map(t=>t.attribs()),ranges:e};"number"==typeof n&&(i.points=n);let s={headers:new py({"Content-Type":"application/json"})};return this.http.post(r,i,s).pipe(tf(this.handleError))}handleError(t,e){return t.error instanceof ErrorEvent?console.error("An error occurred:",t.error.message):console.error(`Backend returned code ${t.status}, `+"body was:",t.error),_b("Something bad happened; please try again later.")}}return t.\u0275fac=function(e){return new(e||t)(Yt(ky))},t.\u0275prov=ht({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mA=function(t){return t[t.X=0]="X",t[t.Y=1]="Y",t}({});class yA extends cE{constructor(t){super(),this.project=t}getXParam(t){return this.getParam(t,mA.X)}getYParam(t){return this.getParam(t,mA.Y)}getPlotData(t){let e,n=this.getDataKey(t);return n&&(e=this.project.models.map(t=>t[n])),e}getSelectedIndex(){return this.project.selectedIndex}getNumModels(){return this.project.models.length}getModelNames(){return this.project.models.map(t=>t.name)}updateModel(t,e,n){return this.project.updateModel(t,e,n)}getParam(t,e){let n,r=this.project.getModel(this.project.selectedIndex);if(r.output===lA.SampleSize)if(e===mA.X){if("top-left"==t||"top-left-export"==t)n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"};else if("top-right"==t||"top-right-export"==t){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}}else e===mA.Y&&(n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"});else if(r.output===lA.Power)if(e===mA.X){if("top-left"==t||"top-left-export"==t)n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"};else if("top-right"==t||"top-right-export"==t){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}}else e===mA.Y&&(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(r.output===lA.DetectableAlternative)if(e===mA.X)"top-left"==t||"top-left-export"==t?n={name:"n",range:this.project.sampleSizeRange,target:r.n,title:"Sample Size",sym:"n"}:"top-right"!=t&&"top-right-export"!=t||(n={name:"power",range:this.project.powerRange,target:r.power,title:"Power",sym:"1-\u03b2"});else if(e===mA.Y){let t=r.getDetAltParam(),e=this.getDetAltSym(t);n={name:t,range:this.project.detAltRange,target:r[t],title:"Detectable Alternative",sym:e}}return n}getDataKey(t){let e,n=this.project.getModel(this.project.selectedIndex);return n.output===lA.SampleSize?"top-left"==t||"top-left-export"==t?e="sampleSizeVsPower":"top-right"!=t&&"top-right-export"!=t||(e="sampleSizeVsDetAlt"):n.output===lA.Power?"top-left"==t||"top-left-export"==t?e="powerVsSampleSize":"top-right"!=t&&"top-right-export"!=t||(e="powerVsDetAlt"):n.output===lA.DetectableAlternative&&("top-left"==t||"top-left-export"==t?e="detAltVsSampleSize":"top-right"!=t&&"top-right-export"!=t||(e="detAltVsPower")),e}getDetAltSym(t){switch(t){case"psi":case"psiAlt":return"\u03c8";case"p1":case"p1Alt":return"p\u2081";case"r":case"rAlt":return"R"}return""}}class vA extends SE{constructor(t){super(),this.project=t}getXParam(){let t,e=this.project.getDetAltParam();switch(e){case"psi":case"psiAlt":t={name:"psi",range:this.project.pSpaceRange,title:"Odds ratio of exposure (\u03c8)",sym:"\u03c8"};break;case"p1":case"p1Alt":t={name:"p1",range:this.project.pSpaceRange,title:"Probability of the outcome for an experimental patient (p\u2081)",sym:"p\u2081"};break;case"r":case"rAlt":t={name:"r",range:this.project.pSpaceRange,title:"Relative risk of failure for experimental subjects relative to controls (R)",sym:"R"};break;default:throw new Error(`invalid param name: ${e}`)}return t}getGroups(){return this.project.models.map(t=>{let e=t.getCI();return{ci:{lower:e[0],upper:e[1],n:t.n},target:t.getCITarget(),sampDist:t.sampDist,ciValues:t.ciValues}})}getSelectedIndex(){return this.project.selectedIndex}updateTargetValue(t){let e=this.project.getDetAltParam();return this.project.updateModel(this.project.selectedIndex,e,t)}updateCIValue(t){return this.project.updateModel(this.project.selectedIndex,"n",t.n)}setIntermediateCIValue(t){this.project.getModel(this.project.selectedIndex).n=t.n}}class bA extends Zw{constructor(t){super(),this.dichotService=t,this.models=[],this.selectedIndex=0,this.changeHistory=[],this.customRanges=!1,this.fixedPSpace=Qw.Fixed}getLinePlotHandler(){return new yA(this)}getCIPlotHandler(){return new vA(this)}getSelectedIndex(){return this.selectedIndex}getChangeHistory(){return this.changeHistory}getModelOutput(){return this.models[this.selectedIndex].output}getModelInterpretation(){return this.models[this.selectedIndex].interpretation()}getModelCount(){return this.models.length}getTopYRange(){switch(this.getOutput()){case lA.SampleSize:return this.sampleSizeRange;case lA.Power:return this.powerRange;case lA.DetectableAlternative:return this.detAltRange}}setTopYRange(t){switch(this.getOutput()){case lA.SampleSize:this.sampleSizeRange=t;break;case lA.Power:this.powerRange=t;break;case lA.DetectableAlternative:this.detAltRange=t}}getTopLeftXRange(){switch(this.getOutput()){case lA.SampleSize:return this.powerRange;case lA.Power:case lA.DetectableAlternative:return this.sampleSizeRange}}setTopLeftXRange(t){switch(this.getOutput()){case lA.SampleSize:this.powerRange=t;break;case lA.Power:case lA.DetectableAlternative:this.sampleSizeRange=t}}getTopRightXRange(){switch(this.getOutput()){case lA.SampleSize:case lA.Power:return this.detAltRange;case lA.DetectableAlternative:return this.powerRange}}setTopRightXRange(t){switch(this.getOutput()){case lA.SampleSize:case lA.Power:this.detAltRange=t;break;case lA.DetectableAlternative:this.powerRange=t}}getBottomXRange(){return this.pSpaceRange}setBottomXRange(t){this.pSpaceRange=t}isCITargetDraggable(){return"delta"===this.getModelOutput()}isCIBoundsDraggable(){return"n"===this.getModelOutput()}getOutput(){if(this.models.length>0)return this.models[0].output}getOutputString(){return this.models.length>0?this.models[0].output.toString():""}getDetAltParam(){return this.models.length>0?this.models[0].getDetAltParam():""}getMatched(){return this.models.length>0?this.models[0].matched.toString():""}describeMatched(){if(this.models.length>0)switch(this.models[0].matched){case uA.Matched:return"Matched";case uA.Independent:return"Independent"}return""}describeCase(){if(this.models.length>0)switch(this.models[0].case){case hA.CaseControl:return"Case control";case hA.Prospective:return"Prospective"}return""}describeExpressed(){if(this.models.length>0)switch(this.models[0].expressed){case pA.FailureRates:return"Failure rates";case pA.RelativeRisk:return"Relative risk";case pA.TwoProportions:return"Two proportions";case pA.OddsRatio:return"Odds ratio"}return""}describeMethod(){if(this.models.length>0)switch(this.models[0].method){case dA.ChiSquare:return"Uncorrected chi-square test";case dA.Fishers:return"Fisher's exact test"}return""}getModel(t){return this.models[t]}addModel(t){return this.dichotService.calculate(t).pipe(U(t=>{let e=new fA(t);return e.name=this.getModelName(this.models.length),this.models.push(e),this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"add",index:this.models.length-1,params:e.attribs()}),this.updatePlotData()}))}updateModel(t,e,n){let r=this.models[t],i={[e]:n},s=[r];return"output"===e&&(s=this.models,this.customRanges=!1),"ci"===e?i.ciMode=!0:r.ciMode&&(i.ciMode=!1),s.forEach(t=>{Object.assign(t,i)}),gR(...s.map((t,e)=>this.dichotService.calculate(t).pipe(F(e=>{Object.assign(t,e)})))).pipe(U(()=>(this.customRanges||this.calculateRanges(),this.changeHistory.push({type:"change",index:t,key:e,params:r.attribs()}),this.updatePlotData())))}removeModel(t){return this.models.splice(t,1),this.changeHistory.push({type:"remove",index:t}),this.customRanges||this.calculateRanges(),this.updatePlotData()}updatePlotData(){return this.updatingPlotData.emit(),this.dichotService.plotData(this.models,{sampleSizeRange:this.sampleSizeRange,powerRange:this.powerRange,detAltRange:this.detAltRange,pSpaceRange:this.pSpaceRange},this.pointsPerPlot).pipe(F(t=>{if(void 0===this.pointsPerPlot&&(this.pointsPerPlot=t.points),t.data.forEach((t,e)=>{Object.assign(this.models[e],t)}),this.customRanges)return;let e,n,r,i=this.getOutput();for(let s=0,o=this.models.length;s<o;s++){let t=this.models[s];switch(i){case lA.SampleSize:n=this.makeXRange(t.sampleSizeVsPower,this.sampleSizeRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),r=this.makeXRange(t.sampleSizeVsDetAlt,this.sampleSizeRange),r.description="Detectable Alternative",0==s?this.detAltRange=r:this.detAltRange.combine(r);break;case lA.Power:e=this.makeXRange(t.powerVsSampleSize,this.powerRange),e.description="Sample Size",0==s?this.sampleSizeRange=e:this.sampleSizeRange.combine(e),r=this.makeXRange(t.powerVsDetAlt,this.sampleSizeRange),r.description="Detectable Alternative",0==s?this.detAltRange=r:this.detAltRange.combine(r);break;case lA.DetectableAlternative:n=this.makeXRange(t.detAltVsPower,this.detAltRange),n.description="Power",0==s?this.powerRange=n:this.powerRange.combine(n),e=this.makeXRange(t.detAltVsSampleSize,this.detAltRange),e.description="Sample Size",0==s?this.sampleSizeRange=e:this.sampleSizeRange.combine(e)}}this.previousRanges={sampleSizeRange:this.sampleSizeRange?this.sampleSizeRange.clone():void 0,powerRange:this.powerRange?this.powerRange.clone():void 0,detAltRange:this.detAltRange?this.detAltRange.clone():void 0,pSpaceRange:this.pSpaceRange?this.pSpaceRange.clone():void 0}}))}getModelName(t){switch(t){case 0:return"Primary";case 1:return"Secondary";case 2:return"Tertiary";case 3:return"Quaternary";case 4:return"Quinary";case 5:return"Senary";case 6:return"Septenary";case 7:return"Octonary";case 8:return"Nonary";case 9:return"Denary"}return`Line ${t+1}`}calculateRanges(){let t,e=[],n=[],r=[],i=[],s=this.getOutput();for(let o=0,a=this.models.length;o<a;o++){let a=this.models[o];switch(s){case lA.SampleSize:t=rE([.5*a.n,1.5*a.n],Kw),(0==o||t[0]<e[0])&&(e[0]=t[0]),(0==o||t[1]>e[1])&&(e[1]=t[1]);break;case lA.Power:0==o&&(n=[.01,1]);break;case lA.DetectableAlternative:a.getDetAltParam(),t=a.case===hA.CaseControl?a.detAltMode===cA.Lower?[.1,.9]:[1.1,a.psi+(a.psi-1)]:a.expressed===pA.RelativeRisk?a.detAltMode===cA.Lower?[.1,.9]:[1.1,a.r+(a.r-1)]:a.expressed===pA.OddsRatio?a.detAltMode===cA.Lower?[.1,.9]:[1.1,a.psi+(a.psi-1)]:a.detAltMode===cA.Lower?[a.p1Alt-(a.p0-a.p1Alt),a.p0-.1]:[a.p0+.1,a.p1+(a.p1-a.p0)],(0==o||t[0]<r[0])&&(r[0]=t[0]),(0==o||t[1]>r[1])&&(r[1]=t[1])}let l=a.getCI();if(this.fixedPSpace!==Qw.Fixed||a.matched!==uA.Matched&&a.expressed!==pA.RelativeRisk&&a.expressed!==pA.OddsRatio){let e=a.getCITarget(),n=3*Math.abs(l[1]-e);t=[l[0]-n,l[1]+n]}else{t=[0,7];let e=l[1]+1;e>t[1]&&(t[1]=e)}(0==o||t[0]<i[0])&&(i[0]=t[0]),(0==o||t[1]>i[1])&&(i[1]=t[1])}e.length>0?(this.sampleSizeRange=new dR(e[0],e[1]),this.sampleSizeRange.description="Sample Size"):this.sampleSizeRange=void 0,n.length>0?(this.powerRange=new dR(n[0],n[1]),this.powerRange.description="Power"):this.powerRange=void 0,r.length>0?(this.detAltRange=new dR(r[0],r[1]),this.detAltRange.description="Detectable Alternative"):this.detAltRange=void 0,i.length>0?(this.pSpaceRange=new dR(i[0],i[1]),this.pSpaceRange.description="Parameter Space"):this.pSpaceRange=void 0}makeXRange(t,e){let n=0,r=t.length-1,i=rE(t,(t,e)=>t.x-e.x);for(let o=0;o<i.length;o++)if("number"==typeof i[o].x&&i[o].y>=e.min){n=o;break}for(let o=i.length-1;o>=0;o--)if("number"==typeof i[o].x&&i[o].y<=e.max){r=o;break}let s=rE([i[n].x,i[r].x],Kw);return new dR(s[0],s[1])}paramsToString(t){let e=[];for(var n in t)"ciMode"!=n&&"deltaMode"!=n&&e.push("string"==typeof t[n]?`"${n}": "${t[n]}"`:`"${n}": ${t[n]}`);return`{ ${e.join(", ")} }`}describeChanges(t,e=!0){let n;return"add"==t.type?n=`Added model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:"remove"==t.type?n=`Removed model #${t.index+1}`:"change"==t.type&&(n=e?`Changed <span class="code">${t.key}</span> in model #${t.index+1}: <span class="code">${this.paramsToString(t.params)}</span>`:`Changed ${t.key} in model #${t.index+1}: ${this.paramsToString(t.params)}`),n}resetRanges(){this.previousRanges&&Object.assign(this,this.previousRanges)}}function wA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",25),Io(2,"Matched or independent?"),Xs(),Gs(3,"select",26),eo("ngModelChange",(function(e){return Ye(t),io().model.matched=e})),Ys(4,"option"),Gs(5,"option",13),Io(6,"Matched or paired"),Xs(),Gs(7,"option",27),Io(8,"Independent"),Xs(),Xs(),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.model.matched)}}function _A(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",28),Io(2,"Case control?"),Xs(),Gs(3,"select",29),eo("ngModelChange",(function(e){return Ye(t),io().model.case=e})),Ys(4,"option"),Gs(5,"option",30),Io(6,"Case control"),Xs(),Gs(7,"option",31),Io(8,"Prospective"),Xs(),Xs(),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.model.case)}}function xA(t,e){1&t&&(Gs(0,"option",37),Io(1,"Odds ratio"),Xs())}function CA(t,e){1&t&&(Gs(0,"option",38),Io(1,"Relative risk"),Xs())}function SA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",32),Io(2,"How is the alternative hypothesis expressed?"),Xs(),Gs(3,"select",33),eo("ngModelChange",(function(e){return Ye(t),io().model.expressed=e})),Ys(4,"option"),Gs(5,"option",34),Io(6,"Two proportions"),Xs(),Vs(7,xA,2,0,"option",35),Vs(8,CA,2,0,"option",36),Xs(),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.model.expressed),Ir(4),qs("ngIf","caseControl"==t.model.case),Ir(1),qs("ngIf","prospective"==t.model.case)}}function MA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",39),Io(2,"Uncorrected chi-square or Fisher's exact test?"),Xs(),Gs(3,"select",40),eo("ngModelChange",(function(e){return Ye(t),io().model.method=e})),Ys(4,"option"),Gs(5,"option",41),Io(6,"Uncorrected chi-square test"),Xs(),Gs(7,"option",42),Io(8,"Fisher's exact test"),Xs(),Xs(),Xs()}if(2&t){const t=io();Ir(3),qs("ngModel",t.model.method)}}function TA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",49),Io(2," Power "),Xs(),Gs(3,"input",50),eo("ngModelChange",(function(e){return Ye(t),io(2).model.power=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.power)}}function kA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",51),Io(2," Sample size ("),Gs(3,"i"),Io(4,"n"),Xs(),Io(5,") "),Xs(),Gs(6,"input",52),eo("ngModelChange",(function(e){return Ye(t),io(2).model.n=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(6),qs("ngModel",t.model.n)}}function EA(t,e){1&t&&(Gs(0,"label",53),Io(1," Probability of exposure in controls ("),Gs(2,"i"),Io(3,"p"),Gs(4,"sub"),Io(5,"0"),Xs(),Xs(),Io(6,") "),Xs())}function PA(t,e){1&t&&(Gs(0,"label",53),Io(1," Probability of the outcome for a control patient ("),Gs(2,"i"),Io(3,"p"),Gs(4,"sub"),Io(5,"0"),Xs(),Xs(),Io(6,") "),Xs())}function RA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",54),Io(2," Probability of the outcome for an experimental patient ("),Gs(3,"i"),Io(4,"p"),Gs(5,"sub"),Io(6,"1"),Xs(),Xs(),Io(7,") "),Xs(),Gs(8,"input",55),eo("ngModelChange",(function(e){return Ye(t),io(2).model.p1=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(8),qs("ngModel",t.model.p1)}}function AA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",56),Io(2," Relative risk of failure for experimental subjects relative to controls ("),Gs(3,"i"),Io(4,"R"),Xs(),Io(5,") "),Xs(),Gs(6,"input",57),eo("ngModelChange",(function(e){return Ye(t),io(2).model.r=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(6),qs("ngModel",t.model.r)}}function OA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",58),Io(2," Correlation coefficient for exposure (\u03c6) "),Xs(),Gs(3,"input",59),eo("ngModelChange",(function(e){return Ye(t),io(2).model.phi=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.phi)}}function IA(t,e){if(1&t){const t=Ks();Gs(0,"div",24),Gs(1,"label",60),Io(2," Odds ratio of exposure (\u03c8) "),Xs(),Gs(3,"input",61),eo("ngModelChange",(function(e){return Ye(t),io(2).model.psi=e})),Xs(),Xs()}if(2&t){const t=io(2);Ir(3),qs("ngModel",t.model.psi)}}function DA(t,e){if(1&t){const t=Ks();Gs(0,"div"),Gs(1,"div",24),Gs(2,"label",43),Io(3," Type I Error (\u03b1) "),Xs(),Gs(4,"input",44),eo("ngModelChange",(function(e){return Ye(t),io().model.alpha=e})),Xs(),Xs(),Vs(5,TA,4,1,"div",21),Vs(6,kA,7,1,"div",21),Gs(7,"div",24),Vs(8,EA,7,0,"label",45),Vs(9,PA,7,0,"label",45),Gs(10,"input",46),eo("ngModelChange",(function(e){return Ye(t),io().model.p0=e})),Xs(),Xs(),Vs(11,RA,9,1,"div",21),Gs(12,"div",24),Gs(13,"label",47),Io(14," Ratio of control/experimental subjects ("),Gs(15,"i"),Io(16,"m"),Xs(),Io(17,") "),Xs(),Gs(18,"input",48),eo("ngModelChange",(function(e){return Ye(t),io().model.m=e})),Xs(),Xs(),Vs(19,AA,7,1,"div",21),Vs(20,OA,4,1,"div",21),Vs(21,IA,4,1,"div",21),Xs()}if(2&t){const t=io();Ir(4),qs("ngModel",t.model.alpha),Ir(1),qs("ngIf","power"!=t.model.output),Ir(1),qs("ngIf","sampleSize"!=t.model.output),Ir(2),qs("ngIf","caseControl"==t.model.case),Ir(1),qs("ngIf","prospective"==t.model.case),Ir(1),qs("ngModel",t.model.p0),Ir(1),qs("ngIf","detAlt"!=t.model.output&&"independent"==t.model.matched&&"twoProportions"==t.model.expressed),Ir(7),qs("ngModel",t.model.m),Ir(1),qs("ngIf","detAlt"!=t.model.output&&"independent"==t.model.matched&&"prospective"==t.model.case&&"relativeRisk"==t.model.expressed),Ir(1),qs("ngIf","matched"==t.model.matched),Ir(1),qs("ngIf","detAlt"!=t.model.output&&("matched"==t.model.matched||"caseControl"==t.model.case&&"oddsRatio"==t.model.expressed))}}function jA(t,e){if(1&t&&(Gs(0,"div",62),Gs(1,"button",63),Io(2," Calculate "),Xs(),Xs()),2&t){io();const t=zs(2);Ir(1),qs("disabled",!t.form.valid)}}let NA=(()=>{class t extends Bw{constructor(t,e){super(),this.route=t,this.dichotService=e}ngOnInit(){this.model=new fA}onSubmit(){let t=new bA(this.dichotService);t.addModel(this.model).subscribe(()=>{this.calculate.emit(t)})}onToggleHelp(){this.toggleHelp.emit()}useExample(t){switch(t){case"matched":this.model.output=lA.Power,this.model.matched=uA.Matched,this.model.case=hA.CaseControl,this.model.expressed=void 0,this.model.method=void 0,this.model.alpha=.05,this.model.n=400,this.model.p0=.3,this.model.m=1,this.model.phi=.7,this.model.psi=2;break;case"ind-1":this.model.output=lA.Power,this.model.matched=uA.Independent,this.model.case=hA.Prospective,this.model.expressed=pA.TwoProportions,this.model.method=dA.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.p1=.5,this.model.m=1;break;case"ind-2":this.model.output=lA.Power,this.model.matched=uA.Independent,this.model.case=hA.Prospective,this.model.expressed=pA.RelativeRisk,this.model.method=dA.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.r=.5,this.model.m=1;break;case"ind-3":this.model.output=lA.Power,this.model.matched=uA.Independent,this.model.case=hA.CaseControl,this.model.expressed=pA.OddsRatio,this.model.method=dA.ChiSquare,this.model.alpha=.05,this.model.n=100,this.model.p0=.3,this.model.psi=.5,this.model.m=1}}showCalculateButton(){return void 0!==this.model.output&&(this.model.matched===uA.Matched&&void 0!==this.model.case||this.model.matched===uA.Independent&&void 0!==this.model.case&&void 0!==this.model.expressed&&void 0!==this.model.method)}}return t.\u0275fac=function(e){return new(e||t)(Us(Ag),Us(gA))},t.\u0275cmp=pe({type:t,selectors:[["dichot-start"]],features:[Vo],decls:37,vars:7,consts:[[1,"d-flex","flex-column","h-100"],[1,"h-100",3,"ngSubmit"],["startForm","ngForm"],[1,"d-flex","flex-column","form-controls"],[1,"form-group","mt-2"],[1,"d-flex","flex-row","justify-content-between","align-items-end","w-100","mb-2"],[1,"d-flex","flex-grow-1"],["for","dichot-start-output",1,"mb-0"],["type","button",1,"btn","btn-secondary","fa","fa-question-circle","p-1",3,"click"],[1,"d-flex","flex-shrink-1"],["id","dichot-start-example",1,"form-control",3,"change"],["example",""],["value",""],["value","matched"],["value","ind-1"],["value","ind-2"],["value","ind-3"],["id","dichot-start-output","required","","name","output",1,"form-control",3,"ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["class","form-group",4,"ngIf"],[4,"ngIf"],["class","d-flex flex-row calculate-button",4,"ngIf"],[1,"form-group"],["for","dichot-start-matched"],["id","dichot-start-matched","required","","name","matched",1,"form-control",3,"ngModel","ngModelChange"],["value","independent"],["for","dichot-start-case"],["id","dichot-start-case","required","","name","case",1,"form-control",3,"ngModel","ngModelChange"],["value","caseControl"],["value","prospective"],["for","dichot-start-expressed"],["id","dichot-start-expressed","required","","name","expressed",1,"form-control",3,"ngModel","ngModelChange"],["value","twoProportions"],["value","oddsRatio",4,"ngIf"],["value","relativeRisk",4,"ngIf"],["value","oddsRatio"],["value","relativeRisk"],["for","dichot-start-method"],["id","dichot-start-method","required","","name","method",1,"form-control",3,"ngModel","ngModelChange"],["value","chiSquare"],["value","fishers"],["for","dichot-start-alpha"],["id","dichot-start-alpha","type","number","step","0.01","min","0.01","max","0.99","required","","name","alpha",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0",4,"ngIf"],["id","dichot-start-p0","type","number","min","0.01","required","","name","p0",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-m"],["id","dichot-start-m","type","number","step","0.01","min","0.01","required","","name","m",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-power"],["id","dichot-start-power","type","number","step","0.01","min","0.01","max","0.99","required","","name","power",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-n"],["id","dichot-start-n","type","number","min","1","required","","name","n",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-p0"],["for","dichot-start-p1"],["id","dichot-start-p1","type","number","min","0.01","required","","name","p1",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-r"],["id","dichot-start-r","type","number","min","0.01","required","","name","r",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-phi"],["id","dichot-start-phi","type","number","min","0","required","","name","phi",1,"form-control",3,"ngModel","ngModelChange"],["for","dichot-start-psi"],["id","dichot-start-psi","type","number","min","0","required","","name","psi",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","calculate-button"],["type","submit",1,"btn","btn-success",3,"disabled"]],template:function(t,e){if(1&t){const t=Ks();Gs(0,"div",0),Gs(1,"form",1,2),eo("ngSubmit",(function(){return e.onSubmit()})),Gs(3,"div",3),Gs(4,"div",4),Gs(5,"div",5),Gs(6,"div",6),Gs(7,"label",7),Io(8," What do you want to know? "),Gs(9,"button",8),eo("click",(function(){return e.onToggleHelp()})),Xs(),Xs(),Xs(),Gs(10,"div",9),Gs(11,"select",10,11),eo("change",(function(){Ye(t);const n=zs(12);return e.useExample(n.value)})),Gs(13,"option",12),Io(14,"Use an example:"),Xs(),Gs(15,"option",13),Io(16,"Matched / Case Control"),Xs(),Gs(17,"option",14),Io(18,"Indep. / Prospective / Two Prop."),Xs(),Gs(19,"option",15),Io(20,"Indep. / Prospective / Rel. Risk"),Xs(),Gs(21,"option",16),Io(22,"Indep. / Case Control / Odds Ratio"),Xs(),Xs(),Xs(),Xs(),Gs(23,"select",17),eo("ngModelChange",(function(t){return e.model.output=t})),Ys(24,"option"),Gs(25,"option",18),Io(26,"Power"),Xs(),Gs(27,"option",19),Io(28,"Sample size"),Xs(),Gs(29,"option",20),Io(30,"Detectable alternative"),Xs(),Xs(),Xs(),Vs(31,wA,9,1,"div",21),Vs(32,_A,9,1,"div",21),Vs(33,SA,9,3,"div",21),Vs(34,MA,9,1,"div",21),Vs(35,DA,22,11,"div",22),Xs(),Vs(36,jA,3,1,"div",23),Xs(),Xs()}2&t&&(Ir(23),qs("ngModel",e.model.output),Ir(8),qs("ngIf",e.model.output),Ir(1),qs("ngIf",e.model.output),Ir(1),qs("ngIf",e.model.output&&"independent"==e.model.matched),Ir(1),qs("ngIf",e.model.output&&"independent"==e.model.matched),Ir(1),qs("ngIf",e.model.output&&e.model.matched&&e.model.case&&("matched"==e.model.matched||e.model.expressed&&e.model.method)),Ir(1),qs("ngIf",e.showCalculateButton()))},directives:[nb,rv,Gv,Tv,Rv,Mv,ib,nv,eb,Tu,gv,Yy],styles:["[_nghost-%COMP%]{height:100%}.form-controls[_ngcontent-%COMP%]{padding:5px;overflow:auto;max-height:calc(70vh - 80px)}.calculate-button[_ngcontent-%COMP%]{padding-top:10px;border-top:2px solid #888}"]}),t})();function FA(t,e){if(1&t){const t=Ks();Gs(0,"div",10),Gs(1,"div",11),Gs(2,"label",12),Io(3,"Name:"),Xs(),Gs(4,"input",13),eo("ngModelChange",(function(e){return Ye(t),io().model.name=e})),Xs(),Xs(),Gs(5,"button",14),eo("click",(function(){return Ye(t),io().onRemoveButtonClicked()})),Ys(6,"i",15),Io(7," Remove "),Xs(),Xs()}if(2&t){const t=io();Ir(2),co("for","dichot-project-model-",t.index,"-name"),Ir(2),co("id","dichot-project-model-",t.index,"-name"),qs("ngModel",t.model.name)}}function LA(t,e){1&t&&(Gs(0,"div",17),Io(1," Probability of exposure in controls ("),Gs(2,"i"),Io(3,"p"),Gs(4,"sub"),Io(5,"0"),Xs(),Xs(),Io(6,") "),Xs())}function $A(t,e){1&t&&(Gs(0,"div",17),Io(1," Probability of the outcome for a control patient ("),Gs(2,"i"),Io(3,"p"),Gs(4,"sub"),Io(5,"0"),Xs(),Xs(),Io(6,") "),Xs())}function VA(t,e){if(1&t&&(Vs(0,LA,7,0,"div",16),Vs(1,$A,7,0,"div",16)),2&t){const t=io();qs("ngIf","caseControl"==t.model.case),Ir(1),qs("ngIf","prospective"==t.model.case)}}function zA(t,e){1&t&&(Gs(0,"div",17),Io(1," Probability of the outcome for an experimental patient ("),Gs(2,"i"),Io(3,"p"),Gs(4,"sub"),Io(5,"1"),Xs(),Xs(),Io(6,") "),Xs())}function UA(t,e){if(1&t){const t=Ks();Gs(0,"div",2),Gs(1,"app-range-slider",20),eo("ngModelChange",(function(e){return Ye(t),io(2).changeModel("p1",e)})),tl(2,"round"),Vs(3,zA,7,0,"ng-template",7),Xs(),Xs()}if(2&t){const t=io(2);Ir(1),qs("min",t.min.p1)("max",t.max.p1)("hard-min",.01)("ngModel",el(2,4,t.model.p1))}}function HA(t,e){if(1&t){const t=Ks();Gs(0,"div",21),Gs(1,"div",22),Gs(2,"div",17),Io(3," Probability of the outcome for an experimental patient ("),Gs(4,"i"),Io(5,"p"),Gs(6,"sub"),Io(7,"1"),Xs(),Xs(),Io(8,") "),Gs(9,"strong"),Io(10,"(Computed value)"),Xs(),Xs(),Gs(11,"div",23),Gs(12,"div",24),Gs(13,"input",25),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(14,"label",26),Io(15),Xs(),Xs(),Gs(16,"div"),Gs(17,"input",27),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(18,"label",26),Io(19),Xs(),Xs(),Xs(),Xs(),Xs()}if(2&t){const t=io(2);Ir(13),co("id","dichot-project-model-",t.index,"-det-alt-which-lower"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Ir(1),jo(" ",t.model.p1Alt," (lower) "),Ir(2),co("id","dichot-project-model-",t.index,"-det-alt-which-upper"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Ir(1),jo(" ",t.model.p1," (upper) ")}}function BA(t,e){if(1&t&&(Gs(0,"div",1),Vs(1,UA,4,6,"div",18),Vs(2,HA,20,8,"div",19),Xs()),2&t){const t=io();Ir(1),qs("ngIf",!t.isOutput("detAlt")),Ir(1),qs("ngIf",t.isOutput("detAlt"))}}function qA(t,e){1&t&&(Gs(0,"div",17),Io(1," Ratio of control/experimental subjects ("),Gs(2,"i"),Io(3,"m"),Xs(),Io(4,") "),Xs())}function WA(t,e){1&t&&(Gs(0,"div",17),Io(1," Relative risk of failure for experimental subjects relative to controls ("),Gs(2,"i"),Io(3,"R"),Xs(),Io(4,") "),Xs())}function GA(t,e){if(1&t){const t=Ks();Gs(0,"div",2),Gs(1,"app-range-slider",28),eo("ngModelChange",(function(e){return Ye(t),io(2).changeModel("r",e)})),tl(2,"round"),Vs(3,WA,5,0,"ng-template",7),Xs(),Xs()}if(2&t){const t=io(2);Ir(1),qs("min",t.min.r)("max",t.max.r)("hard-min",.01)("ngModel",el(2,4,t.model.r))}}function XA(t,e){if(1&t){const t=Ks();Gs(0,"div",21),Gs(1,"div",22),Gs(2,"div",17),Io(3," Relative risk of failure for experimental subjects relative to controls ("),Gs(4,"i"),Io(5,"R"),Xs(),Io(6,") "),Gs(7,"strong"),Io(8,"(Computed value)"),Xs(),Xs(),Gs(9,"div",23),Gs(10,"div",24),Gs(11,"input",25),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(12,"label",26),Io(13),Xs(),Xs(),Gs(14,"div"),Gs(15,"input",27),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(16,"label",26),Io(17),Xs(),Xs(),Xs(),Xs(),Xs()}if(2&t){const t=io(2);Ir(11),co("id","dichot-project-model-",t.index,"-det-alt-which-lower"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Ir(1),jo(" ",t.model.rAlt," (lower) "),Ir(2),co("id","dichot-project-model-",t.index,"-det-alt-which-upper"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Ir(1),jo(" ",t.model.r," (upper) ")}}function YA(t,e){if(1&t&&(Gs(0,"div",1),Vs(1,GA,4,6,"div",18),Vs(2,XA,18,8,"div",19),Xs()),2&t){const t=io();Ir(1),qs("ngIf",!t.isOutput("detAlt")),Ir(1),qs("ngIf",t.isOutput("detAlt"))}}function QA(t,e){1&t&&(Gs(0,"div",17),Io(1," Correlation coefficient for exposure (\u03c6) "),Xs())}function ZA(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Gs(1,"div",2),Gs(2,"app-range-slider",29),eo("ngModelChange",(function(e){return Ye(t),io().changeModel("phi",e)})),tl(3,"round"),Vs(4,QA,2,0,"ng-template",7),Xs(),Xs(),Xs()}if(2&t){const t=io();Ir(2),qs("min",t.min.phi)("max",t.max.phi)("hard-min",.01)("ngModel",el(3,4,t.model.phi))}}function KA(t,e){1&t&&(Gs(0,"div",17),Io(1," Odds ratio of exposure (\u03c8) "),Xs())}function JA(t,e){if(1&t){const t=Ks();Gs(0,"div",2),Gs(1,"app-range-slider",30),eo("ngModelChange",(function(e){return Ye(t),io(2).changeModel("psi",e)})),tl(2,"round"),Vs(3,KA,2,0,"ng-template",7),Xs(),Xs()}if(2&t){const t=io(2);Ir(1),qs("min",t.min.psi)("max",t.max.psi)("hard-min",.01)("ngModel",el(2,4,t.model.psi))}}function tO(t,e){if(1&t){const t=Ks();Gs(0,"div",21),Gs(1,"div",22),Gs(2,"div",17),Io(3," Odds ratio of exposure (\u03c8) "),Gs(4,"strong"),Io(5,"(Computed value)"),Xs(),Xs(),Gs(6,"div",23),Gs(7,"div",24),Gs(8,"input",25),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(9,"label",26),Io(10),Xs(),Xs(),Gs(11,"div"),Gs(12,"input",27),eo("ngModelChange",(function(e){return Ye(t),io(2).model.detAltMode=e}))("ngModelChange",(function(e){return Ye(t),io(2).changeModel("detAltMode",e)})),Xs(),Gs(13,"label",26),Io(14),Xs(),Xs(),Xs(),Xs(),Xs()}if(2&t){const t=io(2);Ir(8),co("id","dichot-project-model-",t.index,"-det-alt-which-lower"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-lower"),Ir(1),jo(" ",t.model.psiAlt," (lower) "),Ir(2),co("id","dichot-project-model-",t.index,"-det-alt-which-upper"),qs("ngModel",t.model.detAltMode),Ir(1),co("for","dichot-project-model-",t.index,"-det-alt-which-upper"),Ir(1),jo(" ",t.model.psi," (upper) ")}}function eO(t,e){if(1&t&&(Gs(0,"div",1),Vs(1,JA,4,6,"div",18),Vs(2,tO,15,8,"div",19),Xs()),2&t){const t=io();Ir(1),qs("ngIf",!t.isOutput("detAlt")),Ir(1),qs("ngIf",t.isOutput("detAlt"))}}let nO=(()=>{class t{constructor(t){this.palette=t,this.modelChanged=new sl,this.remove=new sl}ngOnInit(){this.model=this.project.getModel(this.index),this.color=this.palette.getColor(this.index),this.initializeSliderRanges()}changeModel(t,e){this.project.updateModel(this.index,t,e).subscribe(()=>{this.updateSliderRanges(),this.modelChanged.emit()})}isOutput(t){return this.model.output===t}onRemoveButtonClicked(){this.remove.emit()}initializeSliderRanges(){this.min=new fA(this.model),this.max=new fA(this.model),this.min.alpha=.01,this.max.alpha=.99,this.min.power=.01,this.max.power=.99,this.initializeSliderRange("n"),this.initializeSliderRange("p0"),this.initializeSliderRange("m"),this.model.matched===uA.Matched?(this.initializeSliderRange("phi"),this.initializeSliderRange("psi")):this.model.matched===uA.Independent&&(this.model.expressed===pA.TwoProportions?this.initializeSliderRange("p1"):this.model.expressed===pA.RelativeRisk?this.initializeSliderRange("r"):this.model.expressed===pA.OddsRatio&&this.initializeSliderRange("psi"))}initializeSliderRange(t){let e=this.model[t],n=rE([.5*e,1.5*e],Kw);this.min[t]=n[0],this.max[t]=n[1]}updateSliderRanges(){this.updateSliderRange("n"),this.updateSliderRange("p0"),this.updateSliderRange("m"),this.model.matched===uA.Matched?(this.updateSliderRange("phi"),this.updateSliderRange("psi")):this.model.matched===uA.Independent&&(this.model.expressed===pA.TwoProportions?this.updateSliderRange("p1"):this.model.expressed===pA.RelativeRisk?this.updateSliderRange("r"):this.model.expressed===pA.OddsRatio&&this.updateSliderRange("psi"))}updateSliderRange(t){let e=this.model[t];e<this.min[t]?this.min[t]=Math.floor(e):e>this.max[t]&&(this.max[t]=Math.ceil(e))}}return t.\u0275fac=function(e){return new(e||t)(Us(sE))},t.\u0275cmp=pe({type:t,selectors:[["dichot-project-model"]],inputs:{project:"project",index:"index"},outputs:{modelChanged:"modelChanged",remove:"remove"},decls:27,vars:43,consts:[["class","form-inline justify-content-between mb-2",4,"ngIf"],[1,"grow-horiz"],[1,"grow-vert","range-slider"],["name","alpha","label","Type I Error (\u03b1)",3,"min","max","hard-min","hard-max","ngModel","ngModelChange"],["name","n","label","Sample size","step","1",3,"min","max","hard-min","is-output","ngModel","ngModelChange"],["name","power","label","Power",3,"min","max","hard-min","hard-max","is-output","ngModel","ngModelChange"],["name","p0",3,"min","max","hard-min","ngModel","ngModelChange"],["rsLabel",""],["class","grow-horiz",4,"ngIf"],["name","m",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","name","type","text",1,"form-control",3,"id","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-minus-circle"],["class","label",4,"ngIf"],[1,"label"],["class","grow-vert range-slider",4,"ngIf"],["class","grow-vert output",4,"ngIf"],["name","p1",3,"min","max","hard-min","ngModel","ngModelChange"],[1,"grow-vert","output"],[1,"det-alt","p-1"],[1,"d-flex","flex-row","mt-2"],[1,"ml-2","mr-4"],["type","radio","value","lower",3,"id","ngModel","ngModelChange"],[1,"pl-1",3,"for"],["type","radio","value","upper",3,"id","ngModel","ngModelChange"],["name","r",3,"min","max","hard-min","ngModel","ngModelChange"],["name","phi",3,"min","max","hard-min","ngModel","ngModelChange"],["name","psi",3,"min","max","hard-min","ngModel","ngModelChange"]],template:function(t,e){1&t&&(Vs(0,FA,8,3,"div",0),Gs(1,"div",1),Gs(2,"div",2),Gs(3,"app-range-slider",3),eo("ngModelChange",(function(t){return e.changeModel("alpha",t)})),tl(4,"round"),Xs(),Xs(),Xs(),Gs(5,"div",1),Gs(6,"div",2),Gs(7,"app-range-slider",4),eo("ngModelChange",(function(t){return e.changeModel("n",t)})),tl(8,"ceil"),Xs(),Xs(),Xs(),Gs(9,"div",1),Gs(10,"div",2),Gs(11,"app-range-slider",5),eo("ngModelChange",(function(t){return e.changeModel("power",t)})),tl(12,"round"),Xs(),Xs(),Xs(),Gs(13,"div",1),Gs(14,"div",2),Gs(15,"app-range-slider",6),eo("ngModelChange",(function(t){return e.changeModel("p0",t)})),tl(16,"round"),Vs(17,VA,2,2,"ng-template",7),Xs(),Xs(),Xs(),Vs(18,BA,3,2,"div",8),Gs(19,"div",1),Gs(20,"div",2),Gs(21,"app-range-slider",9),eo("ngModelChange",(function(t){return e.changeModel("m",t)})),tl(22,"round"),Vs(23,qA,5,0,"ng-template",7),Xs(),Xs(),Xs(),Vs(24,YA,3,2,"div",8),Vs(25,ZA,5,6,"div",8),Vs(26,eO,3,2,"div",8)),2&t&&(qs("ngIf",e.project.models.length>1),Ir(3),qs("min",e.min.alpha)("max",e.max.alpha)("hard-min",e.min.alpha)("hard-max",e.max.alpha)("ngModel",el(4,33,e.model.alpha)),Ir(2),wo("output",e.isOutput("sampleSize")),Ir(2),qs("min",e.min.n)("max",e.max.n)("hard-min",1)("is-output","sampleSize"==e.model.output)("ngModel",el(8,35,e.model.n)),Ir(2),wo("output",e.isOutput("power")),Ir(2),qs("min",e.min.power)("max",e.max.power)("hard-min",e.min.power)("hard-max",e.max.power)("is-output","power"==e.model.output)("ngModel",el(12,37,e.model.power)),Ir(4),qs("min",e.min.p0)("max",e.max.p0)("hard-min",.01)("ngModel",el(16,39,e.model.p0)),Ir(3),qs("ngIf","independent"==e.model.matched&&"twoProportions"==e.model.expressed),Ir(3),qs("min",e.min.m)("max",e.max.m)("hard-min",.01)("ngModel",el(22,41,e.model.m)),Ir(3),qs("ngIf","independent"==e.model.matched&&"relativeRisk"==e.model.expressed),Ir(1),qs("ngIf","matched"==e.model.matched),Ir(1),qs("ngIf","matched"==e.model.matched||"caseControl"==e.model.case&&"oddsRatio"==e.model.expressed))},directives:[Tu,WP,nv,eb,BP,Yy,vv],pipes:[GP,UR],styles:[".output[_ngcontent-%COMP%]{order:1}.output[_ngcontent-%COMP%]   .det-alt[_ngcontent-%COMP%], .output[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#d8ecf3;border-radius:.5em}.order-2[_ngcontent-%COMP%]{order:2}.alt[_ngcontent-%COMP%]{margin-top:5px}.alt[_ngcontent-%COMP%]   .range-slider[_ngcontent-%COMP%]{background-color:#ff9;border-radius:.5em}"]}),t})();const rO=["tabset"];function iO(t,e){if(1&t&&(Gs(0,"p"),Io(1),Xs()),2&t){const t=io(2);Ir(1),jo(" Matched / ",t.project.describeCase()," ")}}function sO(t,e){if(1&t&&(Gs(0,"p"),Io(1),Xs()),2&t){const t=io(2);Ir(1),Fo(" Independent / ",t.project.describeCase()," / ",t.project.describeExpressed()," / ",t.project.describeMethod()," ")}}function oO(t,e){if(1&t){const t=Ks();Gs(0,"li",16),Gs(1,"a",17),eo("click",(function(){Ye(t);const n=e.index;return io(3).selectModel(n)})),Ys(2,"i",18),Xs(),Xs()}if(2&t){const t=e.index,n=io(3);Ir(1),wo("active",t==n.project.selectedIndex),Ir(1),bo("color",n.getColor(t))}}function aO(t,e){if(1&t&&(Gs(0,"ul",14),Vs(1,oO,3,4,"li",15),Xs()),2&t){const t=io(2);Ir(1),qs("ngForOf",t.project.models)("ngForTrackBy",t.trackByIndex)}}function lO(t,e){if(1&t){const t=Ks();Gs(0,"div",19),Gs(1,"dichot-project-model",20),eo("modelChanged",(function(){return Ye(t),io(2).onModelChanged()}))("remove",(function(){Ye(t);const n=e.index;return io(2).onModelRemove(n)})),Xs(),Xs()}if(2&t){const t=e.index,n=io(2);wo("active",t==n.project.selectedIndex)("tab",n.project.models.length>1),Ir(1),qs("project",n.project)("index",t)}}function cO(t,e){if(1&t){const t=Ks();Gs(0,"div",1),Vs(1,iO,2,1,"p",2),Vs(2,sO,2,3,"p",2),Gs(3,"div",3),Gs(4,"div",4),Gs(5,"label",5),Io(6,"Output:"),Xs(),Gs(7,"select",6),eo("ngModelChange",(function(e){return Ye(t),io().changeOutput(e)})),Gs(8,"option",7),Io(9,"Power"),Xs(),Gs(10,"option",8),Io(11,"Sample size"),Xs(),Gs(12,"option",9),Io(13,"Detectable alternative"),Xs(),Xs(),Xs(),Gs(14,"button",10),eo("click",(function(){return Ye(t),io().addModel()})),Ys(15,"i",11),Io(16," Add line "),Xs(),Xs(),Vs(17,aO,2,2,"ul",12),Vs(18,lO,2,6,"div",13),Xs()}if(2&t){const t=io();Ir(1),qs("ngIf","matched"==t.project.getMatched()),Ir(1),qs("ngIf","independent"==t.project.getMatched()),Ir(3),co("for","dichot-project-",t.name,"-output"),Ir(2),co("id","dichot-project-",t.name,"-output"),qs("ngModel",t.project.getOutput()),Ir(10),qs("ngIf",t.project.models.length>1),Ir(1),qs("ngForOf",t.project.models)}}const uO=[{path:"dichot",component:uR,data:{type:Hw.Dichot},children:[{path:"",component:NA},{path:":id",component:(()=>{class t extends qw{constructor(t,e,n,r,i){super(),this.projectService=t,this.plotOptions=e,this.palette=n,this.router=r,this.route=i}ngOnInit(){this.route.paramMap.subscribe(t=>{let e=t.get("id");if(e){let t=parseInt(e)-1;this.name=`${t}`,this.project=this.projectService.getProject(Hw.Dichot,t)}else this.project=void 0;this.project?this.selectedModel=this.project.getModel(this.project.selectedIndex):(this.selectedModel=void 0,this.router.navigate([".."],{relativeTo:this.route})),this.projectSwitched.emit(this.project)})}changeOutput(t){this.project.updateModel(0,"output",t).subscribe(()=>{this.projectChanged.emit()})}selectModel(t){this.project.selectedIndex=t,this.selectedModel=this.project.getModel(t),this.projectChanged.emit()}addModel(){let t=this.selectedModel.shallowClone();this.project.addModel(t).subscribe(()=>{this.project.selectedIndex=this.project.models.length-1,this.projectChanged.emit()})}onModelRemove(t){this.removeModel(t)}removeModel(t){this.project.removeModel(t).subscribe(()=>{this.project.selectedIndex>=this.project.models.length&&this.project.selectedIndex--,this.projectChanged.emit()})}onModelChanged(){this.projectChanged.emit()}trackByIndex(t,e){return t}getColor(t){return this.palette.getColor(t,this.plotOptions.paletteTheme)}}return t.\u0275fac=function(e){return new(e||t)(Us(zw),Us(iE),Us(sE),Us($m),Us(Ag))},t.\u0275cmp=pe({type:t,selectors:[["dichot-project"]],viewQuery:function(t,e){var n;1&t&&vl(rO,!0),2&t&&ml(n=Cl())&&(e.tabset=n.first)},features:[Vo],decls:1,vars:1,consts:[["class","grow-vert",4,"ngIf"],[1,"grow-vert"],[4,"ngIf"],[1,"form-inline","justify-content-between","mb-2"],[1,"form-group"],[1,"mr-2",3,"for"],["name","output",1,"form-control",3,"id","ngModel","ngModelChange"],["value","power"],["value","sampleSize"],["value","detAlt"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus-circle"],["class","nav nav-tabs mt-2",4,"ngIf"],["class","project-model",3,"active","tab",4,"ngFor","ngForOf"],[1,"nav","nav-tabs","mt-2"],["class","nav-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item"],[1,"nav-link","nav-model-link",3,"click"],[1,"fa","fa-square"],[1,"project-model"],[3,"project","index","modelChanged","remove"]],template:function(t,e){1&t&&Vs(0,cO,19,7,"div",0),2&t&&qs("ngIf",e.project)},directives:[Tu,Mv,nv,eb,Tv,Rv,Su,nO],styles:[".overview[_ngcontent-%COMP%]{text-align:right}.btn-secondary[_ngcontent-%COMP%]{padding:.3rem}ul.nav[_ngcontent-%COMP%]{border-bottom:0;z-index:1}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]{margin-bottom:-1px}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]{cursor:pointer;background-color:#ddd;border-color:#bbb #bbb #aaa;font-size:x-large;padding:.25rem .75rem}ul.nav[_ngcontent-%COMP%]   li.nav-item[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%]{border-color:#aaa #aaa #f6f6f6;background-color:#f6f6f6}.project-model[_ngcontent-%COMP%]{display:none}.project-model.active[_ngcontent-%COMP%]{display:flex;flex:auto;flex-direction:column}.project-model.tab[_ngcontent-%COMP%]{padding:1rem .5rem 0;border:1px solid #aaa;background-color:#f6f6f6}"]}),t})()}]}];let hO=(()=>{class t{}return t.\u0275mod=ye({type:t}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[gA],imports:[[Ou,ob,Uy,$w,ny.forChild(uO),Vw]]}),t})(),dO=(()=>{class t{constructor(){this.konami=new sl,this.konamiKeys=[38,38,40,40,37,39,37,39,66,65],this.keyIndex=0}onKeyDown(t){Tc.activateKonami&&(t.keyCode===this.konamiKeys[this.keyIndex]?(this.keyIndex++,this.keyIndex===this.konamiKeys.length&&this.konami.emit()):this.keyIndex=0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=be({type:t,selectors:[["","appKonami",""]],hostBindings:function(t,e){1&t&&eo("keydown",(function(t){return e.onKeyDown(t)}),!1,Vn)},outputs:{konami:"konami"}}),t})();const pO=["menu"],fO=function(){return{exact:!0}};function gO(t,e){if(1&t){const t=Ks();Gs(0,"div",9),eo("@mainState.start",(function(){return Ye(t),io().mainAnimationStart()}))("@mainState.done",(function(){return Ye(t),io().animationDone()})),Gs(1,"ul",10),Gs(2,"li",11),Gs(3,"a",12),eo("click",(function(e){return Ye(t),io().showTTest(),e.preventDefault()})),Io(4,"t-test"),Xs(),Xs(),Gs(5,"li",11),Gs(6,"a",13),Io(7,"z-test"),Xs(),Xs(),Gs(8,"li",11),Gs(9,"a",14),Io(10,"Dichotomous"),Xs(),Xs(),Gs(11,"li",11),Gs(12,"a",15),Io(13,"Survival"),Xs(),Xs(),Gs(14,"li",11),Gs(15,"a",16),Io(16,"Regression"),Xs(),Xs(),Gs(17,"li",11),Gs(18,"a",17),Io(19,"Mantel-Haenszel"),Xs(),Xs(),Gs(20,"li",11),Gs(21,"a",18),Ys(22,"i",19),Xs(),Xs(),Xs(),Xs()}if(2&t){const t=io(),e=zs(10);qs("@mainState",t.state),Ir(12),qs("ngbPopover",e),Ir(3),qs("ngbPopover",e),Ir(3),qs("ngbPopover",e),Ir(3),qs("routerLinkActiveOptions",Qa(5,fO))}}function mO(t,e){if(1&t){const t=Ks();Gs(0,"div",20),eo("@ttestState.done",(function(){return Ye(t),io().animationDone()})),Gs(1,"div",21),Io(2,"t-test Design:"),Xs(),Gs(3,"ul",10),Gs(4,"li",11),Gs(5,"a",22),Io(6,"Paired"),Xs(),Xs(),Gs(7,"li",11),Gs(8,"a",23),Io(9,"Independent"),Xs(),Xs(),Gs(10,"li",11),Gs(11,"a",24),eo("click",(function(e){return Ye(t),io().showMain(),e.preventDefault()})),Ys(12,"i",19),Xs(),Xs(),Xs(),Xs()}2&t&&(qs("@ttestState",io().state),Ir(11),qs("routerLinkActiveOptions",Qa(2,fO)))}function yO(t,e){1&t&&Io(0," under development\n")}var vO=function(t){return t.Main="main",t.MainTTest="mainttest",t.TTestInit="ttestinit",t.TTest="ttest",t.TTestMain="ttestmain",t}({});let bO=(()=>{class t{constructor(t){this.router=t,this.urlInitialized=!1,this.state=vO.Main}ngOnInit(){this.router.events.pipe($p(t=>t instanceof Tf)).subscribe(t=>{this.urlChanged(t.url)})}showTTest(){this.state===vO.Main&&(this.state=vO.MainTTest,this.popoverElement&&this.popoverElement.close())}showMain(){this.state===vO.TTest&&(this.state=vO.TTestMain)}mainAnimationStart(){if(this.state===vO.MainTTest){let t=this.menuElement.nativeElement,e=t.getBoundingClientRect();t.style.width=`${e.width}px`}}animationDone(){this.state===vO.MainTTest?this.state=vO.TTestInit:this.state===vO.TTestMain&&(this.state=vO.Main)}isMainVisible(){return this.state===vO.Main||this.state==vO.MainTTest}isTTestVisible(){return this.state===vO.TTest||this.state===vO.TTestMain||this.state===vO.TTestInit}urlChanged(t){/^\/t-test\//.test(t)?(this.state=vO.TTest,setTimeout(()=>{this.menuElement.nativeElement.style.width="auto"},1e3)):/^\/(z-test|dichot)/.test(t)?(this.state=vO.Main,this.popoverElement&&this.popoverElement.close()):(this.state=vO.Main,!this.urlInitialized&&this.popoverElement&&setTimeout(()=>{this.popoverElement&&this.popoverElement.open()},200)),this.urlInitialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Us($m))},t.\u0275cmp=pe({type:t,selectors:[["app-menu"]],viewQuery:function(t,e){var n;1&t&&(yl(pO,!0),vl(Cw,!0)),2&t&&(ml(n=Cl())&&(e.menuElement=n.first),ml(n=Cl())&&(e.popoverElement=n.first))},decls:11,vars:2,consts:[[1,"navbar","d-flex","flex-nowrap","flex-row","justify-content-between",2,"flex","0 0 auto"],[1,"navbar-brand"],["src","assets/ps.jpg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["routerLink",""],[1,"d-flex","flex-row","menu"],["menu",""],["class","d-flex flex-row","ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],["underdevelopmentHelp",""],["ngbPopover","Choose a study design to get started.","container","body","placement","bottom","triggers","",1,"d-flex","flex-row"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#",1,"nav-link",3,"click"],["routerLink","/z-test","routerLinkActive","active",1,"nav-link"],["routerLink","/dichot","routerLinkActive","active",1,"nav-link"],["href","#","popoverTitle","Survival","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Regression","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["href","#","popoverTitle","Mantel-Haenszel","placement","bottom","triggers","hover","container","body",1,"nav-link","disabled",3,"ngbPopover"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"fa","fa-home"],[1,"d-flex","flex-row"],[1,"navbar-text","mr-2"],["routerLink","/t-test/paired","routerLinkActive","active",1,"nav-link"],["routerLink","/t-test/ind","routerLinkActive","active",1,"nav-link"],["routerLink","","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions","click"]],template:function(t,e){1&t&&(Gs(0,"nav",0),Gs(1,"div",1),Ys(2,"img",2),Gs(3,"a",3),Io(4,"Power and Sample Size"),Xs(),Xs(),Gs(5,"div",4,5),Vs(7,gO,23,6,"div",6),Vs(8,mO,13,3,"div",7),Xs(),Xs(),Vs(9,yO,1,0,"ng-template",null,8,kl)),2&t&&(Ir(7),qs("ngIf",e.isMainVisible()),Ir(1),qs("ngIf",e.isTTestVisible()))},directives:[tw,zm,Tu,Cw,Hm],styles:[".navbar-brand[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.nav-link.disabled[_ngcontent-%COMP%]{cursor:not-allowed}.menu[_ngcontent-%COMP%]{justify-content:end;overflow:hidden}"],data:{animation:[uh("mainState",[fh("main, maininit",ph({opacity:1,transform:"translateX(0)"})),gh("main => mainttest",[hh("200ms",ph({opacity:0,transform:"translateX(-100%)"}))]),gh("void => main",[ph({opacity:0,transform:"translateX(-100%)"}),hh("200ms")])]),uh("ttestState",[fh("ttest",ph({opacity:1,transform:"translateX(0)",flexGrow:0})),fh("ttestinit",ph({opacity:1,transform:"translateX(0)",flexGrow:1})),gh("ttest => ttestmain",[hh("200ms",ph({opacity:0,transform:"translateX(-100%)"}))]),gh("ttestinit => ttest",hh("200ms")),gh("void => ttest",[ph({opacity:0,transform:"translateX(-100%)"}),hh("200ms")])])]}}),t})();function wO(t,e){if(1&t){const t=Ks();Gs(0,"audio",2),eo("ended",(function(){return Ye(t),io().audioEnded()})),Ys(1,"source",3),Xs()}}let _O=(()=>{class t{constructor(){this.konami=!1}ngOnInit(){}konamiCode(){this.konami=!0}audioEnded(){this.konami=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[["id","app","appKonami","",1,"container-fluid","d-flex","flex-column","h-100",3,"konami"],["autoplay","",3,"ended",4,"ngIf"],["autoplay","",3,"ended"],["src","assets/contra.mp3","type","audio/mpeg"]],template:function(t,e){1&t&&(Gs(0,"div",0),eo("konami",(function(){return e.konamiCode()})),Ys(1,"app-menu"),Vs(2,wO,2,0,"audio",1),Ys(3,"router-outlet"),Xs()),2&t&&(Ir(2),qs("ngIf",e.konami))},directives:[dO,bO,Tu,Wm],styles:[""]}),t})();const xO=[{path:"",component:(()=>{class t{constructor(){this.commitHash=xP.substr(0,7),this.buildTimestamp="2020-04-06T17:35:05-05:00"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=pe({type:t,selectors:[["app-welcome"]],decls:24,vars:4,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-4","d-flex","flex-column","align-items-end"],[1,"mb-3"],["src","assets/ps-large.png"],["src","assets/biostat.jpg"],[2,"font-size","smaller","text-align","center"],[1,"col-8"],[1,"mb-4"],["href","https://statcomp2.app.vumc.org/ps/"],["href","http://biostat.mc.vanderbilt.edu/wiki/Main/PowerSampleSize"]],template:function(t,e){1&t&&(Gs(0,"div",0),Gs(1,"div",1),Gs(2,"div",2),Gs(3,"div"),Gs(4,"div",3),Ys(5,"img",4),Xs(),Gs(6,"div",3),Ys(7,"img",5),Xs(),Gs(8,"div",6),Io(9),tl(10,"date"),Xs(),Xs(),Xs(),Gs(11,"div",7),Gs(12,"p",8),Io(13," PS is an interactive program for performing power and sample size calculations. It may be run off the internet at "),Gs(14,"a",9),Io(15,"https://statcomp2.app.vumc.org/ps/"),Xs(),Io(16," or downloaded for free. This version can be used for studies with dichotomous or continuous, response measures. A older version, which also handles other designs may be downloaded from "),Gs(17,"a",10),Io(18,"http://biostat.mc.vanderbilt.edu/wiki/Main/PowerSampleSize"),Xs(),Io(19,". Work on expanding the new version to handle all of the designs from the older version are in progress. "),Xs(),Gs(20,"p"),Io(21,"The alternative hypothesis of interest may be specified either in terms of differing means, or in terms of relative risks or odds ratios. Studies with dichotomous or continuous outcomes may involve either a matched or independent study design. The program can determine the sample size needed to detect a specified alternative hypothesis with the required power, the power with which a specific alternative hypothesis can be detected with a given sample size, or the specific alternative hypotheses that can be detected with a given power and sample size. "),Xs(),Gs(22,"p"),Io(23," The PS program can produce graphs to explore the relationships between power, sample size and detectable alternative hypotheses. It is often helpful to hold one of these variables constant and plot the other two against each other. The program can generate graphs of sample size versus power for a specific alternative hypothesis, sample size versus detectable alternative hypotheses for a specified power, or power versus detectable alternative hypotheses for a specified sample size. Multiple curves can be plotted on a single graphic. "),Xs(),Xs(),Xs(),Xs()),2&t&&(Ir(9),No(" Build version: ",e.commitHash," (",el(10,2,e.buildTimestamp),") "))},pipes:[Ru],styles:[""]}),t})()}];let CO=(()=>{class t{}return t.\u0275mod=ye({type:t,bootstrap:[_O]}),t.\u0275inj=dt({factory:function(e){return new(e||t)},providers:[Uw,nP,jE,sE,iE,zw],imports:[[lh,Ep,ny.forRoot(xO),Uy,$w,Vw,aA,hO]]}),t})();Tc.production&&function(){if(dr)throw new Error("Cannot enable prod mode after platform setup.");hr=!1}(),oh().bootstrapModule(CO).catch(t=>console.log(t))}},[[0,0]]]);